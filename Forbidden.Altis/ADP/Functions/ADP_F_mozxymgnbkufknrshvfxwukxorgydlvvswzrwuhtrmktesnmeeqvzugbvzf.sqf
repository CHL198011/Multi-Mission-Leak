private ["_yjhbfhqjdurcgyxorunnibpsdozeapetajveunogfvzgjbwhicbufsfllxezq","_dgrhywyalsatsawipxixxxwgxnirvwqwbeasusodkjhepmpeadzegvwvfiisevbaudrc","_jhbclnsgcjyttvcojivkxmlnwlzztgnotkguhixgmkbqcgklwrwmrokzgogt","_vblogtbmvbxbupfnezodvbzxorzujptmajfijiuqpavtclqygzywmvlnjcvbnlhhi"];  _yjhbfhqjdurcgyxorunnibpsdozeapetajveunogfvzgjbwhicbufsfllxezq = [_this,0,0,[0]] call BIS_fnc_param; kanSpecActivity = diag_tickTime;  switch (_yjhbfhqjdurcgyxorunnibpsdozeapetajveunogfvzgjbwhicbufsfllxezq) do { 	case 0: {  		_dgrhywyalsatsawipxixxxwgxnirvwqwbeasusodkjhepmpeadzegvwvfiisevbaudrc = [_this,1,[],[[]]] call BIS_fnc_param; 		if((call life_adminlevel) == 0) exitWith {}; 		 		_jhbclnsgcjyttvcojivkxmlnwlzztgnotkguhixgmkbqcgklwrwmrokzgogt = objNull; 		_vblogtbmvbxbupfnezodvbzxorzujptmajfijiuqpavtclqygzywmvlnjcvbnlhhi = 200; 		{ 			if((_x distance2d _dgrhywyalsatsawipxixxxwgxnirvwqwbeasusodkjhepmpeadzegvwvfiisevbaudrc) < _vblogtbmvbxbupfnezodvbzxorzujptmajfijiuqpavtclqygzywmvlnjcvbnlhhi && (_x != player)) then { 				_vblogtbmvbxbupfnezodvbzxorzujptmajfijiuqpavtclqygzywmvlnjcvbnlhhi = (_x distance2d _dgrhywyalsatsawipxixxxwgxnirvwqwbeasusodkjhepmpeadzegvwvfiisevbaudrc); 				if((_x != (vehicle _x)) && !(isNull (driver (vehicle _x)))) then { 					_jhbclnsgcjyttvcojivkxmlnwlzztgnotkguhixgmkbqcgklwrwmrokzgogt = driver (vehicle _x); 				} else { 					_jhbclnsgcjyttvcojivkxmlnwlzztgnotkguhixgmkbqcgklwrwmrokzgogt = _x; 				}; 			}; 		} foreach playableUnits; 		if!(isNull _jhbclnsgcjyttvcojivkxmlnwlzztgnotkguhixgmkbqcgklwrwmrokzgogt) then {[nil,_jhbclnsgcjyttvcojivkxmlnwlzztgnotkguhixgmkbqcgklwrwmrokzgogt,true] spawn ADP_fnc_bascqyunfhtyggxixryvmcqimzvfhhnwevcuvkrapgfwezcgbf;};  	}; 	 	 	 	case 1: {  		openMap true; 		kanSpecMap = true; 		 		if((call life_adminlevel) > 0) then { 			[] spawn life_fnc_gbfneayngklgasikrezvnbxdagipjjultqedpjarlvnpeqhddko; 			if(!life_markers) then {[] spawn ADP_fnc_mryrhitqjscpuwarpwrvxkjucemygyjvzglajewdlhjdmtkjjw}; 		}; 		 		closeDialog 7500; 		hint localize "STR_m_OpenedMapKanSpec"; 		 		if!(isNull kanSpecCurrent) then { 			((uiNamespace getVariable "RscDiary") displayCtrl 51) ctrlMapAnimAdd [0,0.03,getPos kanSpecCurrent];  			ctrlMapAnimCommit ((uiNamespace getVariable "RscDiary") displayCtrl 51); 		}; 		 		waitUntil {!visibleMap}; 		 		["kanSpecModeID", "onMapSingleClick"] call BIS_fnc_RemoveStackedEventHandler; 		[] spawn ADP_fnc_mamjhsmxzowbovnweugxquapdoiogtxhekfppmvmuuqvcuxpoxtblrkl; 		waitUntil {!isNull (findDisplay 7500)}; 		 		kanSpecMap = false; 	}; 	 	case 2: {  		kanSpecExitWithTp = true; 		closeDialog 7500; 	}; 	 	case 3: {  		if((vehicle kanSpecCurrent) isKindOf "Air") then { 			closeDialog 7500; 			waitUntil {isNull (attachedTo player)}; 		}; 		[(vehicle kanSpecCurrent)] spawn life_fnc_duvttcvereiugywbyetxjtjgqnkudhdygzdzmilbadvyfvqkdias; 	}; }; 