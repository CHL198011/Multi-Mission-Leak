private ["_target", "_mwjkimtyrgqywdaczzmfylgjonqdlwxfjqvmmbnafefcwkvfmzevjzbzhcqebaucegtau", "_aixidfnjpgyukbtsmegruaimqpjllkrwocvhjzoynzyramsunkvkddunsofqfbid", "_rweqcuuldtmcryiofanzpgfesiwcaxvtblqfejvzqyvsxbrclsfgsviqyqyqjtmrb", "_bkynclpmtkaczjeukzkdtvqnqdzsruevewnflkcuitrlgbzwqoxjrpdacczyaotcano", "_name", "_rxxddhgsjqzaezlfhkabeqhzeywucfvqfvhzdntpzqycfbvtqpbffmauevysm", "_OriginalSide", "_mgjbuxqqyjvclnfitxrrjevkmoqxasesqglnyvhgopsbwfteinmtgsbncuuikedqdr", 		"_rjizqubunthcacimqshczfiribghjifojhyitywiovqeqvlczygvpjscupaxmcuflymybn", "_t", "_wbhinutpqdbztwwwtoocwicrlogsaaefqjfecibnudgxjshnrztwsntbwagrqiyjxboy", "_jtnihgbwvmiwbrwpbytossvsusduygmwauvquzhrifaxkeevbhrutqdfztrydqlaaoi", "_dvdmoklsnaorolwycjxuxvpxdpyqyibemuwsragrcxnxmonxdauziqqhscwb", "_bvevqcerpvgxylancpdcqhpddwwdsywnktxspwqlicmlmdsycoyxjfiezbrpyuamyjq", "_jtnihgbwvmiwbrwpbytossvsusduygmwauvquzhrifaxkeevbhrutqdfztrydqlaaoisBG", "_dvdmoklsnaorolwycjxuxvpxdpyqyibemuwsragrcxnxmonxdauziqqhscwbsBG", "_dtihtqjipztkulkjkbdcyoqzvoeajqszizbskmzjbvwysmukenaofucklautacuiv", "_dtihtqjipztkulkjkbdcyoqzvoeajqszizbskmzjbvwysmukenaofucklautacuivFull", "_dmsfessreddfhqtwvixjhfslhgqgdffphnveqmdkfjrvuphggnsuiehyeuvrhyf", 		"_lfoabjuzwenmmewkmpjgqwnuwywopxvujqgiqogduxdtcerjmpubtgkioobuac", "_ytbqjtbgfdsfszfnbcyqhwojzxkfkwnxyzwueqgaocskddtkauvemlreqcdpdqsxk", "_muiocqejcxuzfzeaudfgpgtqpmkiruzavkmfciyieahkwwgijjlrfepfnqitr", "_dpmmcufdelorzqalffznvtorlggfvrgwpgdvvxsyzfvmdpdmvcfypxvdsbhsdhzv", "_sxlgpsxigsshfcdvvsfappyujmubxpgfzbyuzibxiebwqatudssndrqzzveujxxyuqqbl", "_epqwotdnuuktezrnajrywknbicbdlnhnuxccavaztgrxduptnbmhkdmztemzzjdhxdvbgx", "_qshgraywjneolkcbyreqjzmqmtzqvmmkpvnlskjwffnaiuvuvjbckavmazxzbscz", "_fsnolsihgmeyekeegxrjzmosgetcjufynobhtcznmfxxsfaxfzdlvpnzshfbfnjxge", 		"_dijvkykprxpteeflzbbvclswzqjcmshgktdmkumvvayfwsmmzyhsnklogommta", "_blaiieinalhohabqiieqhaqyeswzihpbzrxjlbbkmhdaayzxluaiaafnojjarixelnrbnr", "_apughmdoryemlhiffdtesxsctuohiegbfaheldzokzemeucgwsituphhsaxnpzjvhdi", "_ogyvnauuyrbjngdinyxnodxtkpkdwlrwidalgeaztngwjuromjkduhenfyeivjnpkmv", "_fwjffxdfsykfmjqzhedhksarntllhrfsrqqjgvdgxdvhoanxahsubqdmpqyebwdgpi", "_m", "_s", "_yngtjtvilgesqiuensgopmutbroaxnzjaumyokmhxstmkviiincjxdmijzhkue", "_zhbehvfcznegdfajovutlkwuzckvgdlymcbrahrnimurvocgjdzjqgpcamrcfwz", "_jmjrpweszzedtjlbszrvkeuyuriggfbrpcktjlumltaihyldjzzjvlxhnxse", "_esnihlfvgchukdfekjyzuguxyomlcwjkjjumzmuglvvxpzapbelxuwqilzjriads",  		"_eudukwvfmanxvkrslnexmumldgemrqnabkwagrcmvfhwvgtvshbydselexmebue", "_i", "_gyhnqoparsxurzgjoiqrkykmthalqufqzveypcofjngaotkhgplzblzkpcbxfnn", "_flcoserloeovynxyuvvugldkxvditfoqqginnsiplwvpqwntijlpbucamibjcqwljmn", "_tnmydriiceevcaumbdggqquxrfbfoljzbznpxlvljvfodvmrjrzzlluwetnb", "_dvkondklijxvozjfonkjbpkukhwetqopvnyulvocbvdkfmfaahvuydfatmibakqfqo", "_zhfbnegfwydsfzivvhplwgocnlwlrxkhdzhsiwpmrzxknjdbfugjlcqujuvjjoauxk", "_uscawuvnldlgsfntjzotdclunuuigfklpudzuupuwxishebfegdkgjrsxjrvjtayzp", "_mkrzecpgpljglqzdhbwilfewtjdacjbzfvtjmhkppbshzoulafkyhsnbbnqvitez", "_pfjrhaeellimqfrobioxpgwzeeurisoeylmmwueewddspgwzesysoeiilhhfpmasmlonga", "_aytivlwcckpfjasyeekdfftqftpbgcylvqltrtizdnkrekmmiennriqkyiafl","_qosmdrubambcpulvkgnzzpjpopeeqfvubivwtgzxjfghgmifyurlcaizjmne"];        disableSerialization;  if ( ( count _this ) > 0 ) then { _target = _this select 0; };  VM_scriptName="specta"; VM_SpectatorCamerasEnabled = False;  f_var_debugMode = 0;  cutText ["Initializing Spectator Script...","BLACK IN", 2];   vm_count = 0;  debugX = []; NORRN_noMarkersUpdates = false;   VM_CurrentCameraView = ""; KEG_Spect_Init = false; KEGs_tgtSelLast = 0;  KEGsEHlist = []; KEGsEHFlist = [];   if ( !(isNil "_target") && { ( alive _target ) } ) then  { 	 	KEGs_target = _target; } else { 	 	 	if ( isNil "KEGs_target" ) then { KEGs_target = player; }; };  KEGs_targetName = "unknown"; if ( alive KEGs_target ) then { KEGs_targetName = name KEGs_target };  KEGs_autoTarget = KEGs_target; KEGs_autoTargetOrg = KEGs_autoTarget; _qosmdrubambcpulvkgnzzpjpopeeqfvubivwtgzxjfghgmifyurlcaizjmne = time;  KEGsMouseButtons = [false, false]; KEGsMouseScroll = 0; KEGsMouseCoord = [0.5, 0.5]; KEGsUseNVG = false;   KEGsMarkerNames = false;  KEGsMarkerType = 1;  KEGsTags = false;  KEGsTagsStat = false;  KEGsAIfilter = false;  KEGsDeadFilter = false;  KEGsCombatActionFilter = false;   KEGsMarkerSize = 1.0;  KEGsMinimapZoom = 0.5;  KEGsSelect = 0;  KEGsCurrentSelectIdx = 0;  KEGs1stGunner = false;         KEGsNeedUpdateLB = false; mouseDeltaX = 0; mouseDeltaY = 0; sdistance = 5;  fangle  = 0;  fangleY = 15;  szoom = 0.976; _rweqcuuldtmcryiofanzpgfesiwcaxvtblqfejvzqyvsxbrclsfgsviqyqyqjtmrb = [];  KEGsTagSources = [];  KEGsTagStatSources = [];  KEGs_lastTgt = 0; _KEGs_dir = 0; KEGs_nameCache = [];  CheckNewUnitsReady = true; RefreshListReady = true;  KEGsOrgViewDistance = viewDistance; KEGsTempViewDistance = (2 * KEGsOrgViewDistance) min 10000 max 4000; setViewDistance KEGsTempViewDistance;  KEGs_camera_vision = 0; KEGscam_free_pitch = -45;  KEGs_ALT_PRESS = false; KEGs_CTRL_PRESS = false;  CameraLoop_count = 0;  spectate_events = compile preprocessFileLineNumbers format ["%1spectator\specta_events.sqf",MCC_path]; RefreshPlayerList = compile preprocessFileLineNumbers format ["%1spectator\RefreshPlayerList.sqf",MCC_path]; FreeLookMovementHandler = compile preprocessFileLineNumbers format ["%1spectator\FreeLookMovementHandler.sqf",MCC_path]; CameraMenuHandler = compile preprocessFileLineNumbers format ["%1spectator\CameraMenuHandler.sqf",MCC_path]; PlayerMenuHandler = compile preprocessFileLineNumbers format ["%1spectator\PlayerMenuHandler.sqf",MCC_path]; KEGsShowCombatMode = compile preprocessFileLineNumbers format ["%1spectator\specta_combatmode.sqf",MCC_path]; KEGsShowUnitLocator = compile preprocessFileLineNumbers format ["%1spectator\specta_locator.sqf",MCC_path];   if(isNil "KEGsShownSides") then { 	KEGsShownSides = [west, east, resistance, civilian]; };    VM_CheckOriginalSide =   { 	private ["_gyhnqoparsxurzgjoiqrkykmthalqufqzveypcofjngaotkhgplzblzkpcbxfnnnit", "_OriginalSide", "_mgjbuxqqyjvclnfitxrrjevkmoqxasesqglnyvhgopsbwfteinmtgsbncuuikedqdr"];  	_gyhnqoparsxurzgjoiqrkykmthalqufqzveypcofjngaotkhgplzblzkpcbxfnnnit = _this; 	 	_OriginalSide = _gyhnqoparsxurzgjoiqrkykmthalqufqzveypcofjngaotkhgplzblzkpcbxfnnnit getVariable ["KEG_OriginalSide",  sideLogic];	 	 	if ( _OriginalSide == sideLogic ) then 	{ 		_mgjbuxqqyjvclnfitxrrjevkmoqxasesqglnyvhgopsbwfteinmtgsbncuuikedqdr = abs(Rating _gyhnqoparsxurzgjoiqrkykmthalqufqzveypcofjngaotkhgplzblzkpcbxfnnnit); 		_gyhnqoparsxurzgjoiqrkykmthalqufqzveypcofjngaotkhgplzblzkpcbxfnnnit addRating _mgjbuxqqyjvclnfitxrrjevkmoqxasesqglnyvhgopsbwfteinmtgsbncuuikedqdr;  		_gyhnqoparsxurzgjoiqrkykmthalqufqzveypcofjngaotkhgplzblzkpcbxfnnnit setVariable ["KEG_OriginalSide",(side _gyhnqoparsxurzgjoiqrkykmthalqufqzveypcofjngaotkhgplzblzkpcbxfnnnit)]; 		_gyhnqoparsxurzgjoiqrkykmthalqufqzveypcofjngaotkhgplzblzkpcbxfnnnit addRating -(_mgjbuxqqyjvclnfitxrrjevkmoqxasesqglnyvhgopsbwfteinmtgsbncuuikedqdr); 	}; 	_OriginalSide = _gyhnqoparsxurzgjoiqrkykmthalqufqzveypcofjngaotkhgplzblzkpcbxfnnnit getVariable ["KEG_OriginalSide", civilian]; 	 	_OriginalSide };  deathCam = [];   createDialog "KEGsRscSpectate"; _wbhinutpqdbztwwwtoocwicrlogsaaefqjfecibnudgxjshnrztwsntbwagrqiyjxboy = (findDisplay 55001); _wbhinutpqdbztwwwtoocwicrlogsaaefqjfecibnudgxjshnrztwsntbwagrqiyjxboy displaySetEventHandler["KeyDown", "[""KeyDown"",_this] call spectate_events"]; _wbhinutpqdbztwwwtoocwicrlogsaaefqjfecibnudgxjshnrztwsntbwagrqiyjxboy displaySetEventHandler["KeyUp", "[""KeyUp"",_this] call spectate_events"];   ["ToggleCameraMenu",0] call spectate_events; ["ToggleTargetMenu",0] call spectate_events; ["ToggleHelp",0] call spectate_events; ["ToggleMap",0] call spectate_events;   _jtnihgbwvmiwbrwpbytossvsusduygmwauvquzhrifaxkeevbhrutqdfztrydqlaaoi = 55002; _dvdmoklsnaorolwycjxuxvpxdpyqyibemuwsragrcxnxmonxdauziqqhscwb = 55003; _bvevqcerpvgxylancpdcqhpddwwdsywnktxspwqlicmlmdsycoyxjfiezbrpyuamyjq = 55004; KEGs_cLBCameras = 55005; KEGs_cLBTargets = 55006; _jtnihgbwvmiwbrwpbytossvsusduygmwauvquzhrifaxkeevbhrutqdfztrydqlaaoisBG = 55007; _dvdmoklsnaorolwycjxuxvpxdpyqyibemuwsragrcxnxmonxdauziqqhscwbsBG = 55008; _dtihtqjipztkulkjkbdcyoqzvoeajqszizbskmzjbvwysmukenaofucklautacuiv = 55013; _dtihtqjipztkulkjkbdcyoqzvoeajqszizbskmzjbvwysmukenaofucklautacuivFull = 55014; _dmsfessreddfhqtwvixjhfslhgqgdffphnveqmdkfjrvuphggnsuiehyeuvrhyf = 55100;   ctrlShow[_dtihtqjipztkulkjkbdcyoqzvoeajqszizbskmzjbvwysmukenaofucklautacuiv, false];  _lfoabjuzwenmmewkmpjgqwnuwywopxvujqgiqogduxdtcerjmpubtgkioobuac = [(KEGs_target modelToWorld [0,0,0] select 0)-1+random 2, (KEGs_target modelToWorld [0,0,0] select 1)-1+random 2, 2]; _targetPos = [(KEGs_target modelToWorld [0,0,0] select 0), (KEGs_target modelToWorld [0,0,0] select 1), 1];  KEGscam_target = "camera" camCreate _targetPos;  KEGscam_chase = "camera" camCreate _targetPos; KEGscam_lockon = "camera" camCreate _targetPos; KEGscam_1stperson = "camera" camCreate _targetPos; KEGscam_free = "camera" camCreate (KEGs_target modelToWorld [0,-25,25]); KEGscam_free setDir (getDir KEGs_target); [KEGscam_free,KEGscam_free_pitch,0] call bis_fnc_setpitchbank;  KEGscam_lockon camSetTarget KEGscam_target; KEGscam_chase camSetTarget KEGscam_target;        KEGS_camMarker = createMarkerLocal ["KEGS_camMarker", getPos KEGscam_free]; KEGS_camMarker setMarkerTypeLocal "mil_start"; KEGS_camMarker setMarkerColorLocal "colorpink"; KEGS_camMarker setMarkerSizeLocal [.75,.75];      KEGscam_fullmap = "camera" camCreate _lfoabjuzwenmmewkmpjgqwnuwywopxvujqgiqogduxdtcerjmpubtgkioobuac;    KEGs_cameras = [KEGscam_lockon, KEGscam_chase, KEGscam_1stperson, KEGscam_free]; KEGs_cameraNames = ["Lock-on", "Chase", "1st-Person", "Free"];   lbClear KEGs_cLBCameras; { lbAdd[KEGs_cLBCameras, _x] } forEach KEGs_cameraNames;   KEGs_cLbSeparator = lbAdd[KEGs_cLBCameras, "---"]; lbSetColor[KEGs_cLBCameras, KEGs_cLbSeparator, [0.5, 0.5, 0.5, 0.5]];   KEGs_cLbToggleTags = lbAdd[KEGs_cLBCameras, "Unit tags"]; KEGs_cLbToggleTagsStat = lbAdd[KEGs_cLBCameras, "Combat status tags"]; KEGs_cLbToggleAiFilter = lbAdd[KEGs_cLBCameras, "Filter AI"]; KEGs_cLbToggleDeadFilter = lbAdd[KEGs_cLBCameras, "Filter Unknown/Dead"]; KEGs_cLbToggleCombatActionFilter = lbAdd[KEGs_cLBCameras, "Combat Action Focus"];  KEGs_tgtIdx = 0; KEGs_cameraIdx = 0; showCinemaBorder false; lbClear KEGs_cLBTargets; onMapSingleClick "[""MapClick"",_lfoabjuzwenmmewkmpjgqwnuwywopxvujqgiqogduxdtcerjmpubtgkioobuac] call spectate_events";   [] spawn {sleep(3);if(dialog) then {cutText["\n\n\n\n\nPress F1 for help","PLAIN DOWN", 0.75]}};  KEGs_camSelLast = 0; mouseLastX = 0.5; mouseLastY = 0.5; _muiocqejcxuzfzeaudfgpgtqpmkiruzavkmfciyieahkwwgijjlrfepfnqitr = 0; lastCheckNewUnits = -100; _dpmmcufdelorzqalffznvtorlggfvrgwpgdvvxsyzfvmdpdmvcfypxvdsbhsdhzv = -100; _sxlgpsxigsshfcdvvsfappyujmubxpgfzbyuzibxiebwqatudssndrqzzveujxxyuqqbl = -100; _epqwotdnuuktezrnajrywknbicbdlnhnuxccavaztgrxduptnbmhkdmztemzzjdhxdvbgx = -100; KEGs_lastAutoUpdateLB = time; KEGsCamPos = [0,0,0];    KEGs_cspeedx = 0; KEGs_cspeedy = 0; KEGs_tbase = 0.1;   	CheckNewUnits =  		{ 			private["_svbgwfvidwanwfalxlljjkrdjjxdbvswywqhoxhdujjfoofisalpknlrdcdrpzns"]; 			CheckNewUnitsReady = false; 			RefreshListReady = false; 			_svbgwfvidwanwfalxlljjkrdjjxdbvswywqhoxhdujjfoofisalpknlrdcdrpzns = vm_count; 			_qshgraywjneolkcbyreqjzmqmtzqvmmkpvnlskjwffnaiuvuvjbckavmazxzbscz = allUnits; 			_fsnolsihgmeyekeegxrjzmosgetcjufynobhtcznmfxxsfaxfzdlvpnzshfbfnjxge = Vehicles; 			 			 	 			_dijvkykprxpteeflzbbvclswzqjcmshgktdmkumvvayfwsmmzyhsnklogommta = _qshgraywjneolkcbyreqjzmqmtzqvmmkpvnlskjwffnaiuvuvjbckavmazxzbscz - deathCam;	 			 			if (count _fsnolsihgmeyekeegxrjzmosgetcjufynobhtcznmfxxsfaxfzdlvpnzshfbfnjxge > 0) then { 				 				_rjizqubunthcacimqshczfiribghjifojhyitywiovqeqvlczygvpjscupaxmcuflymybn = _fsnolsihgmeyekeegxrjzmosgetcjufynobhtcznmfxxsfaxfzdlvpnzshfbfnjxge; 				{ 					 					_nn = _x getVariable "KEGsEHfired"; 					if (isNil "_nn") then { 						_apughmdoryemlhiffdtesxsctuohiegbfaheldzokzemeucgwsituphhsaxnpzjvhdi = _x addeventhandler["fired", { KEGs_autoTarget = gunner (_this select 0); }]; 						_x setVariable["KEGsEHfired", _apughmdoryemlhiffdtesxsctuohiegbfaheldzokzemeucgwsituphhsaxnpzjvhdi]; 					}; 				} count _fsnolsihgmeyekeegxrjzmosgetcjufynobhtcznmfxxsfaxfzdlvpnzshfbfnjxge; 			};			 			 			if(count _dijvkykprxpteeflzbbvclswzqjcmshgktdmkumvvayfwsmmzyhsnklogommta > 0) then  			{ 				_fwjffxdfsykfmjqzhedhksarntllhrfsrqqjgvdgxdvhoanxahsubqdmpqyebwdgpi = []; 				{ 					if !( _x getVariable ["KEG_SPECT", false] ) then 					{ 						 						 						_x setVariable ["KEG_SPECT", true]; 						_fwjffxdfsykfmjqzhedhksarntllhrfsrqqjgvdgxdvhoanxahsubqdmpqyebwdgpi set [(count _fwjffxdfsykfmjqzhedhksarntllhrfsrqqjgvdgxdvhoanxahsubqdmpqyebwdgpi ),_x];  					}; 					 					 					 					_x call VM_CheckOriginalSide; 					 					if ( (typeOf _x) in ["Logic","SideBLUFOR_F","SideOPFOR_F","SideResistance_F"] ) then  					{ 						_dijvkykprxpteeflzbbvclswzqjcmshgktdmkumvvayfwsmmzyhsnklogommta = _dijvkykprxpteeflzbbvclswzqjcmshgktdmkumvvayfwsmmzyhsnklogommta - [_x]; 					}; 					 				} forEach _dijvkykprxpteeflzbbvclswzqjcmshgktdmkumvvayfwsmmzyhsnklogommta; 				 				_dijvkykprxpteeflzbbvclswzqjcmshgktdmkumvvayfwsmmzyhsnklogommta = _dijvkykprxpteeflzbbvclswzqjcmshgktdmkumvvayfwsmmzyhsnklogommta - _fwjffxdfsykfmjqzhedhksarntllhrfsrqqjgvdgxdvhoanxahsubqdmpqyebwdgpi;			  				 				deathCam = deathCam + _dijvkykprxpteeflzbbvclswzqjcmshgktdmkumvvayfwsmmzyhsnklogommta; 				 				 				KEGsNeedUpdateLB = true; 				 				 				{ 					if ( isNil "_rweqcuuldtmcryiofanzpgfesiwcaxvtblqfejvzqyvsxbrclsfgsviqyqyqjtmrb" ) then { diag_log format ["spectator script: '_rweqcuuldtmcryiofanzpgfesiwcaxvtblqfejvzqyvsxbrclsfgsviqyqyqjtmrb' error for unit [%1]", _x]; }; 					 					 					_m = createMarkerLocal[format["KEGsMarker%1", count _rweqcuuldtmcryiofanzpgfesiwcaxvtblqfejvzqyvsxbrclsfgsviqyqyqjtmrb], (player modelToWorld [0,0,0]) ]; 					_m setMarkerTypeLocal "mil_dot";			 					_m setMarkerSizeLocal[0.4, 0.4]; 					_rweqcuuldtmcryiofanzpgfesiwcaxvtblqfejvzqyvsxbrclsfgsviqyqyqjtmrb set [(count _rweqcuuldtmcryiofanzpgfesiwcaxvtblqfejvzqyvsxbrclsfgsviqyqyqjtmrb),_m]; 					 					_OriginalSide = _x call VM_CheckOriginalSide;   					 					 					if(_OriginalSide == west) then {_m setMarkerColorLocal "ColorBlue";}; 					if(_OriginalSide == east) then {_m setMarkerColorLocal "ColorRed";}; 					if(_OriginalSide == resistance) then {_m setMarkerColorLocal "ColorGreen";}; 					if(_OriginalSide == civilian) then {_m setMarkerColorLocal "ColorWhite";};			 					 					_aytivlwcckpfjasyeekdfftqftpbgcylvqltrtizdnkrekmmiennriqkyiafl = _x addEventHandler["fired", { KEGs_autoTarget = _this select 0 } ]; 					KEGsEHFlist set [(count KEGsEHFlist), [_x, _aytivlwcckpfjasyeekdfftqftpbgcylvqltrtizdnkrekmmiennriqkyiafl]]; 					 				} forEach _dijvkykprxpteeflzbbvclswzqjcmshgktdmkumvvayfwsmmzyhsnklogommta; 			}; 			 			RefreshListReady = true; 			CheckNewUnitsReady = true;	 			lastCheckNewUnits = time; 		};   		    KEGs_fnc_MovementCameraLoop =  	{ 		private ["_woyjgbdcazhnrjytvfillsthucqqrjzqcrlluzvjdjadmezrogsqxwtappphd", "_qosmdrubambcpulvkgnzzpjpopeeqfvubivwtgzxjfghgmifyurlcaizjmne", "_ytbqjtbgfdsfszfnbcyqhwojzxkfkwnxyzwueqgaocskddtkauvemlreqcdpdqsxk", "_name", "_tbhvqfchzywnjdchiuzhqccvxqcfkezejmtscjxuzaejqdkmdacylarjktweozfwgkqxdi", "_jtgykmkmhhjzyscyafyiohwodxwopyybptjxtxiwkmkwracoqlcmpmgkmxkmtadwgd", "_scyfcemodxarhwpmcaanqgixldsemrzldhfqjoulqfgacrbnjbhhwcnjvisnjaqkxzxi", "_zumogigbvjgcflnfxjvwlfaxdhyysaskndaknwatmvgedbdbycxalypkyjugvgxqlb", "_wnwjjgdqxgsxvudhvujugopsjncxodniqlhrvgdtonefrzthdgnnozvzpxfvdldxs", "_d", "_z", "_dtihtqjipztkulkjkbdcyoqzvoeajqszizbskmzjbvwysmukenaofucklautacuivFull", "_cbxtunjxgcfizotzekpwmgzhgpwpzvkhvpgokdvwcdrezeafzcqytnywdtlocuuasru", "_nznyphmhgnvodqabwvapdnegdcvkfspkzucjpyweonqtfxrsxrtqqaudxjkncpluk", "_yccgwfukubirdeewehiyayseibinvgqdeujspatxxdyberejfqxvstfpismxwaxiw", "_zCoef", "_ozdwdvgdzzfmhaeeurlskcmmbyhjfuuowtdnogirjidthoyvsoszzwzbydjibpktahbz", "_ustgveosiogeokybttjhkxaqxpmxnusyqwtwncryhacxfwhwlkdwpfabqnbelra", "_tscsdnjzjovaysdocwgxholqemspshlzyrvvxcqgiacjkrnoiobpbxxbrgeqfkpu", "_dZ", "_dir", "_lfoabjuzwenmmewkmpjgqwnuwywopxvujqgiqogduxdtcerjmpubtgkioobuac"  ]; 		_dtihtqjipztkulkjkbdcyoqzvoeajqszizbskmzjbvwysmukenaofucklautacuivFull = 55014; 		_CameraLoop_count = 0; 		CameraLoop_count = 0; 		 		_qosmdrubambcpulvkgnzzpjpopeeqfvubivwtgzxjfghgmifyurlcaizjmne = time;		 		 		While { VM_SpectatorCamerasEnabled  } do  		{			 			_scyfcemodxarhwpmcaanqgixldsemrzldhfqjoulqfgacrbnjbhhwcnjvisnjaqkxzxi = false; 			 			if (  					KEGsCombatActionFilter &&  					{ (time > _qosmdrubambcpulvkgnzzpjpopeeqfvubivwtgzxjfghgmifyurlcaizjmne) } &&  					{ !(KEGs_autoTarget == KEGs_target) } &&  					{ (alive KEGs_autoTarget) } && 					{ ( !KEGsAIfilter || isPlayer KEGs_AutoTarget ) } 				) then  			{ 				 				KEGs_target = KEGs_AutoTarget; 				_qosmdrubambcpulvkgnzzpjpopeeqfvubivwtgzxjfghgmifyurlcaizjmne = time + (random 10 max 4 min 6); 				 				[false] spawn PlayerMenuHandler; 				_scyfcemodxarhwpmcaanqgixldsemrzldhfqjoulqfgacrbnjbhhwcnjvisnjaqkxzxi = true; 				 				if((KEGs_cameras select KEGs_cameraIdx) == KEGscam_1stperson) then  				{ 					[] spawn CameraMenuHandler; 				}; 			}; 	 			 			if ( !(isNull KEGs_target) && { (alive KEGs_target) } ) then 			{	 				_KEGs_target = KEGs_target; 				 				_jtgykmkmhhjzyscyafyiohwodxwopyybptjxtxiwkmkwracoqlcmpmgkmxkmtadwgd = (vehicle _KEGs_target modelToWorld [0,0,0]); 				_KEGs_dir = direction _KEGs_target; 				 				_tbhvqfchzywnjdchiuzhqccvxqcfkezejmtscjxuzaejqdkmdacylarjktweozfwgkqxdi = speed vehicle _KEGs_target; 				_nznyphmhgnvodqabwvapdnegdcvkfspkzucjpyweonqtfxrsxrtqqaudxjkncpluk = ((1.0 - (_tbhvqfchzywnjdchiuzhqccvxqcfkezejmtscjxuzaejqdkmdacylarjktweozfwgkqxdi/70))/3) max 0.1;	 				 				 				 				 				 				_stance = "VEHICLE"; 				if ( vehicle _KEGs_target == _KEGs_target ) then  				{ 					_stance = stance _KEGs_target; 				}; 				 				switch ( _stance ) do 				{ 					case "STAND":  					{ 						_ytbqjtbgfdsfszfnbcyqhwojzxkfkwnxyzwueqgaocskddtkauvemlreqcdpdqsxk = 2.10; 					}; 					case "CROUCH": 					{ 						_ytbqjtbgfdsfszfnbcyqhwojzxkfkwnxyzwueqgaocskddtkauvemlreqcdpdqsxk = 1.50; 					}; 					case "PRONE": 					{ 						_ytbqjtbgfdsfszfnbcyqhwojzxkfkwnxyzwueqgaocskddtkauvemlreqcdpdqsxk = 0.5; 					}; 					case "VEHICLE": 					{ 						_ytbqjtbgfdsfszfnbcyqhwojzxkfkwnxyzwueqgaocskddtkauvemlreqcdpdqsxk = 2.6; 					};						 					default  					{ 						_ytbqjtbgfdsfszfnbcyqhwojzxkfkwnxyzwueqgaocskddtkauvemlreqcdpdqsxk = 2; 					}; 				};  				 				 				 				if ( _scyfcemodxarhwpmcaanqgixldsemrzldhfqjoulqfgacrbnjbhhwcnjvisnjaqkxzxi ) then { KEGscam_lockon setDir _KEGs_dir }; 				 				 				 				 				KEGscam_target camSetPos[(_jtgykmkmhhjzyscyafyiohwodxwopyybptjxtxiwkmkwracoqlcmpmgkmxkmtadwgd select 0), (_jtgykmkmhhjzyscyafyiohwodxwopyybptjxtxiwkmkwracoqlcmpmgkmxkmtadwgd select 1), (_jtgykmkmhhjzyscyafyiohwodxwopyybptjxtxiwkmkwracoqlcmpmgkmxkmtadwgd select 2)+(_ytbqjtbgfdsfszfnbcyqhwojzxkfkwnxyzwueqgaocskddtkauvemlreqcdpdqsxk*0.7)]; 				 				if( (vehicle KEGs_target) distance KEGscam_target > 650 ) then 				{  					_nznyphmhgnvodqabwvapdnegdcvkfspkzucjpyweonqtfxrsxrtqqaudxjkncpluk = 0; 				}; 				 				KEGscam_target camCommit _nznyphmhgnvodqabwvapdnegdcvkfspkzucjpyweonqtfxrsxrtqqaudxjkncpluk;  				 				 				 				_d = (-(2*(0.3 max sdistance))); 				_z = sin(fangleY)*(2*(0.3 max sdistance)); 				KEGscam_lockon camSetRelPos[(sin(fangle)*_d)*cos(fangleY), (cos(fangle)*_d)*cos(fangleY), _z]; 				KEGscam_lockon camCommit _nznyphmhgnvodqabwvapdnegdcvkfspkzucjpyweonqtfxrsxrtqqaudxjkncpluk;  				 				KEGscam_chase setDir _KEGs_dir; 				KEGscam_chase camSetRelPos[sin(_KEGs_dir)*(-(2*sdistance)), cos(_KEGs_dir)*(-(2*sdistance)), 0.6*abs sdistance]; 				KEGscam_chase camCommit _nznyphmhgnvodqabwvapdnegdcvkfspkzucjpyweonqtfxrsxrtqqaudxjkncpluk;  				 				if (KEGs_cameraNames select KEGs_cameraIdx == "Free") then  				{ 					KEGS_camMarker setMarkerPosLocal position KEGscam_free; 					KEGS_camMarker setMarkerDirLocal direction KEGscam_free; 				}; 				 				{_x camSetFov szoom} foreach KEGs_cameras;	 				 			};  			_CameraLoop_count = _CameraLoop_count + 1; 			 			 			 			 			if ( (isNull KEGs_target) ) then  			{ 				private ["_naviybjcniyfebvauiximiibjlnwhzsxsnisqubhjazubnqflnlrlrscmdbaokmwg", "_tdrhkwbyeltojcvazywkvljzftracqkpxeszhjbwffsqkbvccytgyhxkgammvoabbdgqa", "_mugtbabxsztxfhuwreeclpkgnexcwuphntyqgddltqjyldttqjalndqssluopmxee", "_tmslxfxayxlikdxflmnyawrtqlyqjynjtzrylkkxlwrnmnmxnnlvpxugvwxkhgetjx"]; 				 				diag_log format ["WARNING - KEGs_target no longer found - waiting for new target"]; 				 				waitUntil { sleep 0.5; if ( (isNull KEGs_target) && ( alive player ) ) then { KEGs_target = player}; ( !(isNull KEGs_target) ); };  				diag_log format ["KEGs_target found - switching to new target: %1 (%2) (%3 - %4)", KEGs_target, KEGs_targetName, _CameraLoop_count, CameraLoop_count];  				[] call RefreshPlayerList; 			}; 		}; 		 		diag_log "Exiting Spectator mode"; 	};		  	   		 			lastCheckNewUnits = time; 			 			_qshgraywjneolkcbyreqjzmqmtzqvmmkpvnlskjwffnaiuvuvjbckavmazxzbscz = allUnits; 			_fsnolsihgmeyekeegxrjzmosgetcjufynobhtcznmfxxsfaxfzdlvpnzshfbfnjxge = Vehicles; 			_dijvkykprxpteeflzbbvclswzqjcmshgktdmkumvvayfwsmmzyhsnklogommta = _qshgraywjneolkcbyreqjzmqmtzqvmmkpvnlskjwffnaiuvuvjbckavmazxzbscz - deathCam;	 		 			if (count _fsnolsihgmeyekeegxrjzmosgetcjufynobhtcznmfxxsfaxfzdlvpnzshfbfnjxge > 0) then  			{ 				 				_rjizqubunthcacimqshczfiribghjifojhyitywiovqeqvlczygvpjscupaxmcuflymybn = _fsnolsihgmeyekeegxrjzmosgetcjufynobhtcznmfxxsfaxfzdlvpnzshfbfnjxge; 				{ 					 					_nn = _x getVariable "KEGsEHfired"; 					if (isNil "_nn") then { 						_apughmdoryemlhiffdtesxsctuohiegbfaheldzokzemeucgwsituphhsaxnpzjvhdi = _x addeventhandler["fired", { KEGs_autoTarget = gunner (_this select 0); }]; 						_x setVariable["KEGsEHfired", _apughmdoryemlhiffdtesxsctuohiegbfaheldzokzemeucgwsituphhsaxnpzjvhdi]; 					}; 				} count _fsnolsihgmeyekeegxrjzmosgetcjufynobhtcznmfxxsfaxfzdlvpnzshfbfnjxge; 			}; 			 			if(count _dijvkykprxpteeflzbbvclswzqjcmshgktdmkumvvayfwsmmzyhsnklogommta > 0) then  			{ 				_fwjffxdfsykfmjqzhedhksarntllhrfsrqqjgvdgxdvhoanxahsubqdmpqyebwdgpi = []; 				{ 					if !( _x getVariable ["KEG_SPECT", false] ) then					 					{ 						 						 						_x setVariable ["KEG_SPECT", true]; 						_fwjffxdfsykfmjqzhedhksarntllhrfsrqqjgvdgxdvhoanxahsubqdmpqyebwdgpi set [(count _fwjffxdfsykfmjqzhedhksarntllhrfsrqqjgvdgxdvhoanxahsubqdmpqyebwdgpi ),_x]; 					}; 					 					 					 					_x call VM_CheckOriginalSide; 					 					if ( (typeOf _x) in ["Logic","SideBLUFOR_F","SideOPFOR_F","SideResistance_F"] ) then  					{ 						_dijvkykprxpteeflzbbvclswzqjcmshgktdmkumvvayfwsmmzyhsnklogommta = _dijvkykprxpteeflzbbvclswzqjcmshgktdmkumvvayfwsmmzyhsnklogommta - [_x]; 					}; 					 				} forEach _dijvkykprxpteeflzbbvclswzqjcmshgktdmkumvvayfwsmmzyhsnklogommta; 				 				 				deathCam = deathCam + _dijvkykprxpteeflzbbvclswzqjcmshgktdmkumvvayfwsmmzyhsnklogommta; 				 				 				KEGsNeedUpdateLB = true; 				 				 				{  					 					_m = createMarkerLocal[format["KEGsMarker%1", count _rweqcuuldtmcryiofanzpgfesiwcaxvtblqfejvzqyvsxbrclsfgsviqyqyqjtmrb], (player modelToWorld [0,0,0]) ]; 					_m setMarkerTypeLocal "mil_dot";			 					_m setMarkerSizeLocal[0.4, 0.4]; 					_rweqcuuldtmcryiofanzpgfesiwcaxvtblqfejvzqyvsxbrclsfgsviqyqyqjtmrb set [(count _rweqcuuldtmcryiofanzpgfesiwcaxvtblqfejvzqyvsxbrclsfgsviqyqyqjtmrb),_m]; 					 					_OriginalSide = _x call VM_CheckOriginalSide;   					 					 					if(_OriginalSide == west) then {_m setMarkerColorLocal "ColorBlue";}; 					if(_OriginalSide == east) then {_m setMarkerColorLocal "ColorRed";}; 					if(_OriginalSide == resistance) then {_m setMarkerColorLocal "ColorGreen";}; 					if(_OriginalSide == civilian) then {_m setMarkerColorLocal "ColorWhite";};			 					 					_aytivlwcckpfjasyeekdfftqftpbgcylvqltrtizdnkrekmmiennriqkyiafl = _x addeventhandler["fired", { KEGs_autoTarget = _this select 0 } ]; 					KEGsEHFlist set [(count KEGsEHFlist), [_x, _aytivlwcckpfjasyeekdfftqftpbgcylvqltrtizdnkrekmmiennriqkyiafl]]; 					 				} count _dijvkykprxpteeflzbbvclswzqjcmshgktdmkumvvayfwsmmzyhsnklogommta;						 			}; 			 			[] call RefreshPlayerList; 			["Init"] call CameraMenuHandler; 			[true] call PlayerMenuHandler; 			 			if(count deathCam > 0 and !KEG_Spect_Init) then  			{  				KEG_Spect_Init = true;  				VM_SpectatorCamerasEnabled = true;  			}; 			 		   KEGs_mainLoop = [] spawn KEGs_fnc_MovementCameraLoop;  	  EndLoadingScreen;		  		 		 while{ dialog } do  { 		 		if(time - KEGs_lastAutoUpdateLB > 20 && (RefreshListReady) && (CheckNewUnitsReady)) then  		{ 			KEGs_lastAutoUpdateLB = time; 			KEGsNeedUpdateLB = true; 		};	 	 		if(KEGsNeedUpdateLB && RefreshListReady && (CheckNewUnitsReady)) then  		{ 			[] spawn RefreshPlayerList; 		}; 	 		 		if((time - lastCheckNewUnits > 20)  && (CheckNewUnitsReady) ) then  		{ 			lastCheckNewUnits = time; 			RefreshListReady = false; 			[] spawn CheckNewUnits; 		};  		  		 		_yngtjtvilgesqiuensgopmutbroaxnzjaumyokmhxstmkviiincjxdmijzhkue = 10;  		if(count _rweqcuuldtmcryiofanzpgfesiwcaxvtblqfejvzqyvsxbrclsfgsviqyqyqjtmrb > 100) then {_yngtjtvilgesqiuensgopmutbroaxnzjaumyokmhxstmkviiincjxdmijzhkue = 5};  		if(count _rweqcuuldtmcryiofanzpgfesiwcaxvtblqfejvzqyvsxbrclsfgsviqyqyqjtmrb > 200) then {_yngtjtvilgesqiuensgopmutbroaxnzjaumyokmhxstmkviiincjxdmijzhkue = 0.5};  		 		if(time - _dpmmcufdelorzqalffznvtorlggfvrgwpgdvvxsyzfvmdpdmvcfypxvdsbhsdhzv > (1/_yngtjtvilgesqiuensgopmutbroaxnzjaumyokmhxstmkviiincjxdmijzhkue)) then  		{ 			_dpmmcufdelorzqalffznvtorlggfvrgwpgdvvxsyzfvmdpdmvcfypxvdsbhsdhzv = time; 		 			if (!NORRN_noMarkersUpdates) then  			{ 				 				_zhbehvfcznegdfajovutlkwuzckvgdlymcbrahrnimurvocgjdzjqgpcamrcfwz = false; 				if(time - _sxlgpsxigsshfcdvvsfappyujmubxpgfzbyuzibxiebwqatudssndrqzzveujxxyuqqbl > 1) then  				{ 					_sxlgpsxigsshfcdvvsfappyujmubxpgfzbyuzibxiebwqatudssndrqzzveujxxyuqqbl = time; 					_zhbehvfcznegdfajovutlkwuzckvgdlymcbrahrnimurvocgjdzjqgpcamrcfwz = true;  				}; 				 				if(ctrlVisible _dtihtqjipztkulkjkbdcyoqzvoeajqszizbskmzjbvwysmukenaofucklautacuivFull) then  				{ 					 					 					_jmjrpweszzedtjlbszrvkeuyuriggfbrpcktjlumltaihyldjzzjvlxhnxse = _wbhinutpqdbztwwwtoocwicrlogsaaefqjfecibnudgxjshnrztwsntbwagrqiyjxboy displayctrl _dtihtqjipztkulkjkbdcyoqzvoeajqszizbskmzjbvwysmukenaofucklautacuivFull; 					_esnihlfvgchukdfekjyzuguxyomlcwjkjjumzmuglvvxpzapbelxuwqilzjriads = _jmjrpweszzedtjlbszrvkeuyuriggfbrpcktjlumltaihyldjzzjvlxhnxse posScreenToWorld[0.5, 0.5]; 					KEGscam_fullmap camSetTarget _esnihlfvgchukdfekjyzuguxyomlcwjkjjumzmuglvvxpzapbelxuwqilzjriads; 					KEGscam_fullmap camSetRelPos [0, -1, 150]; 					KEGscam_fullmap camCommit 0; 				}; 				 				_eudukwvfmanxvkrslnexmumldgemrqnabkwagrcmvfhwvgtvshbydselexmebue = [];  				for "_i" from 0 to ((count _rweqcuuldtmcryiofanzpgfesiwcaxvtblqfejvzqyvsxbrclsfgsviqyqyqjtmrb)-1) do  				{ 					_m = _rweqcuuldtmcryiofanzpgfesiwcaxvtblqfejvzqyvsxbrclsfgsviqyqyqjtmrb select _i; 					_gyhnqoparsxurzgjoiqrkykmthalqufqzveypcofjngaotkhgplzblzkpcbxfnn = (deathCam select _i); 					_m setMarkerPosLocal ((vehicle _gyhnqoparsxurzgjoiqrkykmthalqufqzveypcofjngaotkhgplzblzkpcbxfnn modelToWorld [0,0,0])); 					 					_OriginalSide = _gyhnqoparsxurzgjoiqrkykmthalqufqzveypcofjngaotkhgplzblzkpcbxfnn getVariable ["KEG_OriginalSide", side _gyhnqoparsxurzgjoiqrkykmthalqufqzveypcofjngaotkhgplzblzkpcbxfnn];  					if(!((_OriginalSide) in KEGsShownSides)) then  					{ 						 						if(_zhbehvfcznegdfajovutlkwuzckvgdlymcbrahrnimurvocgjdzjqgpcamrcfwz) then {_m setMarkerTypeLocal "empty"}; 					} 					else  					{ 				 						if(KEGsMarkerNames or KEGsMinimapZoom < 0.15) then  						{ 							 							if(ctrlVisible _dtihtqjipztkulkjkbdcyoqzvoeajqszizbskmzjbvwysmukenaofucklautacuivFull) then  							{ 								switch(KEGsMarkerType) do  								{ 									case 0: {	 										_m setMarkerTextLocal ""; 									}; 									case 1: {	 										if(alive (vehicle _gyhnqoparsxurzgjoiqrkykmthalqufqzveypcofjngaotkhgplzblzkpcbxfnn)) then  										{ 											if(name (vehicle _gyhnqoparsxurzgjoiqrkykmthalqufqzveypcofjngaotkhgplzblzkpcbxfnn) != "Error: no unit") then {_m setMarkerTextLocal name ( _gyhnqoparsxurzgjoiqrkykmthalqufqzveypcofjngaotkhgplzblzkpcbxfnn)}; 										}; 									}; 									case 2: {	 										_m setMarkerTextLocal getText (configFile >> "CfgVehicles" >> format["%1", typeOf (vehicle _gyhnqoparsxurzgjoiqrkykmthalqufqzveypcofjngaotkhgplzblzkpcbxfnn)] >> "DisplayName"); 									}; 								}; 							}  							else  							{ 								 								_m setMarkerTextLocal ""; 							}; 							 							 							if(_zhbehvfcznegdfajovutlkwuzckvgdlymcbrahrnimurvocgjdzjqgpcamrcfwz) then {_m setMarkerTypeLocal "mil_arrow"}; 							 							if(_gyhnqoparsxurzgjoiqrkykmthalqufqzveypcofjngaotkhgplzblzkpcbxfnn == vehicle _gyhnqoparsxurzgjoiqrkykmthalqufqzveypcofjngaotkhgplzblzkpcbxfnn) then  							{ 								_m setMarkerSizeLocal[0.33*KEGsMarkerSize, 0.27*KEGsMarkerSize]; 							} 							else  							{ 								_m setMarkerSizeLocal[0.42*KEGsMarkerSize, 0.42*KEGsMarkerSize]; 							};						 							 							_m setMarkerDirLocal (getdir (vehicle _gyhnqoparsxurzgjoiqrkykmthalqufqzveypcofjngaotkhgplzblzkpcbxfnn)); 						}  						else  						{ 							_m setMarkerTextLocal ""; 							if(_zhbehvfcznegdfajovutlkwuzckvgdlymcbrahrnimurvocgjdzjqgpcamrcfwz) then  							{ 								_m setMarkerTypeLocal "mil_dot"; 							}; 							_m setMarkerSizeLocal[0.4,0.4]; 						};		 					}; 					 					if(not alive _gyhnqoparsxurzgjoiqrkykmthalqufqzveypcofjngaotkhgplzblzkpcbxfnn) then  					{ 						_m setMarkerColorLocal "ColorBlack" 					}; 					 					if(vehicle _gyhnqoparsxurzgjoiqrkykmthalqufqzveypcofjngaotkhgplzblzkpcbxfnn in _eudukwvfmanxvkrslnexmumldgemrqnabkwagrcmvfhwvgtvshbydselexmebue) then  					{ 						 						_m setMarkerTypeLocal "Empty"; 					}  					else  					{ 						_eudukwvfmanxvkrslnexmumldgemrqnabkwagrcmvfhwvgtvshbydselexmebue set [(count _eudukwvfmanxvkrslnexmumldgemrqnabkwagrcmvfhwvgtvshbydselexmebue) , vehicle _gyhnqoparsxurzgjoiqrkykmthalqufqzveypcofjngaotkhgplzblzkpcbxfnn];  					}; 				};	 			}; 			 			 			 			_dvkondklijxvozjfonkjbpkukhwetqopvnyulvocbvdkfmfaahvuydfatmibakqfqo = _wbhinutpqdbztwwwtoocwicrlogsaaefqjfecibnudgxjshnrztwsntbwagrqiyjxboy displayctrl _dtihtqjipztkulkjkbdcyoqzvoeajqszizbskmzjbvwysmukenaofucklautacuiv; 			ctrlMapAnimClear _dvkondklijxvozjfonkjbpkukhwetqopvnyulvocbvdkfmfaahvuydfatmibakqfqo; 			if (KEGs_cameraNames select KEGs_cameraIdx == "Free") then  			{ 				 				_dvkondklijxvozjfonkjbpkukhwetqopvnyulvocbvdkfmfaahvuydfatmibakqfqo ctrlMapAnimAdd[0.3, KEGsMinimapZoom, [getPos KEGscam_free  select 0, getPos KEGscam_free  select 1,0]]; 				 			}  			else  			{ 				 				_dvkondklijxvozjfonkjbpkukhwetqopvnyulvocbvdkfmfaahvuydfatmibakqfqo ctrlMapAnimAdd[0.3, KEGsMinimapZoom, visiblePosition KEGs_target]; 			}; 			ctrlMapAnimCommit _dvkondklijxvozjfonkjbpkukhwetqopvnyulvocbvdkfmfaahvuydfatmibakqfqo;					  			 			if(KEGs_tgtIdx != KEGs_lastTgt) then  			{ 				 		 				_dvkondklijxvozjfonkjbpkukhwetqopvnyulvocbvdkfmfaahvuydfatmibakqfqo = _wbhinutpqdbztwwwtoocwicrlogsaaefqjfecibnudgxjshnrztwsntbwagrqiyjxboy displayctrl _dtihtqjipztkulkjkbdcyoqzvoeajqszizbskmzjbvwysmukenaofucklautacuivFull; 				ctrlMapAnimClear _dvkondklijxvozjfonkjbpkukhwetqopvnyulvocbvdkfmfaahvuydfatmibakqfqo; 				_dvkondklijxvozjfonkjbpkukhwetqopvnyulvocbvdkfmfaahvuydfatmibakqfqo ctrlMapAnimAdd [0.2, 1.0, visiblePosition (deathcam select KEGs_tgtIdx)]; 				ctrlMapAnimCommit _dvkondklijxvozjfonkjbpkukhwetqopvnyulvocbvdkfmfaahvuydfatmibakqfqo;			 			}; 		}; 			 		KEGs_lastTgt = KEGs_tgtIdx;	   		 		 		 		 		 		vm_count = vm_count + 1; };    VM_SpectatorCamerasEnabled = False;   terminate KEGs_mainLoop; waitUntil { scriptDone KEGs_mainLoop };    titleText["","BLACK IN", 0.5];   camDestroy KEGscam_target;  camDestroy KEGscam_fullmap; camDestroy KEGscam_free; {camDestroy _x} foreach KEGs_cameras; {deletemarkerlocal _x} foreach _rweqcuuldtmcryiofanzpgfesiwcaxvtblqfejvzqyvsxbrclsfgsviqyqyqjtmrb;	   if ( !(isNil "KEGSTagsScript") && { scriptDone KEGSTagsScript } ) then { terminate KEGSTagsScript; }; if ( !(isNil "KEGSTagsStatScript") && { scriptDone KEGSTagsStatScript } ) then { terminate KEGSTagsStatScript; }; KEGsTags = false; KEGsTagsStat = false; sleep 0.1;  onMapSingleClick "";  {deletevehicle _x;} count KEGsTagSources; {deletevehicle _x;} count KEGsTagStatSources; {  	if ( !isNull (_x getVariable ["spect_locator", objNull] ) ) then  	{ 		_x setVariable ["spect_locator", nil];  	}; 	if ( !isNull (_x getVariable ["spect_combatmode", objNull] ) ) then  	{ 		_x setVariable ["spect_combatmode", nil];  	}; 	 } count allUnits; KEGsTagSources = []; KEGsTagStatSources = [];  { (_x select 0) removeEventHandler ["killed", (_x select 1)] } forEach KEGsEHlist; { (_x select 0) removeEventHandler ["fired", (_x select 1)] } forEach KEGsEHFlist; KEGsEHlist = []; KEGsEHFlist = [];  setViewDistance KEGsOrgViewDistance;  deletemarkerlocal KEGS_camMarker;    player switchCamera "INTERNAL"; player cameraEffect["terminate","FRONT"];   