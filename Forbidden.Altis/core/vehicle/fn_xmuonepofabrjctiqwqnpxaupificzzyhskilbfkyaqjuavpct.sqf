
#include <macro.h>

#define ctrlSelData(ctrl) (lbData[##ctrl,(lbCurSel ##ctrl)])
 private["_qujwsasowuanjavzdhedctdpgnxabdxsikkfwmdxpmgegrggdzxprnmekrzhg","_agnduwdwvpnlqyawnbuahpzgjxheeowldekyykggnhwfewdvxfbbuenjhssgrmkjk","_mgmhcboijvbmymbrncplwhiiyyxlzhhgigcvxblgdrzdwyxrjbcbwiseitti","_itemWeight","_dvxwfcxtbuhiddfeipiboayfbxrwreghotwzzfcdvtbseuljxntiutxzkmjk","_zciemkdiclysarqujtxvtpsasdmgwcvxxmotaracphpkufsfzyqevtmvrvwzhgkrmb","_index","_nxctoqonotusbodyvlnxvcueeodwsxivdabteswqknaruvurzcnijdsoupifezupusaap"]; disableSerialization;  _qujwsasowuanjavzdhedctdpgnxabdxsikkfwmdxpmgegrggdzxprnmekrzhg = ctrlSelData(3503); _agnduwdwvpnlqyawnbuahpzgjxheeowldekyykggnhwfewdvxfbbuenjhssgrmkjk = ctrlText 3506; if(!([_agnduwdwvpnlqyawnbuahpzgjxheeowldekyykggnhwfewdvxfbbuenjhssgrmkjk] call TON_fnc_isnumber)) exitWith {hint "Invalid Number format";}; _agnduwdwvpnlqyawnbuahpzgjxheeowldekyykggnhwfewdvxfbbuenjhssgrmkjk = parseNumber(_agnduwdwvpnlqyawnbuahpzgjxheeowldekyykggnhwfewdvxfbbuenjhssgrmkjk); if(_agnduwdwvpnlqyawnbuahpzgjxheeowldekyykggnhwfewdvxfbbuenjhssgrmkjk < 1) exitWith {hint "You can't enter anything below 1!";};  if(life_trunk_vehicle getVariable ["AirDropCalled",false]) exitWith {hint localize "STR_m_NotStoreInAirdropped";};  if([life_trunk_vehicle,_qujwsasowuanjavzdhedctdpgnxabdxsikkfwmdxpmgegrggdzxprnmekrzhg,false] call life_fnc_dmpcknnwasxueqonkodesvuillsrownlotusizdlwugirpflatrag) exitWith {closeDialog 0;};  if(life_trunk_vehicle isKindOf "House_F") then { 	_mWeight = 0; 	{_mWeight = _mWeight + ([(typeOf _x)] call life_fnc_mznujvukapeymycvjtmamjqwhdeiciurdtzdsujxzqrqstinqlffmqn);} foreach (life_trunk_vehicle getVariable["containers",[]]); 	_mgmhcboijvbmymbrncplwhiiyyxlzhhgigcvxblgdrzdwyxrjbcbwiseitti = [_mWeight,(life_trunk_vehicle getVariable["Trunk",[[],0]]) select 1]; } else { 	_mgmhcboijvbmymbrncplwhiiyyxlzhhgigcvxblgdrzdwyxrjbcbwiseitti = [life_trunk_vehicle] call life_fnc_tldmxiaaawydcyvjenfxuvhodcmhglobclxfeodxzgjxwashxcijp; }; _itemWeight = ([_qujwsasowuanjavzdhedctdpgnxabdxsikkfwmdxpmgegrggdzxprnmekrzhg] call life_fnc_ixqubeuqyvvlxqyldjgxzumawmrijapytyxfcsaswdetlfqsdciynug) * _agnduwdwvpnlqyawnbuahpzgjxheeowldekyykggnhwfewdvxfbbuenjhssgrmkjk; _dvxwfcxtbuhiddfeipiboayfbxrwreghotwzzfcdvtbseuljxntiutxzkmjk = life_trunk_vehicle getVariable ["Trunk",[[],0]]; _zciemkdiclysarqujtxvtpsasdmgwcvxxmotaracphpkufsfzyqevtmvrvwzhgkrmb = _dvxwfcxtbuhiddfeipiboayfbxrwreghotwzzfcdvtbseuljxntiutxzkmjk select 0;  if(_qujwsasowuanjavzdhedctdpgnxabdxsikkfwmdxpmgegrggdzxprnmekrzhg == "goldbar" && {!(life_trunk_vehicle isKindOf "LandVehicle" OR life_trunk_vehicle isKindOf "House_F")}) exitWith {hint "You cannot store that in anything but a land vehicle!"}; if(_qujwsasowuanjavzdhedctdpgnxabdxsikkfwmdxpmgegrggdzxprnmekrzhg in ["oil_unprocessed","oil_processed"] && life_trunk_vehicle isKindOf "Air") exitWith {hint "Du kan inte lagra olja i helikoptrar eller flygplan!"};  if(_qujwsasowuanjavzdhedctdpgnxabdxsikkfwmdxpmgegrggdzxprnmekrzhg == "money") then { 	_index = [_qujwsasowuanjavzdhedctdpgnxabdxsikkfwmdxpmgegrggdzxprnmekrzhg,_zciemkdiclysarqujtxvtpsasdmgwcvxxmotaracphpkufsfzyqevtmvrvwzhgkrmb] call TON_fnc_index; 	if(CASH < _agnduwdwvpnlqyawnbuahpzgjxheeowldekyykggnhwfewdvxfbbuenjhssgrmkjk) exitWith {hint "You don't have that much cash on you to store in the vehicle!"}; 	if(_index == -1) then 	{ 		_zciemkdiclysarqujtxvtpsasdmgwcvxxmotaracphpkufsfzyqevtmvrvwzhgkrmb pushBack [_qujwsasowuanjavzdhedctdpgnxabdxsikkfwmdxpmgegrggdzxprnmekrzhg,_agnduwdwvpnlqyawnbuahpzgjxheeowldekyykggnhwfewdvxfbbuenjhssgrmkjk]; 	} 		else 	{ 		_nxctoqonotusbodyvlnxvcueeodwsxivdabteswqknaruvurzcnijdsoupifezupusaap = _zciemkdiclysarqujtxvtpsasdmgwcvxxmotaracphpkufsfzyqevtmvrvwzhgkrmb select _index select 1; 		_zciemkdiclysarqujtxvtpsasdmgwcvxxmotaracphpkufsfzyqevtmvrvwzhgkrmb set[_index,[_qujwsasowuanjavzdhedctdpgnxabdxsikkfwmdxpmgegrggdzxprnmekrzhg,_nxctoqonotusbodyvlnxvcueeodwsxivdabteswqknaruvurzcnijdsoupifezupusaap + _agnduwdwvpnlqyawnbuahpzgjxheeowldekyykggnhwfewdvxfbbuenjhssgrmkjk]]; 	}; 	 	CASH = CASH - _agnduwdwvpnlqyawnbuahpzgjxheeowldekyykggnhwfewdvxfbbuenjhssgrmkjk; 	life_trunk_vehicle setVariable["Trunk",[_zciemkdiclysarqujtxvtpsasdmgwcvxxmotaracphpkufsfzyqevtmvrvwzhgkrmb,(_dvxwfcxtbuhiddfeipiboayfbxrwreghotwzzfcdvtbseuljxntiutxzkmjk select 1) + _itemWeight],true]; 	[life_trunk_vehicle] call life_fnc_wcvkmqfrkivnvtvuxgjcruscfabaxpsappuiqnbqmzbrrvrlwrsawkmwlt; } 	else { 	if(((_mgmhcboijvbmymbrncplwhiiyyxlzhhgigcvxblgdrzdwyxrjbcbwiseitti select 1) + _itemWeight) > (_mgmhcboijvbmymbrncplwhiiyyxlzhhgigcvxblgdrzdwyxrjbcbwiseitti select 0)) exitWith {hint "The vehicle is either full or cannot hold that much."};  	if(!([false,_qujwsasowuanjavzdhedctdpgnxabdxsikkfwmdxpmgegrggdzxprnmekrzhg,_agnduwdwvpnlqyawnbuahpzgjxheeowldekyykggnhwfewdvxfbbuenjhssgrmkjk] call life_fnc_obfjrnynfhghcglhujcjbgakxemxpjvrqczgxoeickhzvgovmtdbvr)) exitWith {hint "Couldn't remove the items from your inventory to put in the vehicle.";}; 	_index = [_qujwsasowuanjavzdhedctdpgnxabdxsikkfwmdxpmgegrggdzxprnmekrzhg,_zciemkdiclysarqujtxvtpsasdmgwcvxxmotaracphpkufsfzyqevtmvrvwzhgkrmb] call TON_fnc_index; 	if(_index == -1) then 	{ 		_zciemkdiclysarqujtxvtpsasdmgwcvxxmotaracphpkufsfzyqevtmvrvwzhgkrmb pushBack [_qujwsasowuanjavzdhedctdpgnxabdxsikkfwmdxpmgegrggdzxprnmekrzhg,_agnduwdwvpnlqyawnbuahpzgjxheeowldekyykggnhwfewdvxfbbuenjhssgrmkjk]; 	} 		else 	{ 		_nxctoqonotusbodyvlnxvcueeodwsxivdabteswqknaruvurzcnijdsoupifezupusaap = _zciemkdiclysarqujtxvtpsasdmgwcvxxmotaracphpkufsfzyqevtmvrvwzhgkrmb select _index select 1; 		_zciemkdiclysarqujtxvtpsasdmgwcvxxmotaracphpkufsfzyqevtmvrvwzhgkrmb set[_index,[_qujwsasowuanjavzdhedctdpgnxabdxsikkfwmdxpmgegrggdzxprnmekrzhg,_nxctoqonotusbodyvlnxvcueeodwsxivdabteswqknaruvurzcnijdsoupifezupusaap + _agnduwdwvpnlqyawnbuahpzgjxheeowldekyykggnhwfewdvxfbbuenjhssgrmkjk]]; 	}; 	 	life_trunk_vehicle setVariable["Trunk",[_zciemkdiclysarqujtxvtpsasdmgwcvxxmotaracphpkufsfzyqevtmvrvwzhgkrmb,(_dvxwfcxtbuhiddfeipiboayfbxrwreghotwzzfcdvtbseuljxntiutxzkmjk select 1) + _itemWeight],true]; 	[life_trunk_vehicle] call life_fnc_wcvkmqfrkivnvtvuxgjcruscfabaxpsappuiqnbqmzbrrvrlwrsawkmwlt; 	 	 	switch (true) do { 		case ((life_trunk_vehicle isKindOf "House_F") && count (life_trunk_vehicle getVariable ["house_owner",[]]) > 0): { 			[3,localize (ITEM_NAME(_qujwsasowuanjavzdhedctdpgnxabdxsikkfwmdxpmgegrggdzxprnmekrzhg)),(getPlayerUID player),false,(life_trunk_vehicle getVariable ["house_owner",[]]),(getPosATL life_trunk_vehicle),_agnduwdwvpnlqyawnbuahpzgjxheeowldekyykggnhwfewdvxfbbuenjhssgrmkjk] remoteExec ["TON_fnc_biccwmelxtllyqsrgknditylbnatpufhkgtqkjtdchpuczoxztizsmr",2]; 		}; 		 		case (life_trunk_vehicle isKindOf "Air" OR life_trunk_vehicle isKindOf "Car" OR life_trunk_vehicle isKindOf "Ship"): { 			[0,localize (ITEM_NAME(_qujwsasowuanjavzdhedctdpgnxabdxsikkfwmdxpmgegrggdzxprnmekrzhg)),(getPlayerUID player),false,life_trunk_vehicle getVariable ["vid",-1],[],_agnduwdwvpnlqyawnbuahpzgjxheeowldekyykggnhwfewdvxfbbuenjhssgrmkjk] remoteExec ["TON_fnc_biccwmelxtllyqsrgknditylbnatpufhkgtqkjtdchpuczoxztizsmr",2]; 		}; 		 		case (life_trunk_vehicle getVariable ["customSpawnedBox",false]): { 			[6,localize (ITEM_NAME(_qujwsasowuanjavzdhedctdpgnxabdxsikkfwmdxpmgegrggdzxprnmekrzhg)),(getPlayerUID player),false,if!(isNil {life_trunk_vehicle getVariable "islandBox_looted"}) then {1} else {[]},[],_agnduwdwvpnlqyawnbuahpzgjxheeowldekyykggnhwfewdvxfbbuenjhssgrmkjk] remoteExec ["TON_fnc_biccwmelxtllyqsrgknditylbnatpufhkgtqkjtdchpuczoxztizsmr",2]; 		}; 		 		default { 			[1,localize (ITEM_NAME(_qujwsasowuanjavzdhedctdpgnxabdxsikkfwmdxpmgegrggdzxprnmekrzhg)),(getPlayerUID player),false,[],[],_agnduwdwvpnlqyawnbuahpzgjxheeowldekyykggnhwfewdvxfbbuenjhssgrmkjk] remoteExec ["TON_fnc_biccwmelxtllyqsrgknditylbnatpufhkgtqkjtdchpuczoxztizsmr",2]; 		}; 	}; }; 