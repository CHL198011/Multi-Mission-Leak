
#include <macro.h>
 private["_veh","_qrnmcbbyeolshkhyjowhfxrznbmrojgpwdjjwxexiorhhgyxwhnijlhecktt","_uhgmchizuexmlsqzdqpqpeiqhfydfwixetbpjitieenwovbilpznyyqijssvhaik","_iytkkfhuvuajakgzmpwwrgcsrwjsxtfblmzgsmdcvmkcfkcajtsynwpfndmca","_nmgzvyfzzgcajsfnprqytsitdokhvqlcklqyijzxqfwxejkuskhjugfwdfgkbclglaovm","_itpjowjtgutfuoxwdtgnccgsgylpqbpdogqesgmsvswhgakkdskazimannkojvcweybib"]; _veh = [_this,0,ObjNull,[ObjNull]] call BIS_fnc_param; _nmgzvyfzzgcajsfnprqytsitdokhvqlcklqyijzxqfwxejkuskhjugfwdfgkbclglaovm = if(_veh getVariable ["CustomSpawnedBox",false]) then {true} else {false};  if(isNull _veh OR !alive _veh) exitWith {closeDialog 0;};  disableSerialization; _qrnmcbbyeolshkhyjowhfxrznbmrojgpwdjjwxexiorhhgyxwhnijlhecktt = CONTROL(3500,3502); _uhgmchizuexmlsqzdqpqpeiqhfydfwixetbpjitieenwovbilpznyyqijssvhaik = CONTROL(3500,3503); lbClear _qrnmcbbyeolshkhyjowhfxrznbmrojgpwdjjwxexiorhhgyxwhnijlhecktt; lbClear _uhgmchizuexmlsqzdqpqpeiqhfydfwixetbpjitieenwovbilpznyyqijssvhaik; if(_veh isKindOf "House_F") then { 	private "_mWeight"; 	_mWeight = 0; 	{_mWeight = _mWeight + ([(typeOf _x)] call life_fnc_mznujvukapeymycvjtmamjqwhdeiciurdtzdsujxzqrqstinqlffmqn);} foreach (_veh getVariable["containers",[]]); 	_iytkkfhuvuajakgzmpwwrgcsrwjsxtfblmzgsmdcvmkcfkcajtsynwpfndmca = [_mWeight,(_veh getVariable["Trunk",[[],0]]) select 1]; } else { 	if(_nmgzvyfzzgcajsfnprqytsitdokhvqlcklqyijzxqfwxejkuskhjugfwdfgkbclglaovm) then { 		_itpjowjtgutfuoxwdtgnccgsgylpqbpdogqesgmsvswhgakkdskazimannkojvcweybib = (_veh getVariable "Trunk") select 1; 		if(isNil "_itpjowjtgutfuoxwdtgnccgsgylpqbpdogqesgmsvswhgakkdskazimannkojvcweybib") then {_itpjowjtgutfuoxwdtgnccgsgylpqbpdogqesgmsvswhgakkdskazimannkojvcweybib = 0}; 		_iytkkfhuvuajakgzmpwwrgcsrwjsxtfblmzgsmdcvmkcfkcajtsynwpfndmca = [2000,_itpjowjtgutfuoxwdtgnccgsgylpqbpdogqesgmsvswhgakkdskazimannkojvcweybib]; 	} else { 		_iytkkfhuvuajakgzmpwwrgcsrwjsxtfblmzgsmdcvmkcfkcajtsynwpfndmca = [_veh] call life_fnc_tldmxiaaawydcyvjenfxuvhodcmhglobclxfeodxzgjxwashxcijp; 	}; }; if(EQUAL(SEL(_iytkkfhuvuajakgzmpwwrgcsrwjsxtfblmzgsmdcvmkcfkcajtsynwpfndmca,0),-1)) exitWith {closeDialog 0}; ctrlSetText[3504,format["Weight: %1/%2",_iytkkfhuvuajakgzmpwwrgcsrwjsxtfblmzgsmdcvmkcfkcajtsynwpfndmca select 1,_iytkkfhuvuajakgzmpwwrgcsrwjsxtfblmzgsmdcvmkcfkcajtsynwpfndmca select 0]]; _data = _veh getVariable ["Trunk",[]]; if(EQUAL(count _data,0)) then {_veh setVariable["Trunk",[[],0],true]; _data = [];} else {_data = _data select 0;};  { 	_val = ITEM_VALUE(configName _x); 	if(_val > 0) then { 		_uhgmchizuexmlsqzdqpqpeiqhfydfwixetbpjitieenwovbilpznyyqijssvhaik lbAdd format["[%1] - %2",_val,localize (getText(_x >> "displayName"))]; 		_uhgmchizuexmlsqzdqpqpeiqhfydfwixetbpjitieenwovbilpznyyqijssvhaik lbSetData [(lbSize _uhgmchizuexmlsqzdqpqpeiqhfydfwixetbpjitieenwovbilpznyyqijssvhaik)-1,configName _x]; 		_icon = M_CONFIG(getText,"VirtualItems",configName _x,"icon"); 		if(!(EQUAL(_icon,""))) then { 			_uhgmchizuexmlsqzdqpqpeiqhfydfwixetbpjitieenwovbilpznyyqijssvhaik lbSetPicture [(lbSize _uhgmchizuexmlsqzdqpqpeiqhfydfwixetbpjitieenwovbilpznyyqijssvhaik)-1,_icon]; 		}; 	}; } foreach ("true" configClasses (missionConfigFile >> "VirtualItems"));  { 	_name = M_CONFIG(getText,"VirtualItems",SEL(_x,0),"displayName"); 	_val = SEL(_x,1); 	if(_val > 0) then { 		_qrnmcbbyeolshkhyjowhfxrznbmrojgpwdjjwxexiorhhgyxwhnijlhecktt lbAdd format["[%1] - %2",_val,localize _name]; 		_qrnmcbbyeolshkhyjowhfxrznbmrojgpwdjjwxexiorhhgyxwhnijlhecktt lbSetData [(lbSize _qrnmcbbyeolshkhyjowhfxrznbmrojgpwdjjwxexiorhhgyxwhnijlhecktt)-1,SEL(_x,0)]; 		 		_icon = M_CONFIG(getText,"VirtualItems",SEL(_x,0),"icon"); 		if(!(EQUAL(_icon,""))) then { 			_qrnmcbbyeolshkhyjowhfxrznbmrojgpwdjjwxexiorhhgyxwhnijlhecktt lbSetPicture [(lbSize _qrnmcbbyeolshkhyjowhfxrznbmrojgpwdjjwxexiorhhgyxwhnijlhecktt)-1,_icon]; 		}; 	}; } foreach _data; 