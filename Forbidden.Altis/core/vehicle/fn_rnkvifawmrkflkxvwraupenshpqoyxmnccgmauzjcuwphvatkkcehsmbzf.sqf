 private["_vehicle","_ckhwzebigqwcbjxduizdljhckohbhvrkiagygoegtcbenpcuuokkclsihhkjmtgwhrv","_qnxmdtgxeatbfwoqgxcrrzblrxqeapxfrhbgyydqihxentuwxrvhsvmjxwfm"]; if(dialog) exitWith {}; _vehicle = [_this,0,Objnull,[Objnull]] call BIS_fnc_param;   _qnxmdtgxeatbfwoqgxcrrzblrxqeapxfrhbgyydqihxentuwxrvhsvmjxwfm = if(_vehicle getVariable ["customSpawnedBox",false]) then {true} else {false};  if(isNull _vehicle OR !(_vehicle isKindOf "Car" OR _vehicle isKindOf "Air" OR _vehicle isKindOf "Ship" OR _vehicle isKindOf "House_F" OR _qnxmdtgxeatbfwoqgxcrrzblrxqeapxfrhbgyydqihxentuwxrvhsvmjxwfm)) exitWith {};  if((_vehicle getVariable ["trunk_in_use",false])) exitWith {hint localize "STR_MISC_VehInvUse"}; _vehicle setVariable["trunk_in_use",true,true]; if(!createDialog "TrunkMenu") exitWith {hint localize "STR_MISC_DialogError";};  disableSerialization;  player setVariable ["current_trunk",_vehicle,true]; if(_vehicle isKindOf "House_F") then { 	ctrlSetText[3501,format[(localize "STR_MISC_HouseStorage")+ " - %1",getText(configFile >> "CfgVehicles" >> (typeOf _vehicle) >> "displayName")]]; } else { 	if(_qnxmdtgxeatbfwoqgxcrrzblrxqeapxfrhbgyydqihxentuwxrvhsvmjxwfm) then { 		ctrlSetText[3501,format["Loot"]]; 	} else { 		ctrlSetText[3501,format[(localize "STR_MISC_VehStorage")+ " - %1",getText(configFile >> "CfgVehicles" >> (typeOf _vehicle) >> "displayName")]]; 	}; };  if(_vehicle isKindOf "House_F") then { 	private["_bvueyusaihpabhxzlszrzgokgauywqzdymdkdcwlatmlzwfpncoeeyvhwankxaehlzwgw","_vknaaxdyztjfwrnxbiqodaesphmtquljatmnwbarhegqdgiadtgiivoddesygbgbcwh"]; 	_bvueyusaihpabhxzlszrzgokgauywqzdymdkdcwlatmlzwfpncoeeyvhwankxaehlzwgw = 0; 	{_bvueyusaihpabhxzlszrzgokgauywqzdymdkdcwlatmlzwfpncoeeyvhwankxaehlzwgw = _bvueyusaihpabhxzlszrzgokgauywqzdymdkdcwlatmlzwfpncoeeyvhwankxaehlzwgw + ([(typeOf _x)] call life_fnc_mznujvukapeymycvjtmamjqwhdeiciurdtzdsujxzqrqstinqlffmqn);} foreach (_vehicle getVariable["containers",[]]); 	_ckhwzebigqwcbjxduizdljhckohbhvrkiagygoegtcbenpcuuokkclsihhkjmtgwhrv = [_bvueyusaihpabhxzlszrzgokgauywqzdymdkdcwlatmlzwfpncoeeyvhwankxaehlzwgw,(_vehicle getVariable["Trunk",[[],0]]) select 1]; } else { 	if(_qnxmdtgxeatbfwoqgxcrrzblrxqeapxfrhbgyydqihxentuwxrvhsvmjxwfm) then { 		_vknaaxdyztjfwrnxbiqodaesphmtquljatmnwbarhegqdgiadtgiivoddesygbgbcwh = (_vehicle getVariable "Trunk") select 1; 		if(isNil "_vknaaxdyztjfwrnxbiqodaesphmtquljatmnwbarhegqdgiadtgiivoddesygbgbcwh") then {_vknaaxdyztjfwrnxbiqodaesphmtquljatmnwbarhegqdgiadtgiivoddesygbgbcwh = 0}; 		_ckhwzebigqwcbjxduizdljhckohbhvrkiagygoegtcbenpcuuokkclsihhkjmtgwhrv = [2000,_vknaaxdyztjfwrnxbiqodaesphmtquljatmnwbarhegqdgiadtgiivoddesygbgbcwh]; 	} else { 		_ckhwzebigqwcbjxduizdljhckohbhvrkiagygoegtcbenpcuuokkclsihhkjmtgwhrv = [_vehicle] call life_fnc_tldmxiaaawydcyvjenfxuvhodcmhglobclxfeodxzgjxwashxcijp; 	}; };  if(_vehicle isKindOf "House_F" && {count (_vehicle getVariable ["containers",[]]) == 0}) exitWith {hint localize "STR_MISC_NoStorageWarn"; closeDialog 0; _vehicle setVariable["trunk_in_use",false,true];}; if(_ckhwzebigqwcbjxduizdljhckohbhvrkiagygoegtcbenpcuuokkclsihhkjmtgwhrv select 0 == -1 && {!(_vehicle isKindOf "House_F")} && !_qnxmdtgxeatbfwoqgxcrrzblrxqeapxfrhbgyydqihxentuwxrvhsvmjxwfm) exitWith {closeDialog 0; _vehicle setVariable["trunk_in_use",false,true]; hint localize "STR_MISC_NoStorageVeh";};  ctrlSetText[3504,format[(localize "STR_MISC_Weight")+ " %1/%2",_ckhwzebigqwcbjxduizdljhckohbhvrkiagygoegtcbenpcuuokkclsihhkjmtgwhrv select 1,_ckhwzebigqwcbjxduizdljhckohbhvrkiagygoegtcbenpcuuokkclsihhkjmtgwhrv select 0]]; [_vehicle] spawn life_fnc_wcvkmqfrkivnvtvuxgjcruscfabaxpsappuiqnbqmzbrrvrlwrsawkmwlt; life_trunk_vehicle = _vehicle;  _vehicle spawn { 	waitUntil {isNull (findDisplay 3500)}; 	player setVariable ["current_trunk",objNull,true]; 	_this setVariable["trunk_in_use",false,true]; 	if(_this isKindOf "House_F") then { 		[[_this],"TON_fnc_vgixugfuhwdrbudkhagtzhfxcphnfduettoqiqyyszvpvfcyfeolsswwa",false,false] call life_fnc_MP; 	}; }; 