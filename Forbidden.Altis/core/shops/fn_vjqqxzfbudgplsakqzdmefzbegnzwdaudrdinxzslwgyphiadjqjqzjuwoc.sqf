
#include <macro.h>
 disableSerialization; private["_qdbrbtplkpulmrwqaonzysimzexriuhkipmaqqvaihwrjflqlpuhhfusochw","_uvpkcwidtrflxnondeqnawnxazxlxpwrfwcavtsisinhkbypstnyawuzpjfxvobayca","_rppcpmzluciihyzrcjmtqoftwywhpddnnuanwzbswbmcizqcxhwzyqgzhvdagf","_efhpapvdbovlyzjsnduwqeuiastjqwrtwsusuhbcihluujuupfhxmhkedfcwvnnifrncfq","_jydgdnqgodohtkrudgcvkuhphmzdarryphffrywadlbaxuwqzpxknwqkdaqnhw","_mjevayjtdghlutplqcudzxellpowfijjaqrthweweygxokbqmoinwvcmnwzqz","_esnymfugvowcsllqukoxormijhtmtmgzxenqudslhtfvvoolombtxwtrjniycnlqid","_yexvidhholhyurafdxwoldmklhjtfehjmteklbznbuvshlmgobbvlalxconbaswz","_jinfhdvylairtdaqckfdnyszmxakbiteeuzfkbfwlvdfrqtnaouafbsbvyuzvsjdo","_price","_total","_nuhpacglnbhdsjyhinhgpmochdwxffeqalmyfrtobiqlxvfrrmivinpcbzrpwpycvps","_kvvmjggjimcymrdrjyrtkprivcfofdvdfbxhitztxysothmcuxvwqkwylwaaiaeulnqcsc","_hudnucuqmjdwgqlnotljvjdxwgbpmvoitcdakljcjxzckzajgaijwozwubpsyon","_yexvidhholhyurafdxwoldmklhjtfehjmteklbznbuvshlmgobbvlalxconbaswzPoint","_ancfzkbhnxiuxlfdycdadhtpeiazmsuuxdqskodsrdwwzlkchrwybgcesdhzsojtumrbmq"]; _qdbrbtplkpulmrwqaonzysimzexriuhkipmaqqvaihwrjflqlpuhhfusochw = (_this select 0) select 0; _esnymfugvowcsllqukoxormijhtmtmgzxenqudslhtfvvoolombtxwtrjniycnlqid = (_this select 0) select 1; _price = (findDisplay 3100) displayCtrl 3102; _total = (findDisplay 3100) displayCtrl 3106; if(_esnymfugvowcsllqukoxormijhtmtmgzxenqudslhtfvvoolombtxwtrjniycnlqid == -1) exitWith {hint localize "STR_Shop_NoSelection";}; if(isNull _qdbrbtplkpulmrwqaonzysimzexriuhkipmaqqvaihwrjflqlpuhhfusochw) exitWith {hint localize "STR_Shop_NoDisplay"}; if(life_cMenu_lock) exitWith {}; life_cMenu_lock = true;  _yexvidhholhyurafdxwoldmklhjtfehjmteklbznbuvshlmgobbvlalxconbaswz = call compile (_qdbrbtplkpulmrwqaonzysimzexriuhkipmaqqvaihwrjflqlpuhhfusochw lbData _esnymfugvowcsllqukoxormijhtmtmgzxenqudslhtfvvoolombtxwtrjniycnlqid);  _jinfhdvylairtdaqckfdnyszmxakbiteeuzfkbfwlvdfrqtnaouafbsbvyuzvsjdo = _yexvidhholhyurafdxwoldmklhjtfehjmteklbznbuvshlmgobbvlalxconbaswz select 0; _yexvidhholhyurafdxwoldmklhjtfehjmteklbznbuvshlmgobbvlalxconbaswzPoint = _yexvidhholhyurafdxwoldmklhjtfehjmteklbznbuvshlmgobbvlalxconbaswz select 1;  _uvpkcwidtrflxnondeqnawnxazxlxpwrfwcavtsisinhkbypstnyawuzpjfxvobayca = SEL(_yexvidhholhyurafdxwoldmklhjtfehjmteklbznbuvshlmgobbvlalxconbaswzPoint,0); _rppcpmzluciihyzrcjmtqoftwywhpddnnuanwzbswbmcizqcxhwzyqgzhvdagf = SEL(_yexvidhholhyurafdxwoldmklhjtfehjmteklbznbuvshlmgobbvlalxconbaswzPoint,1); _efhpapvdbovlyzjsnduwqeuiastjqwrtwsusuhbcihluujuupfhxmhkedfcwvnnifrncfq = SEL(_yexvidhholhyurafdxwoldmklhjtfehjmteklbznbuvshlmgobbvlalxconbaswzPoint,2);  if(!(EQUAL(_uvpkcwidtrflxnondeqnawnxazxlxpwrfwcavtsisinhkbypstnyawuzpjfxvobayca,""))) then { 	_mjevayjtdghlutplqcudzxellpowfijjaqrthweweygxokbqmoinwvcmnwzqz = GVAR_MNS _uvpkcwidtrflxnondeqnawnxazxlxpwrfwcavtsisinhkbypstnyawuzpjfxvobayca; 	if(typeName _mjevayjtdghlutplqcudzxellpowfijjaqrthweweygxokbqmoinwvcmnwzqz == typeName {}) then {_mjevayjtdghlutplqcudzxellpowfijjaqrthweweygxokbqmoinwvcmnwzqz = FETCH_CONST(_mjevayjtdghlutplqcudzxellpowfijjaqrthweweygxokbqmoinwvcmnwzqz);}; 	 	_ancfzkbhnxiuxlfdycdadhtpeiazmsuuxdqskodsrdwwzlkchrwybgcesdhzsojtumrbmq = switch(_rppcpmzluciihyzrcjmtqoftwywhpddnnuanwzbswbmcizqcxhwzyqgzhvdagf) do { 		case (typeName 0): {_mjevayjtdghlutplqcudzxellpowfijjaqrthweweygxokbqmoinwvcmnwzqz >= _efhpapvdbovlyzjsnduwqeuiastjqwrtwsusuhbcihluujuupfhxmhkedfcwvnnifrncfq}; 		case (typeName true): {_mjevayjtdghlutplqcudzxellpowfijjaqrthweweygxokbqmoinwvcmnwzqz}; 		default {EQUAL(_mjevayjtdghlutplqcudzxellpowfijjaqrthweweygxokbqmoinwvcmnwzqz,_efhpapvdbovlyzjsnduwqeuiastjqwrtwsusuhbcihluujuupfhxmhkedfcwvnnifrncfq)}; 	}; } else { 	_ancfzkbhnxiuxlfdycdadhtpeiazmsuuxdqskodsrdwwzlkchrwybgcesdhzsojtumrbmq = true; };   _jydgdnqgodohtkrudgcvkuhphmzdarryphffrywadlbaxuwqzpxknwqkdaqnhw = if(_ancfzkbhnxiuxlfdycdadhtpeiazmsuuxdqskodsrdwwzlkchrwybgcesdhzsojtumrbmq) then {(_qdbrbtplkpulmrwqaonzysimzexriuhkipmaqqvaihwrjflqlpuhhfusochw lbValue _esnymfugvowcsllqukoxormijhtmtmgzxenqudslhtfvvoolombtxwtrjniycnlqid)} else {-1}; life_clothing_purchase set[life_clothing_filter,_jydgdnqgodohtkrudgcvkuhphmzdarryphffrywadlbaxuwqzpxknwqkdaqnhw];      if(EQUAL(_jinfhdvylairtdaqckfdnyszmxakbiteeuzfkbfwlvdfrqtnaouafbsbvyuzvsjdo,"NONE")) then { 	_item = switch(life_clothing_filter) do { 		case 0: {uniform player}; 		case 1: {headGear player}; 		case 2: {goggles player}; 		case 3: {vest player}; 		case 4: {backpack player}; 	}; 	 	[_item,false] call life_fnc_handleItem; } else { 	switch(life_clothing_filter) do { 		case 0: { 			if(_jinfhdvylairtdaqckfdnyszmxakbiteeuzfkbfwlvdfrqtnaouafbsbvyuzvsjdo in ["U_O_PilotCoveralls","U_B_Wetsuit","U_Rangemaster"]) then { 				[_jinfhdvylairtdaqckfdnyszmxakbiteeuzfkbfwlvdfrqtnaouafbsbvyuzvsjdo,true,nil,nil,nil,nil,nil,true] call life_fnc_handleItem; 			} else { 				removeuniform player; 				player adduniform _jinfhdvylairtdaqckfdnyszmxakbiteeuzfkbfwlvdfrqtnaouafbsbvyuzvsjdo; 			}; 		}; 		case 1: {removeheadgear player; player addheadgear _jinfhdvylairtdaqckfdnyszmxakbiteeuzfkbfwlvdfrqtnaouafbsbvyuzvsjdo;}; 		case 2: {removegoggles player; player addgoggles _jinfhdvylairtdaqckfdnyszmxakbiteeuzfkbfwlvdfrqtnaouafbsbvyuzvsjdo;}; 		case 3: {removevest player; player addvest _jinfhdvylairtdaqckfdnyszmxakbiteeuzfkbfwlvdfrqtnaouafbsbvyuzvsjdo;}; 		case 4: {removeBackpack player; player addbackpack _jinfhdvylairtdaqckfdnyszmxakbiteeuzfkbfwlvdfrqtnaouafbsbvyuzvsjdo;}; 	}; 	 	 };  life_cMenu_lock = false; _price ctrlSetStructuredText parseText format [(localize "STR_GNOTF_Price")+ " <t color='#8cff9b'>$%1</t>",[(_qdbrbtplkpulmrwqaonzysimzexriuhkipmaqqvaihwrjflqlpuhhfusochw lbValue _esnymfugvowcsllqukoxormijhtmtmgzxenqudslhtfvvoolombtxwtrjniycnlqid)] call life_fnc_ccxpkhrsgzfibqpgmuxgqovtqnwczbibnrrxqvyckzrmhckzyugqq];  _nuhpacglnbhdsjyhinhgpmochdwxffeqalmyfrtobiqlxvfrrmivinpcbzrpwpycvps = 0; { 	if(_x != -1) then { 		_nuhpacglnbhdsjyhinhgpmochdwxffeqalmyfrtobiqlxvfrrmivinpcbzrpwpycvps = _nuhpacglnbhdsjyhinhgpmochdwxffeqalmyfrtobiqlxvfrrmivinpcbzrpwpycvps + _x; 	}; } foreach life_clothing_purchase;  _total ctrlSetStructuredText parseText format [(localize "STR_Shop_Total")+ " <t color='#8cff9b'>$%1</t>",[_nuhpacglnbhdsjyhinhgpmochdwxffeqalmyfrtobiqlxvfrrmivinpcbzrpwpycvps] call life_fnc_ccxpkhrsgzfibqpgmuxgqovtqnwczbibnrrxqvyckzrmhckzyugqq]; [[],false,(!_ancfzkbhnxiuxlfdycdadhtpeiazmsuuxdqskodsrdwwzlkchrwybgcesdhzsojtumrbmq && life_clothing_filter == 0)] spawn life_fnc_rowhjumsjgsncucggciahhfhgmxuheiscxpmznzokspmwulycajsgd; 