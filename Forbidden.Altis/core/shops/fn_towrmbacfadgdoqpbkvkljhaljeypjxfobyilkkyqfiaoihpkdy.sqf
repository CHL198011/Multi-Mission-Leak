
#include <macro.h>
 if(life_action_inUse) exitWith {hint localize "STR_NOTF_ActionInProc"}; disableSerialization; private["_hmiawwuutvzknaedbffuydfzfhipvsyuauahfwpmloqobnahxyudaiwnhbkd","_frmnflshxmpzxcrgyzkdknjfqqobrzohlsffnbxsauznufytbzihyrlawztqclrelaa"]; _hmiawwuutvzknaedbffuydfzfhipvsyuauahfwpmloqobnahxyudaiwnhbkd = nearestObjects [getMarkerPos (_this select 3),["Car","Truck","Air"],25];  life_chopShop = SEL(_this,3);  if(EQUAL(count _hmiawwuutvzknaedbffuydfzfhipvsyuauahfwpmloqobnahxyudaiwnhbkd,0)) exitWith {titleText[localize "STR_Shop_NoVehNear","PLAIN"];}; if(!(createDialog "Chop_Shop")) exitWith {hint localize "STR_Shop_ChopShopError"};  _frmnflshxmpzxcrgyzkdknjfqqobrzohlsffnbxsauznufytbzihyrlawztqclrelaa = CONTROL(39400,39402); { 	if(alive _x) then { 		_className = typeOf _x; 		_displayName = getText(configFile >> "CfgVehicles" >> _className >> "displayName"); 		_picture = getText(configFile >> "CfgVehicles" >> _className >> "picture"); 		 		_price = M_CONFIG(getNumber,CONFIG_VEHICLES,_className,"chopShop"); 		if(!isNil "_price" && EQUAL(count crew _x,0)) then { 			_frmnflshxmpzxcrgyzkdknjfqqobrzohlsffnbxsauznufytbzihyrlawztqclrelaa lbAdd _displayName; 			_frmnflshxmpzxcrgyzkdknjfqqobrzohlsffnbxsauznufytbzihyrlawztqclrelaa lbSetData [(lbSize _frmnflshxmpzxcrgyzkdknjfqqobrzohlsffnbxsauznufytbzihyrlawztqclrelaa)-1,str(_forEachIndex)]; 			_frmnflshxmpzxcrgyzkdknjfqqobrzohlsffnbxsauznufytbzihyrlawztqclrelaa lbSetPicture [(lbSize _frmnflshxmpzxcrgyzkdknjfqqobrzohlsffnbxsauznufytbzihyrlawztqclrelaa)-1,_picture]; 			_frmnflshxmpzxcrgyzkdknjfqqobrzohlsffnbxsauznufytbzihyrlawztqclrelaa lbSetValue [(lbSize _frmnflshxmpzxcrgyzkdknjfqqobrzohlsffnbxsauznufytbzihyrlawztqclrelaa)-1,_price]; 		}; 	}; } foreach _hmiawwuutvzknaedbffuydfzfhipvsyuauahfwpmloqobnahxyudaiwnhbkd; 