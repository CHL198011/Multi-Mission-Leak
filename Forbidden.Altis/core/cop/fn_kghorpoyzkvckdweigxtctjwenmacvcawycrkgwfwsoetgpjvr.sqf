
#include <macro.h>
 private["_zdjdwqtrydxsibaxrerlrocwrncrtzbxvocactmpfanxtzgmngbtjpifrcvljac","_hfufukbfgjroxmqkdyhvxcbofhfcipyvqphorecqmfjsdnsmruwlkelwfnzusyvnhzwc","_ievnmusnbieypuumqhcyticqpucovsjljqsalypdstvdrwlxmaentgpagqzdhjhe","_rebels","_kzfulrywydsboynivryekjgknpscgjcumfongmtsvmyaxambeqwbbydyskkzrrerw"]; _zdjdwqtrydxsibaxrerlrocwrncrtzbxvocactmpfanxtzgmngbtjpifrcvljac = SEL(_this,0); _hfufukbfgjroxmqkdyhvxcbofhfcipyvqphorecqmfjsdnsmruwlkelwfnzusyvnhzwc = 1; _hfufukbfgjroxmqkdyhvxcbofhfcipyvqphorecqmfjsdnsmruwlkelwfnzusyvnhzwc = FETCH_CONFIG2(getNumber,CONFIG_VEHICLES,typeOf _zdjdwqtrydxsibaxrerlrocwrncrtzbxvocactmpfanxtzgmngbtjpifrcvljac,"NumberOfDoors");  _ievnmusnbieypuumqhcyticqpucovsjljqsalypdstvdrwlxmaentgpagqzdhjhe = 0;  if((_zdjdwqtrydxsibaxrerlrocwrncrtzbxvocactmpfanxtzgmngbtjpifrcvljac in [rebel_weaponstash,rebel_radioTower]) && (_zdjdwqtrydxsibaxrerlrocwrncrtzbxvocactmpfanxtzgmngbtjpifrcvljac getVariable ["chargeplaced",false])) exitWith {hint localize "STR_m_chargePlacedRebel"};  _kzfulrywydsboynivryekjgknpscgjcumfongmtsvmyaxambeqwbbydyskkzrrerw = false; if(_zdjdwqtrydxsibaxrerlrocwrncrtzbxvocactmpfanxtzgmngbtjpifrcvljac in [rebel_weaponstash,rebel_radioTower]) then { 	_rebels = [] call life_fnc_dukkaashsaqxerftxqvfbicuzddjsictjwmgmzyzuqckdtaeivdmgnmyneod; 	{ 		if(isPlayer _x && !(_x in _rebels)) exitWith {_kzfulrywydsboynivryekjgknpscgjcumfongmtsvmyaxambeqwbbydyskkzrrerw = true;}; 	} foreach nearestObjects [_zdjdwqtrydxsibaxrerlrocwrncrtzbxvocactmpfanxtzgmngbtjpifrcvljac,["Man"],450]; 	_ievnmusnbieypuumqhcyticqpucovsjljqsalypdstvdrwlxmaentgpagqzdhjhe = [_zdjdwqtrydxsibaxrerlrocwrncrtzbxvocactmpfanxtzgmngbtjpifrcvljac] call life_fnc_jkvvmuvnfrypchjwooxahzhfxbygdozoybzteujqgkxtgenmih; } else { 	for "_i" from 1 to _hfufukbfgjroxmqkdyhvxcbofhfcipyvqphorecqmfjsdnsmruwlkelwfnzusyvnhzwc do { 		_selPos = _zdjdwqtrydxsibaxrerlrocwrncrtzbxvocactmpfanxtzgmngbtjpifrcvljac selectionPosition format["Door_%1_trigger",_i]; 		_worldSpace = _zdjdwqtrydxsibaxrerlrocwrncrtzbxvocactmpfanxtzgmngbtjpifrcvljac modelToWorld _selPos; 			if(player distance _worldSpace < 5) exitWith {_ievnmusnbieypuumqhcyticqpucovsjljqsalypdstvdrwlxmaentgpagqzdhjhe = _i;}; 	}; }; if(_ievnmusnbieypuumqhcyticqpucovsjljqsalypdstvdrwlxmaentgpagqzdhjhe == 0) exitWith {hint localize "STR_Cop_NotaDoor"};  if(_kzfulrywydsboynivryekjgknpscgjcumfongmtsvmyaxambeqwbbydyskkzrrerw) exitWith {hint localize "STR_m_NonRebelClose"};  if(_zdjdwqtrydxsibaxrerlrocwrncrtzbxvocactmpfanxtzgmngbtjpifrcvljac animationPhase format["door_%1_rot",_ievnmusnbieypuumqhcyticqpucovsjljqsalypdstvdrwlxmaentgpagqzdhjhe] == 0) then { 	_zdjdwqtrydxsibaxrerlrocwrncrtzbxvocactmpfanxtzgmngbtjpifrcvljac animate[format["door_%1_rot",_ievnmusnbieypuumqhcyticqpucovsjljqsalypdstvdrwlxmaentgpagqzdhjhe],1]; } else { 	_zdjdwqtrydxsibaxrerlrocwrncrtzbxvocactmpfanxtzgmngbtjpifrcvljac animate[format["door_%1_rot",_ievnmusnbieypuumqhcyticqpucovsjljqsalypdstvdrwlxmaentgpagqzdhjhe],0]; };  if(_zdjdwqtrydxsibaxrerlrocwrncrtzbxvocactmpfanxtzgmngbtjpifrcvljac in [rebel_weaponstash,rebel_radioTower]) then { 	[_zdjdwqtrydxsibaxrerlrocwrncrtzbxvocactmpfanxtzgmngbtjpifrcvljac] spawn { 		sleep 2; 		_zdjdwqtrydxsibaxrerlrocwrncrtzbxvocactmpfanxtzgmngbtjpifrcvljac = (_this select 0); 		private ["_coeamezumkrwgzowtkkreczxeferaqpybvllkjqvaxeuxqprzbwbtyhqfjycmq","_zdjdwqtrydxsibaxrerlrocwrncrtzbxvocactmpfanxtzgmngbtjpifrcvljac"]; 		_coeamezumkrwgzowtkkreczxeferaqpybvllkjqvaxeuxqprzbwbtyhqfjycmq = true; 		for "_i" from 1 to 8 do { 			if((_zdjdwqtrydxsibaxrerlrocwrncrtzbxvocactmpfanxtzgmngbtjpifrcvljac animationPhase format["door_%1_rot",_i] == 1) && (_i != 4)) exitWith {_coeamezumkrwgzowtkkreczxeferaqpybvllkjqvaxeuxqprzbwbtyhqfjycmq = false;}; 		}; 		if(_coeamezumkrwgzowtkkreczxeferaqpybvllkjqvaxeuxqprzbwbtyhqfjycmq) then {_zdjdwqtrydxsibaxrerlrocwrncrtzbxvocactmpfanxtzgmngbtjpifrcvljac setVariable["safe_open",false,true];}; 	}; };  closeDialog 0; 