
#include<macro.h>
 if(isNil "constructionEVH") then {constructionEVH = -1;}; if((call life_donatorlvl) < 4) exitWith {};  if(constructionEVH == -1) then { 	constructionEVH = (findDisplay 46) displayAddEventHandler ["Keydown",{ 		private["_qfewxewxamcnszlfxsrnkyfoeghtvqnfeymvheoxoqbxgjhdydiopqzqwhqv","_rcgirzjwzkwsqdopgoqvakuufbhrhmnoiyshkuszmjleunugabpvtusbvhvmyjl","_ykjbpuvftlnflyjnowmrrtnarddvanitpplwzqfmtbvrmincgvcomxdnwxuxlnrhpvek","_qfewxewxamcnszlfxsrnkyfoeghtvqnfeymvheoxoqbxgjhdydiopqzqwhqvKey","_zlxovjfdboqrekgrhzvmatbjmjejvjxwwfwsffnqmojrsqwjpsmjedqjkaubi","_jaaczdrcajomzcqtgqsmryktvjmxgwkkzvncgbcsddjhbotrcgnmsotadbruhdwwijelc","_wtubynpdzsojhjshmgipwakhevpzrhlzsnusatklgewodesklxgiqmjkhxxiiwsxa","_drvxrxkruqqwiykvwvcpbrcixbdnhpdljcayhzwecltwuhnayequhrklvzvmbcmcaave","_tizlqigmarmuuidssgngcfostwxcfwvlpuflasuhtoqqtwavsxdfflqnnwutlmxlava","_obj","_mxaxbzaoljooiiyskskwlpmqjmukjawytawuxstfhgzkvfistanqdsudyyueueecxdyfgp"]; 		_qfewxewxamcnszlfxsrnkyfoeghtvqnfeymvheoxoqbxgjhdydiopqzqwhqv = SEL(_this,0); 		_rcgirzjwzkwsqdopgoqvakuufbhrhmnoiyshkuszmjleunugabpvtusbvhvmyjl = SEL(_this,1); 		_ykjbpuvftlnflyjnowmrrtnarddvanitpplwzqfmtbvrmincgvcomxdnwxuxlnrhpvek = SEL(_this,2); 		_qfewxewxamcnszlfxsrnkyfoeghtvqnfeymvheoxoqbxgjhdydiopqzqwhqvKey = SEL(_this,3); 		_zlxovjfdboqrekgrhzvmatbjmjejvjxwwfwsffnqmojrsqwjpsmjedqjkaubi = SEL(_this,4); 		_tizlqigmarmuuidssgngcfostwxcfwvlpuflasuhtoqqtwavsxdfflqnnwutlmxlava = false; 		 		 		 		if(isNull building_object && _rcgirzjwzkwsqdopgoqvakuufbhrhmnoiyshkuszmjleunugabpvtusbvhvmyjl != 57) exitWith {}; 		 		_jaaczdrcajomzcqtgqsmryktvjmxgwkkzvncgbcsddjhbotrcgnmsotadbruhdwwijelc = building_offset select 0; 		_wtubynpdzsojhjshmgipwakhevpzrhlzsnusatklgewodesklxgiqmjkhxxiiwsxa = building_offset select 1; 		_drvxrxkruqqwiykvwvcpbrcixbdnhpdljcayhzwecltwuhnayequhrklvzvmbcmcaave = building_offset select 2; 		if(isNil "building_dir") then {building_dir = 0;}; 		 		switch (_rcgirzjwzkwsqdopgoqvakuufbhrhmnoiyshkuszmjleunugabpvtusbvhvmyjl) do { 			 			case 57: { 				if(_ykjbpuvftlnflyjnowmrrtnarddvanitpplwzqfmtbvrmincgvcomxdnwxuxlnrhpvek) exitWith {}; 				if(isNull building_object) then { 					_obj = cursorTarget; 					if!((_obj getVariable ["object_owner",""]) == (getPlayerUID player) && player distance _obj < 8 && alive _obj) exitWith {}; 					if((_obj getVariable ["object_ID",-1]) == 0) exitWith {hint localize "STR_m_NotMoveMain";}; 					_drvxrxkruqqwiykvwvcpbrcixbdnhpdljcayhzwecltwuhnayequhrklvzvmbcmcaave = if(surfaceIsWater (getPos _obj)) then {getPosASL _obj select 2} else {getPosATL _obj select 2}; 					building_object = _obj; 					building_offset = [0,round (_obj distance player),1]; 					building_dir = 0; 					building_object attachTo [player,building_offset]; 				} else { 					_mxaxbzaoljooiiyskskwlpmqjmukjawytawuxstfhgzkvfistanqdsudyyueueecxdyfgp = false; 					if(building_object isKindOf "Land_Device_assembled_F") then { 						factory_mainObject = building_object; 						factory_tier = 1; 						 						factory_objects = [true]; 						for "_i" from 1 to 200 do { 							factory_objects pushBack false; 						}; 						 						[getPlayerUID player,building_object] remoteExec ["life_fnc_ecndlckjbisingudrsgthghxcnjiplcpaumyakzmkixwunqddhy",2]; 						[9] spawn life_fnc_cffqieiafhbofhqthjbvastsiczvnuzljhbtedyjhqjvdhluzsbbgyiv; 						hint localize "STR_m_StartedFactory"; 					} else { 						if(building_object distance2D factory_mainObject > factory_maxRadius) exitWith {hint format[localize "STR_m_TooFarFromMain",localize ITEM_NAME("factory_main")]; _mxaxbzaoljooiiyskskwlpmqjmukjawytawuxstfhgzkvfistanqdsudyyueueecxdyfgp = true;}; 						if((building_object getVariable ["object_ID",-1]) == -1) exitWith {}; 						factory_objects SET [(building_object getVariable ["object_ID",-1]),true]; 						[building_object] remoteExec ["life_fnc_lxiozmkbdrtwsgyefrytcnzqmusggsnkpdcwlovmjhhxkbgelwvllzxs",2]; 					}; 					if(_mxaxbzaoljooiiyskskwlpmqjmukjawytawuxstfhgzkvfistanqdsudyyueueecxdyfgp) exitWith {}; 					 					detach building_object; 					building_object = objNull; 				}; 			}; 			 			 			case 16: { 				_tizlqigmarmuuidssgngcfostwxcfwvlpuflasuhtoqqtwavsxdfflqnnwutlmxlava = true; 				building_dir = if(_ykjbpuvftlnflyjnowmrrtnarddvanitpplwzqfmtbvrmincgvcomxdnwxuxlnrhpvek) then {building_dir - 15} else {building_dir - 1}; 				building_object setDir building_dir; 			}; 			 			 			case 18: { 				_tizlqigmarmuuidssgngcfostwxcfwvlpuflasuhtoqqtwavsxdfflqnnwutlmxlava = true; 				building_dir = if(_ykjbpuvftlnflyjnowmrrtnarddvanitpplwzqfmtbvrmincgvcomxdnwxuxlnrhpvek) then {building_dir + 15} else {building_dir + 1}; 				building_object setDir building_dir; 			}; 			 			 			case 19: { 				_drvxrxkruqqwiykvwvcpbrcixbdnhpdljcayhzwecltwuhnayequhrklvzvmbcmcaave = if(_ykjbpuvftlnflyjnowmrrtnarddvanitpplwzqfmtbvrmincgvcomxdnwxuxlnrhpvek) then {_drvxrxkruqqwiykvwvcpbrcixbdnhpdljcayhzwecltwuhnayequhrklvzvmbcmcaave + 0.5} else {_drvxrxkruqqwiykvwvcpbrcixbdnhpdljcayhzwecltwuhnayequhrklvzvmbcmcaave + 0.05}; 				if(_drvxrxkruqqwiykvwvcpbrcixbdnhpdljcayhzwecltwuhnayequhrklvzvmbcmcaave > 10) then {_drvxrxkruqqwiykvwvcpbrcixbdnhpdljcayhzwecltwuhnayequhrklvzvmbcmcaave = 10;}; 				building_offset = [_jaaczdrcajomzcqtgqsmryktvjmxgwkkzvncgbcsddjhbotrcgnmsotadbruhdwwijelc,_wtubynpdzsojhjshmgipwakhevpzrhlzsnusatklgewodesklxgiqmjkhxxiiwsxa,_drvxrxkruqqwiykvwvcpbrcixbdnhpdljcayhzwecltwuhnayequhrklvzvmbcmcaave]; 				building_object attachTo [player,building_offset]; 				_tizlqigmarmuuidssgngcfostwxcfwvlpuflasuhtoqqtwavsxdfflqnnwutlmxlava = true; 			}; 			 			 			case 33: { 				_drvxrxkruqqwiykvwvcpbrcixbdnhpdljcayhzwecltwuhnayequhrklvzvmbcmcaave = if(_ykjbpuvftlnflyjnowmrrtnarddvanitpplwzqfmtbvrmincgvcomxdnwxuxlnrhpvek) then {_drvxrxkruqqwiykvwvcpbrcixbdnhpdljcayhzwecltwuhnayequhrklvzvmbcmcaave - 0.5} else {_drvxrxkruqqwiykvwvcpbrcixbdnhpdljcayhzwecltwuhnayequhrklvzvmbcmcaave - 0.05}; 				if(_drvxrxkruqqwiykvwvcpbrcixbdnhpdljcayhzwecltwuhnayequhrklvzvmbcmcaave < -2) then {_drvxrxkruqqwiykvwvcpbrcixbdnhpdljcayhzwecltwuhnayequhrklvzvmbcmcaave = -2;}; 				building_offset = [_jaaczdrcajomzcqtgqsmryktvjmxgwkkzvncgbcsddjhbotrcgnmsotadbruhdwwijelc,_wtubynpdzsojhjshmgipwakhevpzrhlzsnusatklgewodesklxgiqmjkhxxiiwsxa,_drvxrxkruqqwiykvwvcpbrcixbdnhpdljcayhzwecltwuhnayequhrklvzvmbcmcaave]; 				building_object attachTo [player,building_offset]; 				_tizlqigmarmuuidssgngcfostwxcfwvlpuflasuhtoqqtwavsxdfflqnnwutlmxlava = true; 			}; 			 			 			case 44: { 				_wtubynpdzsojhjshmgipwakhevpzrhlzsnusatklgewodesklxgiqmjkhxxiiwsxa = if(_ykjbpuvftlnflyjnowmrrtnarddvanitpplwzqfmtbvrmincgvcomxdnwxuxlnrhpvek) then {_wtubynpdzsojhjshmgipwakhevpzrhlzsnusatklgewodesklxgiqmjkhxxiiwsxa - 0.5} else {_wtubynpdzsojhjshmgipwakhevpzrhlzsnusatklgewodesklxgiqmjkhxxiiwsxa - 0.05}; 				if(_wtubynpdzsojhjshmgipwakhevpzrhlzsnusatklgewodesklxgiqmjkhxxiiwsxa < 2) then {_wtubynpdzsojhjshmgipwakhevpzrhlzsnusatklgewodesklxgiqmjkhxxiiwsxa = 2;}; 				building_offset = [_jaaczdrcajomzcqtgqsmryktvjmxgwkkzvncgbcsddjhbotrcgnmsotadbruhdwwijelc,_wtubynpdzsojhjshmgipwakhevpzrhlzsnusatklgewodesklxgiqmjkhxxiiwsxa,_drvxrxkruqqwiykvwvcpbrcixbdnhpdljcayhzwecltwuhnayequhrklvzvmbcmcaave]; 				building_object attachTo [player,building_offset]; 				_tizlqigmarmuuidssgngcfostwxcfwvlpuflasuhtoqqtwavsxdfflqnnwutlmxlava = true; 			}; 			 			 			case 45: { 				_wtubynpdzsojhjshmgipwakhevpzrhlzsnusatklgewodesklxgiqmjkhxxiiwsxa = if(_ykjbpuvftlnflyjnowmrrtnarddvanitpplwzqfmtbvrmincgvcomxdnwxuxlnrhpvek) then {_wtubynpdzsojhjshmgipwakhevpzrhlzsnusatklgewodesklxgiqmjkhxxiiwsxa + 0.5} else {_wtubynpdzsojhjshmgipwakhevpzrhlzsnusatklgewodesklxgiqmjkhxxiiwsxa + 0.05}; 				if(_wtubynpdzsojhjshmgipwakhevpzrhlzsnusatklgewodesklxgiqmjkhxxiiwsxa > 15) then {_wtubynpdzsojhjshmgipwakhevpzrhlzsnusatklgewodesklxgiqmjkhxxiiwsxa = 15;}; 				building_offset = [_jaaczdrcajomzcqtgqsmryktvjmxgwkkzvncgbcsddjhbotrcgnmsotadbruhdwwijelc,_wtubynpdzsojhjshmgipwakhevpzrhlzsnusatklgewodesklxgiqmjkhxxiiwsxa,_drvxrxkruqqwiykvwvcpbrcixbdnhpdljcayhzwecltwuhnayequhrklvzvmbcmcaave]; 				building_object attachTo [player,building_offset]; 				_tizlqigmarmuuidssgngcfostwxcfwvlpuflasuhtoqqtwavsxdfflqnnwutlmxlava = true; 			}; 		}; 		 		_tizlqigmarmuuidssgngcfostwxcfwvlpuflasuhtoqqtwavsxdfflqnnwutlmxlava; 	}]; }; 