
#include <macro.h>
private ["_xlejjlsnurqmuqeiiccjhsmsqnuhystvcjnvkvcdhceptryamjjlfhfbjohrcxryiorm","_kctbkvumlkqxtahjpxhunpxnexiyyaxqdessonmtigosthgjnqxgwdnqocyolmgpisopss","_qhxzcjeiqhuvnxvigihagjuvpbipwsbdfpaeaabzbujvcnxoamsfeiglywlxosxzawjfh","_zbuatqgdxjwxctzqtupfyivtntilalrfoitsudlpxyjryffmzjpqjhanqvvhsdfkueb"]; _xlejjlsnurqmuqeiiccjhsmsqnuhystvcjnvkvcdhceptryamjjlfhfbjohrcxryiorm = [_this,0,"",[""]] call BIS_fnc_param;  if((call life_donatorlvl) < 4) exitWith {};  if((count factory_objects) == 0 && (_xlejjlsnurqmuqeiiccjhsmsqnuhystvcjnvkvcdhceptryamjjlfhfbjohrcxryiorm != "factory_main")) exitWith {hint format[localize "STR_m_MustStartMain",localize ITEM_NAME("factory_main")];}; if((count factory_objects) > 0 && (_xlejjlsnurqmuqeiiccjhsmsqnuhystvcjnvkvcdhceptryamjjlfhfbjohrcxryiorm == "factory_main")) exitWith {hint format[localize "STR_m_AlreadyOwnsFactory",localize ITEM_NAME("factory_main")];};  _zbuatqgdxjwxctzqtupfyivtntilalrfoitsudlpxyjryffmzjpqjhanqvvhsdfkueb = -1;  if(_xlejjlsnurqmuqeiiccjhsmsqnuhystvcjnvkvcdhceptryamjjlfhfbjohrcxryiorm == "factory_main") then { 	_zbuatqgdxjwxctzqtupfyivtntilalrfoitsudlpxyjryffmzjpqjhanqvvhsdfkueb = 0; } else { 	{ 		if(_forEachIndex > factory_maxObjects) exitWith {}; 		if!(_x) exitWith {_zbuatqgdxjwxctzqtupfyivtntilalrfoitsudlpxyjryffmzjpqjhanqvvhsdfkueb = _forEachIndex;}; 	} foreach factory_objects; }; if(_zbuatqgdxjwxctzqtupfyivtntilalrfoitsudlpxyjryffmzjpqjhanqvvhsdfkueb == -1) exitWith {if(factory_maxObjects == 200) then {hint format[localize "STR_m_TooManyObjectsMax",factory_maxObjects]} else {hint format[localize "STR_m_TooManyObjects",_maxAllowed]};};       if(_xlejjlsnurqmuqeiiccjhsmsqnuhystvcjnvkvcdhceptryamjjlfhfbjohrcxryiorm == "factory_main") then { 	_kctbkvumlkqxtahjpxhunpxnexiyyaxqdessonmtigosthgjnqxgwdnqocyolmgpisopss = "Land_Device_assembled_F"; } else { 	_kctbkvumlkqxtahjpxhunpxnexiyyaxqdessonmtigosthgjnqxgwdnqocyolmgpisopss = ""; 	_qhxzcjeiqhuvnxvigihagjuvpbipwsbdfpaeaabzbujvcnxoamsfeiglywlxosxzawjfh = toArray _xlejjlsnurqmuqeiiccjhsmsqnuhystvcjnvkvcdhceptryamjjlfhfbjohrcxryiorm; 	for "_i" from 6 to (count _xlejjlsnurqmuqeiiccjhsmsqnuhystvcjnvkvcdhceptryamjjlfhfbjohrcxryiorm) do { 		_kctbkvumlkqxtahjpxhunpxnexiyyaxqdessonmtigosthgjnqxgwdnqocyolmgpisopss = _kctbkvumlkqxtahjpxhunpxnexiyyaxqdessonmtigosthgjnqxgwdnqocyolmgpisopss + (toString [_qhxzcjeiqhuvnxvigihagjuvpbipwsbdfpaeaabzbujvcnxoamsfeiglywlxosxzawjfh select _i]); 	}; };  if!(isNull building_object) exitWith {};  building_object = _kctbkvumlkqxtahjpxhunpxnexiyyaxqdessonmtigosthgjnqxgwdnqocyolmgpisopss createVehicle [0,random(1000),0]; building_object setVariable ["object_owner",getPlayerUID player,true]; building_offset = [0,5,0]; building_dir = 0; building_object attachTo [player,building_offset]; building_object setVariable ["object_ID",_zbuatqgdxjwxctzqtupfyivtntilalrfoitsudlpxyjryffmzjpqjhanqvvhsdfkueb,true];  if(_kctbkvumlkqxtahjpxhunpxnexiyyaxqdessonmtigosthgjnqxgwdnqocyolmgpisopss == "Land_Device_assembled_F") then {hint format[localize "STR_m_StartingFactoryWarn",localize ITEM_NAME("factory_main")];}; 