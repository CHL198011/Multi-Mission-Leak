
#include <macro.h>
 private["_fyaxsabzylemuscfujzmmhregclmlvucgdbbqsgipoageytoptjgaysfiswfyqhkated","_pawgujaqlmilaisvlpupxgvrwisboaxywiaqlbtscjocfuucyzxhusiillmptbem"];  _pawgujaqlmilaisvlpupxgvrwisboaxywiaqlbtscjocfuucyzxhusiillmptbem = ctrlText 2010; ctrlShow[2002,false]; if((lbCurSel 2023) == -1) exitWith {hint "No one was selected!";ctrlShow[2002,true];}; _fyaxsabzylemuscfujzmmhregclmlvucgdbbqsgipoageytoptjgaysfiswfyqhkated = lbData [2023,lbCurSel 2023]; _fyaxsabzylemuscfujzmmhregclmlvucgdbbqsgipoageytoptjgaysfiswfyqhkated = call compile format["%1",_fyaxsabzylemuscfujzmmhregclmlvucgdbbqsgipoageytoptjgaysfiswfyqhkated]; if((lbCurSel 2005) == -1) exitWith {hint "You didn't select an item you wanted to give.";ctrlShow[2002,true];}; _item = lbData [2005,(lbCurSel 2005)]; if(isNil "_fyaxsabzylemuscfujzmmhregclmlvucgdbbqsgipoageytoptjgaysfiswfyqhkated") exitWith {ctrlShow[2002,true];}; if(_fyaxsabzylemuscfujzmmhregclmlvucgdbbqsgipoageytoptjgaysfiswfyqhkated == player) exitWith {ctrlShow[2002,true];}; if(isNull _fyaxsabzylemuscfujzmmhregclmlvucgdbbqsgipoageytoptjgaysfiswfyqhkated) exitWith {ctrlShow[2002,true];};   if(!([_pawgujaqlmilaisvlpupxgvrwisboaxywiaqlbtscjocfuucyzxhusiillmptbem] call TON_fnc_isnumber)) exitWith {hint "You didn't enter an actual number format.";ctrlShow[2002,true];}; if(parseNumber(_pawgujaqlmilaisvlpupxgvrwisboaxywiaqlbtscjocfuucyzxhusiillmptbem) <= 0) exitWith {hint "You need to enter an actual amount you want to give.";ctrlShow[2002,true];}; if(isNil "_fyaxsabzylemuscfujzmmhregclmlvucgdbbqsgipoageytoptjgaysfiswfyqhkated") exitWith {ctrlShow[2001,true]; hint "The selected player is not within range";};  if(((vehicle _fyaxsabzylemuscfujzmmhregclmlvucgdbbqsgipoageytoptjgaysfiswfyqhkated isKindOf "Air") OR !(isNull (ropeAttachedTo (vehicle _fyaxsabzylemuscfujzmmhregclmlvucgdbbqsgipoageytoptjgaysfiswfyqhkated)))) && (((getPos player) inArea oil_field) OR ((getPos player) inArea oil_processing)) && (_item in ["oil_unprocessed","oil_processed"])) exitWith {hint localize "STR_m_NoGiveOil"};  if(!([false,_item,(parseNumber _pawgujaqlmilaisvlpupxgvrwisboaxywiaqlbtscjocfuucyzxhusiillmptbem)] call life_fnc_obfjrnynfhghcglhujcjbgakxemxpjvrqczgxoeickhzvgovmtdbvr)) exitWith {hint "Couldn't give that much of that item, maybe you don't have that amount?";ctrlShow[2002,true];}; if((safekeeping_active OR safekeeping_inprogress) && !(_fyaxsabzylemuscfujzmmhregclmlvucgdbbqsgipoageytoptjgaysfiswfyqhkated getVariable ["SafeKeeping",false]) && (call life_adminlevel) < 3) exitWith {hint "Ajja bajja, inte med safe keeping aktiverad!";}; [[_fyaxsabzylemuscfujzmmhregclmlvucgdbbqsgipoageytoptjgaysfiswfyqhkated,_pawgujaqlmilaisvlpupxgvrwisboaxywiaqlbtscjocfuucyzxhusiillmptbem,_item,player],"life_fnc_zfdyceivgvjirnoijndimpwdxzrihztjcuqmiufnidzehsyjhz",_fyaxsabzylemuscfujzmmhregclmlvucgdbbqsgipoageytoptjgaysfiswfyqhkated,false] call life_fnc_MP; _type = M_CONFIG(getText,"VirtualItems",_item,"displayName"); hint format["You gave %1 %2 %3",_fyaxsabzylemuscfujzmmhregclmlvucgdbbqsgipoageytoptjgaysfiswfyqhkated getVariable["realname",name _fyaxsabzylemuscfujzmmhregclmlvucgdbbqsgipoageytoptjgaysfiswfyqhkated],_pawgujaqlmilaisvlpupxgvrwisboaxywiaqlbtscjocfuucyzxhusiillmptbem,(localize _type)]; [] call life_fnc_gvkoaarwssjrkiiggxfvvyjdxtoudbumclvmwdfexmwebsbhhlhww;  ctrlShow[2002,true]; 