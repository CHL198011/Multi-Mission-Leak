
#include <macro.h>
 private["_medic","_tekqinlemkaivitcxwgofwkratrzpsngwyqpozdmhddcvrxgbvleyrxawisybr","_ivnvpfbtexlvidsyeaawnglearsxcmgskefktkhncrreyqibvhgmvvkffbebjcy","_ivnvpfbtexlvidsyeaawnglearsxcmgskefktkhncrreyqibvhgmvvkffbebjcyType","_qrcuoolctsljnnxuuthltftwlrqmfbaltdibyoiemruuqsdyhymzkmhkzxvzasdmui"]; _medic = [_this,0,Objnull,[Objnull]] call BIS_fnc_param; _tekqinlemkaivitcxwgofwkratrzpsngwyqpozdmhddcvrxgbvleyrxawisybr = player; if(isNull _medic) exitWith {};      if(_medic != Player) then { 	titleText[format[localize "STR_medic_Retrained",_medic GVAR ["realname",name _medic]],"PLAIN"]; };  _qrcuoolctsljnnxuuthltftwlrqmfbaltdibyoiemruuqsdyhymzkmhkzxvzasdmui = "Land_Sun_chair_green_F" createVehicle [0,0,0]; _qrcuoolctsljnnxuuthltftwlrqmfbaltdibyoiemruuqsdyhymzkmhkzxvzasdmui allowDamage false; deStretcher = _qrcuoolctsljnnxuuthltftwlrqmfbaltdibyoiemruuqsdyhymzkmhkzxvzasdmui;  if(surfaceIsWater (getPos player)) then { 	_ivnvpfbtexlvidsyeaawnglearsxcmgskefktkhncrreyqibvhgmvvkffbebjcy = getPosASL player; 	player setPosASL [0,100,0]; 	_qrcuoolctsljnnxuuthltftwlrqmfbaltdibyoiemruuqsdyhymzkmhkzxvzasdmui setPosASL _ivnvpfbtexlvidsyeaawnglearsxcmgskefktkhncrreyqibvhgmvvkffbebjcy; } else { 	_ivnvpfbtexlvidsyeaawnglearsxcmgskefktkhncrreyqibvhgmvvkffbebjcy = getPosATL player; 	player setPosASL [0,100,0]; 	_qrcuoolctsljnnxuuthltftwlrqmfbaltdibyoiemruuqsdyhymzkmhkzxvzasdmui setPosATL _ivnvpfbtexlvidsyeaawnglearsxcmgskefktkhncrreyqibvhgmvvkffbebjcy; };  player attachTo [_qrcuoolctsljnnxuuthltftwlrqmfbaltdibyoiemruuqsdyhymzkmhkzxvzasdmui,[0,0,0.3]];    	 while {player GVAR  "stretched"} do { 	if(vehicle player == player) then { 		player playMove "amovppnemstpsnonwnondnon"; 	}; 	 	_state = vehicle player; 	waitUntil {animationState player != "amovppnemstpsnonwnondnon" || !(player GVAR "stretched") || vehicle player != _state}; 			 	if(!(alive player) OR !life_isAlive) exitWith { 		player SVAR ["restrained",false,true]; 		player SVAR ["adminRestrained",false,true]; 		player SVAR ["Escorting",false,true]; 		player SVAR ["transporting",false,true]; 		player SVAR ["stretched",false,true]; 		player SVAR ["tied",false,true]; 		detach _tekqinlemkaivitcxwgofwkratrzpsngwyqpozdmhddcvrxgbvleyrxawisybr; 		detach _qrcuoolctsljnnxuuthltftwlrqmfbaltdibyoiemruuqsdyhymzkmhkzxvzasdmui; 		deleteVehicle _qrcuoolctsljnnxuuthltftwlrqmfbaltdibyoiemruuqsdyhymzkmhkzxvzasdmui; 	}; 	 	 	 	if((isNull _qrcuoolctsljnnxuuthltftwlrqmfbaltdibyoiemruuqsdyhymzkmhkzxvzasdmui) && (vehicle player == player)) then { 		_qrcuoolctsljnnxuuthltftwlrqmfbaltdibyoiemruuqsdyhymzkmhkzxvzasdmui = "Land_Sun_chair_green_F" createVehicle [0,0,0]; 		_qrcuoolctsljnnxuuthltftwlrqmfbaltdibyoiemruuqsdyhymzkmhkzxvzasdmui allowDamage false; 		{_qrcuoolctsljnnxuuthltftwlrqmfbaltdibyoiemruuqsdyhymzkmhkzxvzasdmui disableCollisionWith _x;} foreach nearestObjects [_qrcuoolctsljnnxuuthltftwlrqmfbaltdibyoiemruuqsdyhymzkmhkzxvzasdmui,["Air","Car","Ship","Tank"],30]; 		deStretcher = _qrcuoolctsljnnxuuthltftwlrqmfbaltdibyoiemruuqsdyhymzkmhkzxvzasdmui;  		if(surfaceIsWater (getPos player)) then { 			_ivnvpfbtexlvidsyeaawnglearsxcmgskefktkhncrreyqibvhgmvvkffbebjcy = getPosASL player; 			player setPosASL [0,100,0]; 			_qrcuoolctsljnnxuuthltftwlrqmfbaltdibyoiemruuqsdyhymzkmhkzxvzasdmui setPosASL _ivnvpfbtexlvidsyeaawnglearsxcmgskefktkhncrreyqibvhgmvvkffbebjcy; 		} else { 			_ivnvpfbtexlvidsyeaawnglearsxcmgskefktkhncrreyqibvhgmvvkffbebjcy = getPosATL player; 			player setPosASL [0,100,0]; 			_qrcuoolctsljnnxuuthltftwlrqmfbaltdibyoiemruuqsdyhymzkmhkzxvzasdmui setPosATL _ivnvpfbtexlvidsyeaawnglearsxcmgskefktkhncrreyqibvhgmvvkffbebjcy; 		};  		player attachTo [_qrcuoolctsljnnxuuthltftwlrqmfbaltdibyoiemruuqsdyhymzkmhkzxvzasdmui,[0,0,0.3]]; 	}; 	 	if(vehicle player != player) then { 		 		if(driver (vehicle player) == player) then {player action["eject",vehicle player];}; 	}; };   		 if(alive player) then { 	player switchMove "AmovPercMstpSlowWrflDnon_SaluteIn"; 	player SVAR ["Escorting",false,true]; 	player SVAR ["transporting",false,true]; 	detach player; 	detach _qrcuoolctsljnnxuuthltftwlrqmfbaltdibyoiemruuqsdyhymzkmhkzxvzasdmui; 	deleteVehicle _qrcuoolctsljnnxuuthltftwlrqmfbaltdibyoiemruuqsdyhymzkmhkzxvzasdmui; }; 