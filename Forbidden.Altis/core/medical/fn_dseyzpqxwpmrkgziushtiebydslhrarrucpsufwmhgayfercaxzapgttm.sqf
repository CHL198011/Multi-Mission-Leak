
#include <macro.h>
 private["_medic","_oylsaiklmpkddendeikdwwwpfibhlurkuczbmhpuhltwbyzfqjwvyzbhlqym","_dvewvfqyjfillzzbtvhbbbaxodecsisvcqwdjxzjbcgliufcfwgnuyhrqbjgcjexrrid","_uyhhchsbyouldjvjxyqarlcxltsumzdnszswraqyiknxaqmqvrhjfipidldlxlbgig","_vcextdnpwukgolpeymsptmckxutpqcrufgdqynoqiurhjfdpucuoshdvbyjou","_fuehmorresfyxvyzyuzoqaxkmusfkfhthgydeybpaaffaiaixevilcgqsmdthlkwhydi","_ffnmituveqoyadmsjdbanxdltwlxncrfkpfvdbngflpuedekxgdohbrsciois"]; _medic = [_this,0,"Unknown Medic",[""]] call BIS_fnc_param; _dvewvfqyjfillzzbtvhbbbaxodecsisvcqwdjxzjbcgliufcfwgnuyhrqbjgcjexrrid = [_this,1,false,[false]] call BIS_fnc_param; _vcextdnpwukgolpeymsptmckxutpqcrufgdqynoqiurhjfdpucuoshdvbyjou = [_this,2,objNull,[objNull]] call BIS_fnc_param; _fuehmorresfyxvyzyuzoqaxkmusfkfhthgydeybpaaffaiaixevilcgqsmdthlkwhydi = [_this,3,0,[0]] call BIS_fnc_param;  if(safekeeping_active) exitWith {};  if(isNil "life_NLRDeaths") then {life_NLRDeaths = [];}; if(count life_NLRDeaths > 0) then { 	if(life_nlrtimer_running) then {life_nlrtimer_stop = true;}; 	deleteMarkerLocal format["NLRcircle_%1",(life_NLRDeaths select ((count life_NLRDeaths) - 1)) select 0]; 	life_NLRDeaths deleteAt ((count life_NLRDeaths) - 1); 	var_base setVariable [format["NLRInfo_%1",life_playerUID],life_NLRDeaths,true]; };      { 	if(isPlayer _x) then { 		[format[" 			if!(isNull (findDisplay 602)) then { 				(findDisplay 602) closeDisplay 2; 			}; 		"]] remoteExec ["life_fnc_remoteExec",_x]; 	}; } foreach nearestObjects [life_corpse,["Man"],10];      _oldGear = [life_corpse] call life_fnc_omunatllmwkodfllianjezdhtcxqtjpsziyshozzscohkxbuegke; [_oldGear] spawn life_fnc_ljeimfyknqetafohvioqfmbqlvtckcbxsqzvzudkjnshddmnvbyaczdufyho; life_corpse SVAR ["realname",nil,true];  [[life_corpse],"life_fnc_bcctdkinplafoxhvqmfjvxtzbyijtxarczsgviuojluabwljcfkacjvqux",nil,FALSE] call life_fnc_MP; _oylsaiklmpkddendeikdwwwpfibhlurkuczbmhpuhltwbyzfqjwvyzbhlqym = getDir life_corpse;  if(_dvewvfqyjfillzzbtvhbbbaxodecsisvcqwdjxzjbcgliufcfwgnuyhrqbjgcjexrrid) then { 	hint "Du har blivit upplivad av en admin"; 	player allowDamage false; 	[] spawn { 		sleep 5; 		if(allowedDamage) then {player allowDamage true;}; 	}; } else { 	hint format[localize "STR_Medic_RevivePay",_medic,[LIFE_SETTINGS(getNumber,"revive_fee")] call life_fnc_ccxpkhrsgzfibqpgmuxgqovtqnwczbibnrrxqvyckzrmhckzyugqq]; 	 	_ffnmituveqoyadmsjdbanxdltwlxncrfkpfvdbngflpuedekxgdohbrsciois = switch (_fuehmorresfyxvyzyuzoqaxkmusfkfhthgydeybpaaffaiaixevilcgqsmdthlkwhydi) do { 		case 1: {4}; 		case 2: {6}; 		case 3: {8}; 		case 4: {8}; 		case 5: {8}; 		default {0}; 	}; 	 	[1,format[localize "STR_m_reviveEarnPLD",_ffnmituveqoyadmsjdbanxdltwlxncrfkpfvdbngflpuedekxgdohbrsciois,profileName]] remoteExec ["life_fnc_broadcast",_vcextdnpwukgolpeymsptmckxutpqcrufgdqynoqiurhjfdpucuoshdvbyjou]; 	if(_ffnmituveqoyadmsjdbanxdltwlxncrfkpfvdbngflpuedekxgdohbrsciois > 0) then {[getPlayerUID _vcextdnpwukgolpeymsptmckxutpqcrufgdqynoqiurhjfdpucuoshdvbyjou,_ffnmituveqoyadmsjdbanxdltwlxncrfkpfvdbngflpuedekxgdohbrsciois] remoteExec ["DB_fnc_oonvaewfbpctdobtaxtslcwjpahbederwnzozlriwmhsukolulryozbcbraw",2];}; };  closeDialog 0; closeDialog 0; closeDialog 7300;  life_deathCamera cameraEffect ["TERMINATE","BACK"]; camDestroy life_deathCamera;   if(!(_dvewvfqyjfillzzbtvhbbbaxodecsisvcqwdjxzjbcgliufcfwgnuyhrqbjgcjexrrid)) then { 	if(BANK > (call life_revive_fee)) then { 		SUB(BANK,(LIFE_SETTINGS(getNumber,"revive_fee"))); 	} else { 		BANK = 0; 	}; };  player SVAR ["isAlive",TRUE,TRUE];     player setDir _oylsaiklmpkddendeikdwwwpfibhlurkuczbmhpuhltwbyzfqjwvyzbhlqym; player setPosASL (visiblePositionASL life_corpse); life_corpse SVAR ["Revive",nil,TRUE]; life_corpse SVAR ["name",nil,TRUE]; [[life_corpse],"life_fnc_bcctdkinplafoxhvqmfjvxtzbyijtxarczsgviuojluabwljcfkacjvqux",true,false] call life_fnc_MP; hideBody life_corpse;  if(!safe_isWaitingAlive) then { 	if(player getVariable ["SafeKeeping",false]) then { 		[false,safe_gearSet,objNull,true] spawn life_fnc_lwragbrbljopxfxnuapcrijyceobizsliszunxpqimtqztdqvagubxyu; 	} else { 		[[getPlayerUID player,playerSide,life_gear,3,(call life_rebactive)],"DB_fnc_ddjmbrftntgdwpptfaoymlxkcjyscjwhklmcfylqhrqrxtxznnh",false,false] call life_fnc_MP; 	}; };  life_isAlive = true; player SVAR ["Revive",nil,TRUE]; player SVAR ["name",nil,TRUE]; player SVAR ["Reviving",nil,TRUE];  if(player distance (getMarkerPos "IslandMarker_text") < 2000) then { 	[life_playerUID,1] remoteExec ["life_fnc_islandNLR",2]; };  [format["reviveTime_%1 = diag_ticktime;",life_playerUID],getPlayerUID player] remoteExec ["TON_fnc_jccfsexbyduwxyovpqcvacxqrokbuqkrazyuobenjileoadeddujqx",2];  [0] call SOCK_fnc_ddjmbrftntgdwpptfaoymlxkcjyscjwhklmcfylqhrqrxtxznnh;  sleep 2; [3] call SOCK_fnc_ddjmbrftntgdwpptfaoymlxkcjyscjwhklmcfylqhrqrxtxznnh;   [] spawn life_fnc_rowhjumsjgsncucggciahhfhgmxuheiscxpmznzokspmwulycajsgd; [getPlayerUID player,1] remoteExec ["life_fnc_islandNLR",2]; 