 
#include<macro.h>
private ["_blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe","_gboqwwexqmhgbbtklzsrmysihburldnbehhvsflpsujqtyhtsijalmmxleepqo"]; _blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe = [_this,0,objNull,[objNull]] call BIS_fnc_param;  if(isNil "air_attachedUnit") then {air_attachedUnit = objNull;}; if((call life_adminlevel) < 1 && (call life_eventplanner) < 1) exitWith {};  switch (true) do { 	case ((_blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe isKindOf "Car") OR (_blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe isKindOf "Tank")): { 		_blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe spawn { 			private ["_jpwywkfefnswejscncyptctcfbpcvsgqdryzhcszslwdelevbifbfxmeagbbvzkjkycb","_yekperpzusxvyzbryxbymmzrdpvlfwwmbohcfmbxvppdyvevaffbksqrifrjxivqa","_gboqwwexqmhgbbtklzsrmysihburldnbehhvsflpsujqtyhtsijalmmxleepqo","_lockState"]; 			_gboqwwexqmhgbbtklzsrmysihburldnbehhvsflpsujqtyhtsijalmmxleepqo = fuel _this; 			if(life_debugging) then {systemChat format["fuel: %1",(str _gboqwwexqmhgbbtklzsrmysihburldnbehhvsflpsujqtyhtsijalmmxleepqo)]}; 			_lockState = locked _this; 			_this lock 2; 			_this setVariable ["AdminLocked",true,true]; 			 			if(!local _this) then { 				[[_this,0],"life_fnc_setFuel",_this,false] spawn life_fnc_MP; 			} else { 				_this setFuel 0; 			}; 			 			sleep 0.7; 			_this setPosASL [getPosASL  _this select 0, getPosASL _this select 1, (getPosASL _this select 2)+0.5]; 			sleep 0.1; 			waitUntil {(speed _this) == 0}; 			{ 				moveOut _x; 				[true,_x] call life_fnc_vniibzgadesvuehlolmwpydtmhbulokdwhjsezjymxhdewwfpmrdppmytljh; 			} foreach (crew _this); 			 			if(!local _this) then { 				[[_this,_gboqwwexqmhgbbtklzsrmysihburldnbehhvsflpsujqtyhtsijalmmxleepqo],"life_fnc_setFuel",_this,false] spawn life_fnc_MP; 			} else { 				_this setFuel _gboqwwexqmhgbbtklzsrmysihburldnbehhvsflpsujqtyhtsijalmmxleepqo; 			}; 			 			_this lock _lockState; 			_this setVariable ["AdminLocked",false,true]; 			 			sleep 1; 			_this setfuel _gboqwwexqmhgbbtklzsrmysihburldnbehhvsflpsujqtyhtsijalmmxleepqo; 			 			 		}; 	}; 	 	case (_blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe isKindOf "Ship"): { 		_blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe spawn { 			private ["_gboqwwexqmhgbbtklzsrmysihburldnbehhvsflpsujqtyhtsijalmmxleepqo"]; 			_gboqwwexqmhgbbtklzsrmysihburldnbehhvsflpsujqtyhtsijalmmxleepqo = fuel _this; 			if(!local _this) then { 				[[_this,0],"life_fnc_setFuel",_this,false] spawn life_fnc_MP; 			} else { 				_this setFuel 0; 			}; 		 			_this setPosASL [getPosASL _this select 0, getPosASL _this select 1, (getPosASL _this select 2)+0.5]; 			uisleep 1; 			{ 				moveOut _x; 			} foreach (crew _this); 			 			if(!local _this) then { 				[[_this,_gboqwwexqmhgbbtklzsrmysihburldnbehhvsflpsujqtyhtsijalmmxleepqo],"life_fnc_setFuel",_this,false] spawn life_fnc_MP; 			} else { 				_this setFuel _gboqwwexqmhgbbtklzsrmysihburldnbehhvsflpsujqtyhtsijalmmxleepqo; 			}; 		}; 	}; 	 	case ((_blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe isKindOf "Air") && ((count (attachedObjects player) == 0) OR !(isNull air_attachedUnit))): { 		_blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe spawn { 			 			if!(isNull air_attachedUnit) exitWith { 				detach air_attachedUnit; 				 				waitUntil {speed air_attachedUnit == 0}; 				air_attachedUnit allowDamage true; 				{ 					[true,_x] call life_fnc_vniibzgadesvuehlolmwpydtmhbulokdwhjsezjymxhdewwfpmrdppmytljh; 				} foreach (crew air_attachedUnit); 				 				air_attachedUnit setFuel air_attachedFuel; 				air_attachedUnit lock air_lockState; 				air_attachedUnit setVariable ["AdminLocked",false,true]; 				 				if(!local air_attachedUnit) then { 					[[air_attachedUnit,air_attachedFuel],"life_fnc_setFuel",air_attachedUnit,false] spawn life_fnc_MP; 				} else { 					air_attachedUnit setFuel air_attachedFuel; 				}; 				 				 				[air_attachedUnit,air_attachedFuel] spawn { 					sleep 1; 					(_this select 0) setFuel (_this select 1); 				}; 				 				air_attachedUnit = objNull; 			}; 			 			_this attachTo [player,[0,6,1.5]]; 			_this allowDamage false; 			air_attachedUnit = _this; 			air_attachedFuel = fuel _this; 			if(life_debugging) then {systemChat format["fuel: %1",air_attachedFuel]}; 			air_lockState = locked _this; 			_this setVariable ["AdminLocked",true,true]; 			_this lock 2; 			 			if(!local _this) then { 				[[_this,0,true],"life_fnc_setFuel",_this,false] spawn life_fnc_MP; 			} else { 				_this setFuel 0; 				stopEngineRTD _this; 			}; 		}; 	};  	case (_blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe isKindOf "Man"): { 		switch (true) do { 			case ((_blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe GVAR ["restrained",FALSE]) OR (_blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe GVAR ["adminRestrained",FALSE])): { 				[_blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe,true] call life_fnc_pjdfefywopafsfmllxphhttrcswdyzjzxbijpqeprwgpvjeokng; 				[4,(getPlayerUID player),getPlayerUID _blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe,"Admin unrestrain","",profileName,name _blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe,str (getPos player)] remoteExec ["TON_fnc_cqbslmzhelexdchvshruhtirwniyhyywbybxhiltsdxdujmnhjuhnal",2]; 			}; 			 			case (_blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe GVAR ["stretched",FALSE]): { 				[_blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe] spawn life_fnc_qfcdjmarfhldtbgekqbzqisdtccoszuwlygpqtmywfbhwpzlefa; 				hint format[localize "STR_m_UnStretchedAdmin",name _blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe]; 				[4,(getPlayerUID player),getPlayerUID _blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe,"Admin unstretch","",profileName,name _blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe,str (getPos player)] remoteExec ["TON_fnc_cqbslmzhelexdchvshruhtirwniyhyywbybxhiltsdxdujmnhjuhnal",2]; 			}; 			 			case (_blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe GVAR ["tied",FALSE]): { 				[_blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe] spawn life_fnc_yhlqltekfqwdghacoxkrjeujhatkbyrjeiiadrnzgqwwfvzybisagqzsbsyj; 				hint format[localize "STR_m_UntiedAdmin",name _blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe]; 				[4,(getPlayerUID player),getPlayerUID _blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe,"Admin untie","",profileName,name _blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe,str (getPos player)] remoteExec ["TON_fnc_cqbslmzhelexdchvshruhtirwniyhyywbybxhiltsdxdujmnhjuhnal",2]; 			}; 	 			default { 				[true,_blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe] call life_fnc_vniibzgadesvuehlolmwpydtmhbulokdwhjsezjymxhdewwfpmrdppmytljh; 				[4,(getPlayerUID player),getPlayerUID _blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe,"Admin restrain","",profileName,name _blfpdwtvizkfvvsjhxqsozlkfgecdrcrqthystrezgdabrrbfaoeepcppxzxe,str (getPos player)] remoteExec ["TON_fnc_cqbslmzhelexdchvshruhtirwniyhyywbybxhiltsdxdujmnhjuhnal",2]; 			}; 		}; 	}; };    