 
#include<macro.h>
private["_hyfnwbzoghhmpkvzhemhaufyfcecvjynpekgcxwkpbmhelcxtenxldiqxstnwiecanpaqw","_euxrubdlfpteueszcdqqsgmhfmcgvfmhpxdrhwvuxmpzlorjkshsspunfyuibsjmrbv"]; _hyfnwbzoghhmpkvzhemhaufyfcecvjynpekgcxwkpbmhelcxtenxldiqxstnwiecanpaqw = [_this,0,ObjNull,[ObjNull]] call BIS_fnc_param; _euxrubdlfpteueszcdqqsgmhfmcgvfmhpxdrhwvuxmpzlorjkshsspunfyuibsjmrbv = [_this,0,false,[false]] call BIS_fnc_param;  if(perk_23 < 6) exitWith {hint format[localize "STR_m_NeedPerkForGPS",localize ([23] call life_fnc_qokbfvuujyauzhpwhhtwfwakspbzosfzvnzazblmmcrbpdqwwbfdbdztgoic)];}; if(isNull _hyfnwbzoghhmpkvzhemhaufyfcecvjynpekgcxwkpbmhelcxtenxldiqxstnwiecanpaqw) exitWith {}; if(!(_hyfnwbzoghhmpkvzhemhaufyfcecvjynpekgcxwkpbmhelcxtenxldiqxstnwiecanpaqw isKindOf "AllVehicles")) exitWith {hint localize "STR_m_GPSOnlyVeh"}; if(player distance _hyfnwbzoghhmpkvzhemhaufyfcecvjynpekgcxwkpbmhelcxtenxldiqxstnwiecanpaqw > 7) exitWith {hint "You have to be closer to the vehicle!"}; if(!([false,"gpstracker",1] call life_fnc_obfjrnynfhghcglhujcjbgakxemxpjvrqczgxoeickhzvgovmtdbvr)) exitWith {}; if(count (_hyfnwbzoghhmpkvzhemhaufyfcecvjynpekgcxwkpbmhelcxtenxldiqxstnwiecanpaqw getVariable ["vehicle_info_owners",[]]) == 0) exitWith {hint "Ogiltigt fordon";}; closeDialog 0;  life_action_inUse = true;   disableSerialization; 5 cutRsc ["life_progress","PLAIN"]; _ui = GVAR_UINS ["life_progress",displayNull]; _progressBar = _ui displayCtrl 38201; _titleText = _ui displayCtrl 38202; _title = "Placerar puck"; _titleText ctrlSetText format["%2 (1%1)...","%",_title]; _progressBar progressSetPosition 0.01; _cP = 0.01; _wasInterrupted = true;   while {true} do { 	if(animationState player != "AinvPknlMstpSnonWnonDnon_medic_1") then { 		 		player playMoveNow "AinvPknlMstpSnonWnonDnon_medic_1"; 	}; 	 	sleep .15; 	_cP = _cP + .02; 	_progressBar progressSetPosition _cP; 	_titleText ctrlSetText format["%3 (%1%2)...",round(_cP * 100),"%",_title]; 	if(_cP >= 1) exitWith {_wasInterrupted = false;}; 	if(player distance _hyfnwbzoghhmpkvzhemhaufyfcecvjynpekgcxwkpbmhelcxtenxldiqxstnwiecanpaqw > 7) exitWith {titleText["You are too far away","PLAIN"];}; 	if!(alive player) exitWith {}; 	if(life_istazed) exitWith {};  	if(life_interrupted) exitWith {}; 	if(player GVAR ["restrained",false]) exitWith {}; 	if(player GVAR ["adminRestrained",false]) exitWith {}; };   5 cutText ["","PLAIN"]; player playActionNow "stop"; if(life_interrupted) then {life_interrupted = false; titleText[localize "STR_NOTF_ActionCancel","PLAIN"];}; if(_wasInterrupted) exitWith {life_action_inUse = false;}; life_action_inUse = false;  titleText[localize "STR_m_PlacedPuck","PLAIN"];  [_hyfnwbzoghhmpkvzhemhaufyfcecvjynpekgcxwkpbmhelcxtenxldiqxstnwiecanpaqw] spawn life_fnc_fnogljeypygrrlydqqsvbduzkzucplstafpkcbujogiaazypfz; 