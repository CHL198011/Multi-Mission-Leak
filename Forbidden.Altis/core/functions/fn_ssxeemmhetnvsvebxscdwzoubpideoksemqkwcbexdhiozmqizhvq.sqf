
#include <macro.h>
 private["_kosqrnxaqrqvywxnpkklzgfmcsrezxjonljtjkypppgfccrtdbfoemwkclusnjwyfjaz","_hnjaefpgploygrsntxpgfynnivotptzzniifmvfpxmuojpbaufpoyfvvpbihqdaamcs","_yqmdqbnkmdtcahayrxlktgfmkvfsyhspsxnmjsjgmtxzivfisukdecthxgkblsqiwqrpzn","_ipjuujqcgbwrpqgwvnwbfztpqyxblhvxwtjnryqrbwicxfksozsxavkqjhnj","_zbieunqwutrxckjlctvsxpfxdawcaxfufwikrzhgxanpoyiuauesfosdmxhueqnimylubkzzle","_pidliugsqlgyqiwvdtplhwbjmniumhschmydvsvmrmfihgqhxdlkwzlevsnnnoe","_bdzyfpiyvauwrclticlvxycsnilxqrnwksuxuwkmkvkzguqbvugvjezszzqpzkzstm","_rstfluchodtvbuwzbimedyxbbnkrkreazqgkbykvmmjfnaxtaxyqmycpfkaro","_magazines","_nnvhlbbjecvvaxctgkbpliilmhbiunijmpliqnhyjnagglagudqalhjttzcrg","_pnkqrysoipgyxycyyuhqtoiuswhidrmlrjnvypuctfnrtyzgqrjyywtrnmrl","_chmqbkmwknwvsjnujdojgkgumeapqvetwvkpfblagubdzgmkaqieuorgrfbghgserad"]; _kosqrnxaqrqvywxnpkklzgfmcsrezxjonljtjkypppgfccrtdbfoemwkclusnjwyfjaz = [_this,0,"",[""]] call BIS_fnc_param; _hnjaefpgploygrsntxpgfynnivotptzzniifmvfpxmuojpbaufpoyfvvpbihqdaamcs = [_this,1,"",[""]] call BIS_fnc_param; if((EQUAL(_kosqrnxaqrqvywxnpkklzgfmcsrezxjonljtjkypppgfccrtdbfoemwkclusnjwyfjaz,""))) exitWith {[]};  _yqmdqbnkmdtcahayrxlktgfmkvfsyhspsxnmjsjgmtxzivfisukdecthxgkblsqiwqrpzn = -1; _ipjuujqcgbwrpqgwvnwbfztpqyxblhvxwtjnryqrbwicxfksozsxavkqjhnj = []; _pidliugsqlgyqiwvdtplhwbjmniumhschmydvsvmrmfihgqhxdlkwzlevsnnnoe = []; _zbieunqwutrxckjlctvsxpfxdawcaxfufwikrzhgxanpoyiuauesfosdmxhueqnimylubkzzle = []; _bdzyfpiyvauwrclticlvxycsnilxqrnwksuxuwkmkvkzguqbvugvjezszzqpzkzstm = []; _nnvhlbbjecvvaxctgkbpliilmhbiunijmpliqnhyjnagglagudqalhjttzcrg = 0; _rstfluchodtvbuwzbimedyxbbnkrkreazqgkbykvmmjfnaxtaxyqmycpfkaro = -1; _muzzles = []; _magazines = []; _return = [];  if(EQUAL(_hnjaefpgploygrsntxpgfynnivotptzzniifmvfpxmuojpbaufpoyfvvpbihqdaamcs,"")) then { 	_hnjaefpgploygrsntxpgfynnivotptzzniifmvfpxmuojpbaufpoyfvvpbihqdaamcs = switch(true) do { 		case (isClass(configFile >> CONFIG_MAGAZINES >> _kosqrnxaqrqvywxnpkklzgfmcsrezxjonljtjkypppgfccrtdbfoemwkclusnjwyfjaz)): {CONFIG_MAGAZINES}; 		case (isClass(configFile >> CONFIG_WEAPONS >> _kosqrnxaqrqvywxnpkklzgfmcsrezxjonljtjkypppgfccrtdbfoemwkclusnjwyfjaz)): {CONFIG_WEAPONS}; 		case (isClass(configFile >> CONFIG_VEHICLES >> _kosqrnxaqrqvywxnpkklzgfmcsrezxjonljtjkypppgfccrtdbfoemwkclusnjwyfjaz)): {CONFIG_VEHICLES}; 		case (isClass(configFile >> CONFIG_GLASSES >> _kosqrnxaqrqvywxnpkklzgfmcsrezxjonljtjkypppgfccrtdbfoemwkclusnjwyfjaz)): {CONFIG_GLASSES}; 	}; };  if(!(EQUAL(typeName _hnjaefpgploygrsntxpgfynnivotptzzniifmvfpxmuojpbaufpoyfvvpbihqdaamcs,typeName "STRING")) OR {!isClass(configFile >> _hnjaefpgploygrsntxpgfynnivotptzzniifmvfpxmuojpbaufpoyfvvpbihqdaamcs >> _kosqrnxaqrqvywxnpkklzgfmcsrezxjonljtjkypppgfccrtdbfoemwkclusnjwyfjaz)} OR {EQUAL(_hnjaefpgploygrsntxpgfynnivotptzzniifmvfpxmuojpbaufpoyfvvpbihqdaamcs,"")}) exitWith {[]}; _pnkqrysoipgyxycyyuhqtoiuswhidrmlrjnvypuctfnrtyzgqrjyywtrnmrl = configFile >> _hnjaefpgploygrsntxpgfynnivotptzzniifmvfpxmuojpbaufpoyfvvpbihqdaamcs >> _kosqrnxaqrqvywxnpkklzgfmcsrezxjonljtjkypppgfccrtdbfoemwkclusnjwyfjaz; _chmqbkmwknwvsjnujdojgkgumeapqvetwvkpfblagubdzgmkaqieuorgrfbghgserad = getText(_pnkqrysoipgyxycyyuhqtoiuswhidrmlrjnvypuctfnrtyzgqrjyywtrnmrl >> "displayName"); _picture = getText(_pnkqrysoipgyxycyyuhqtoiuswhidrmlrjnvypuctfnrtyzgqrjyywtrnmrl >> "picture"); _desc = getText(_pnkqrysoipgyxycyyuhqtoiuswhidrmlrjnvypuctfnrtyzgqrjyywtrnmrl >> "descriptionshort"); _base = inheritsFrom _pnkqrysoipgyxycyyuhqtoiuswhidrmlrjnvypuctfnrtyzgqrjyywtrnmrl;  switch (_hnjaefpgploygrsntxpgfynnivotptzzniifmvfpxmuojpbaufpoyfvvpbihqdaamcs) do { 	case CONFIG_VEHICLES: { 		_yqmdqbnkmdtcahayrxlktgfmkvfsyhspsxnmjsjgmtxzivfisukdecthxgkblsqiwqrpzn = getText(_pnkqrysoipgyxycyyuhqtoiuswhidrmlrjnvypuctfnrtyzgqrjyywtrnmrl >> "vehicleClass"); 		_nnvhlbbjecvvaxctgkbpliilmhbiunijmpliqnhyjnagglagudqalhjttzcrg = getNumber(_pnkqrysoipgyxycyyuhqtoiuswhidrmlrjnvypuctfnrtyzgqrjyywtrnmrl >> "scope"); 	}; 	 	case CONFIG_WEAPONS: { 		_nnvhlbbjecvvaxctgkbpliilmhbiunijmpliqnhyjnagglagudqalhjttzcrg = getNumber(_pnkqrysoipgyxycyyuhqtoiuswhidrmlrjnvypuctfnrtyzgqrjyywtrnmrl >> "scope"); 		_yqmdqbnkmdtcahayrxlktgfmkvfsyhspsxnmjsjgmtxzivfisukdecthxgkblsqiwqrpzn = getNumber(_pnkqrysoipgyxycyyuhqtoiuswhidrmlrjnvypuctfnrtyzgqrjyywtrnmrl >> "type"); 		_desc = getText(_pnkqrysoipgyxycyyuhqtoiuswhidrmlrjnvypuctfnrtyzgqrjyywtrnmrl >> "descriptionshort"); 		 		 		if(isClass (_pnkqrysoipgyxycyyuhqtoiuswhidrmlrjnvypuctfnrtyzgqrjyywtrnmrl >> "WeaponSlotsInfo")) then 		{ 			_ipjuujqcgbwrpqgwvnwbfztpqyxblhvxwtjnryqrbwicxfksozsxavkqjhnj = getArray(_pnkqrysoipgyxycyyuhqtoiuswhidrmlrjnvypuctfnrtyzgqrjyywtrnmrl >> "WeaponSlotsInfo" >> "PointerSlot" >> "compatibleItems"); 			_pidliugsqlgyqiwvdtplhwbjmniumhschmydvsvmrmfihgqhxdlkwzlevsnnnoe = getArray(_pnkqrysoipgyxycyyuhqtoiuswhidrmlrjnvypuctfnrtyzgqrjyywtrnmrl >> "WeaponSlotsInfo" >> "CowsSlot" >> "compatibleItems"); 			_zbieunqwutrxckjlctvsxpfxdawcaxfufwikrzhgxanpoyiuauesfosdmxhueqnimylubkzzle = getArray(_pnkqrysoipgyxycyyuhqtoiuswhidrmlrjnvypuctfnrtyzgqrjyywtrnmrl >> "WeaponSlotsInfo" >> "MuzzleSlot" >> "compatibleItems"); 			 			{	private "_thiscfgitem"; 				for "_i" from 0 to (count(_x) - 1) do { 					_thiscfgitem = _x select _i; 					if (isClass _thiscfgitem) then { 						if !((configName _thiscfgitem) in _bdzyfpiyvauwrclticlvxycsnilxqrnwksuxuwkmkvkzguqbvugvjezszzqpzkzstm) then { 							_bdzyfpiyvauwrclticlvxycsnilxqrnwksuxuwkmkvkzguqbvugvjezszzqpzkzstm pushBack configName _thiscfgitem; 						}; 					}; 				}; 			} forEach ([_pnkqrysoipgyxycyyuhqtoiuswhidrmlrjnvypuctfnrtyzgqrjyywtrnmrl>>"WeaponSlotsInfo"] call bis_fnc_returnParents); 		}; 		 		if(isClass (_pnkqrysoipgyxycyyuhqtoiuswhidrmlrjnvypuctfnrtyzgqrjyywtrnmrl >> "ItemInfo")) then { 			_rstfluchodtvbuwzbimedyxbbnkrkreazqgkbykvmmjfnaxtaxyqmycpfkaro = getNumber(_pnkqrysoipgyxycyyuhqtoiuswhidrmlrjnvypuctfnrtyzgqrjyywtrnmrl >> "ItemInfo" >> "Type"); 		}; 		 		_muzzles = getArray(_pnkqrysoipgyxycyyuhqtoiuswhidrmlrjnvypuctfnrtyzgqrjyywtrnmrl >> "muzzles"); 		_magazines = getArray(_pnkqrysoipgyxycyyuhqtoiuswhidrmlrjnvypuctfnrtyzgqrjyywtrnmrl >> "magazines"); 		if(!isNil {_muzzles}) then { 			private["_lurrggqsnpbmcomiqlbsexoktczkdeitmairugsupxeuleoumwrdytuhllfjia"]; 			{ 				if(_x != "this") then { 					_lurrggqsnpbmcomiqlbsexoktczkdeitmairugsupxeuleoumwrdytuhllfjia = getArray(_base >> _x >> "magazines"); { 						_magazines pushBack _x; 					} foreach (_lurrggqsnpbmcomiqlbsexoktczkdeitmairugsupxeuleoumwrdytuhllfjia); 				}; 			} foreach _muzzles; 		}; 	}; 	 	case CONFIG_MAGAZINES: { 		_nnvhlbbjecvvaxctgkbpliilmhbiunijmpliqnhyjnagglagudqalhjttzcrg = getNumber(_pnkqrysoipgyxycyyuhqtoiuswhidrmlrjnvypuctfnrtyzgqrjyywtrnmrl >> "scope"); 	}; };  if(!isNil "_bdzyfpiyvauwrclticlvxycsnilxqrnwksuxuwkmkvkzguqbvugvjezszzqpzkzstm") then { 	_bdzyfpiyvauwrclticlvxycsnilxqrnwksuxuwkmkvkzguqbvugvjezszzqpzkzstm = _bdzyfpiyvauwrclticlvxycsnilxqrnwksuxuwkmkvkzguqbvugvjezszzqpzkzstm - ["MuzzleSlot"]; 	_bdzyfpiyvauwrclticlvxycsnilxqrnwksuxuwkmkvkzguqbvugvjezszzqpzkzstm = _bdzyfpiyvauwrclticlvxycsnilxqrnwksuxuwkmkvkzguqbvugvjezszzqpzkzstm - ["CowsSlot"]; 	_bdzyfpiyvauwrclticlvxycsnilxqrnwksuxuwkmkvkzguqbvugvjezszzqpzkzstm = _bdzyfpiyvauwrclticlvxycsnilxqrnwksuxuwkmkvkzguqbvugvjezszzqpzkzstm - ["PointerSlot"]; }; _return = [_kosqrnxaqrqvywxnpkklzgfmcsrezxjonljtjkypppgfccrtdbfoemwkclusnjwyfjaz,_chmqbkmwknwvsjnujdojgkgumeapqvetwvkpfblagubdzgmkaqieuorgrfbghgserad,_picture,_nnvhlbbjecvvaxctgkbpliilmhbiunijmpliqnhyjnagglagudqalhjttzcrg,_yqmdqbnkmdtcahayrxlktgfmkvfsyhspsxnmjsjgmtxzivfisukdecthxgkblsqiwqrpzn,_rstfluchodtvbuwzbimedyxbbnkrkreazqgkbykvmmjfnaxtaxyqmycpfkaro,_hnjaefpgploygrsntxpgfynnivotptzzniifmvfpxmuojpbaufpoyfvvpbihqdaamcs,_magazines,_muzzles,_desc,_ipjuujqcgbwrpqgwvnwbfztpqyxblhvxwtjnryqrbwicxfksozsxavkqjhnj,_pidliugsqlgyqiwvdtplhwbjmniumhschmydvsvmrmfihgqhxdlkwzlevsnnnoe,_zbieunqwutrxckjlctvsxpfxdawcaxfufwikrzhgxanpoyiuauesfosdmxhueqnimylubkzzle,_base,_bdzyfpiyvauwrclticlvxycsnilxqrnwksuxuwkmkvkzguqbvugvjezszzqpzkzstm]; _return; 