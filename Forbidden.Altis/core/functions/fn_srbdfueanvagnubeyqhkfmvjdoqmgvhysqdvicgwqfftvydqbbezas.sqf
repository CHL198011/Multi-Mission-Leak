
#include <macro.h>
disableSerialization;  if(isNil "life_list_current") then {life_list_current = 0}; if(isNil "life_list_count") then {life_list_count = 0}; private ["_name","_ewmqjyzgwgupdbrqzdyjoobbvucwpktkqoocavwnkupmmkyzektwzzxhbbztkqhsftgp","_yyquppywlysaqbrmkkqszosmhjfrmmukxehxaisxrzdfoqfczqlseatbtunuueusx","_nikzyqewcwbmxfvsxejidmtfffippniwsxkltvsfybhmhzgcvhcmqnzealxw","_mvfffqsretwnuztyypgegtixkrreilwkpmmnafjavlieinlebwzjrtxcocuywkozny","_abtesrclsexavsqrivziwbazxruwkldkjcmfdniqdyvzxnkqnpwzyrfvyvldbnljlfzpxm","_iaskfwqreyhnokqyficacomxetejtimbafpdiifcjokhhnquhkbcvrugfdnwewvz","_jxxsmnjdvjixxekkpotbdrcobwslbvyzfpmgehlxlunbbpxrdtgacfwahieyxxcaobotqd","_jxxsmnjdvjixxekkpotbdrcobwslbvyzfpmgehlxlunbbpxrdtgacfwahieyxxcaobotqdField","_ygruiontrqhlshaeuzpudqrcqcqfcvoaxbidlovvexlxbpnjsuakfmdgrzixcvh"]; _ewmqjyzgwgupdbrqzdyjoobbvucwpktkqoocavwnkupmmkyzektwzzxhbbztkqhsftgp = [_this,0,0,[0]] call BIS_fnc_param;  if(_ewmqjyzgwgupdbrqzdyjoobbvucwpktkqoocavwnkupmmkyzektwzzxhbbztkqhsftgp == -1) then { 	_iaskfwqreyhnokqyficacomxetejtimbafpdiifcjokhhnquhkbcvrugfdnwewvz = true; 	_ewmqjyzgwgupdbrqzdyjoobbvucwpktkqoocavwnkupmmkyzektwzzxhbbztkqhsftgp = life_list_current; } else { 	_iaskfwqreyhnokqyficacomxetejtimbafpdiifcjokhhnquhkbcvrugfdnwewvz = false; 	life_list_current = _ewmqjyzgwgupdbrqzdyjoobbvucwpktkqoocavwnkupmmkyzektwzzxhbbztkqhsftgp; };  if!(_iaskfwqreyhnokqyficacomxetejtimbafpdiifcjokhhnquhkbcvrugfdnwewvz) then { 	createDialog "life_listboxframe"; 	waitUntil {!(isNull (findDisplay 7100))}; }; if(isNull (findDisplay 7100)) exitWith {};  _dialog = findDisplay 7100; _listbox = _dialog displayCtrl 7055; _yyquppywlysaqbrmkkqszosmhjfrmmukxehxaisxrzdfoqfczqlseatbtunuueusx = _dialog displayCtrl 1006; _abtesrclsexavsqrivziwbazxruwkldkjcmfdniqdyvzxnkqnpwzyrfvyvldbnljlfzpxm = _dialog displayCtrl 7054; _jxxsmnjdvjixxekkpotbdrcobwslbvyzfpmgehlxlunbbpxrdtgacfwahieyxxcaobotqdField = _dialog displayCtrl 7081;  life_list_count = life_list_count + 1; _ygruiontrqhlshaeuzpudqrcqcqfcvoaxbidlovvexlxbpnjsuakfmdgrzixcvh = life_list_count;  if(_iaskfwqreyhnokqyficacomxetejtimbafpdiifcjokhhnquhkbcvrugfdnwewvz) then { 	lbClear _listbox; 	_jxxsmnjdvjixxekkpotbdrcobwslbvyzfpmgehlxlunbbpxrdtgacfwahieyxxcaobotqd = ctrlText _jxxsmnjdvjixxekkpotbdrcobwslbvyzfpmgehlxlunbbpxrdtgacfwahieyxxcaobotqdField; } else { 	_jxxsmnjdvjixxekkpotbdrcobwslbvyzfpmgehlxlunbbpxrdtgacfwahieyxxcaobotqd = ""; 	 	_dialog displayAddEventHandler ["KeyDown", { 		if((_this select 1) == 14) then {  			[-1] spawn life_fnc_srbdfueanvagnubeyqhkfmvjdoqmgvhysqdvicgwqfftvydqbbezas; 		}; 	}]; 	 };  _mvfffqsretwnuztyypgegtixkrreilwkpmmnafjavlieinlebwzjrtxcocuywkozny = 0;  switch (_ewmqjyzgwgupdbrqzdyjoobbvucwpktkqoocavwnkupmmkyzektwzzxhbbztkqhsftgp) do { 	case 0: {  		_abtesrclsexavsqrivziwbazxruwkldkjcmfdniqdyvzxnkqnpwzyrfvyvldbnljlfzpxm ctrlSetText "Delay till lobbystart (minuter):"; 		_yyquppywlysaqbrmkkqszosmhjfrmmukxehxaisxrzdfoqfczqlseatbtunuueusx buttonSetAction "closeDialog 0; [] call ADP_fnc_dylmzjlmmjqvehrqwhaymqyvbvajdtsttaygzkereaatngpoulqmc;"; 		_yyquppywlysaqbrmkkqszosmhjfrmmukxehxaisxrzdfoqfczqlseatbtunuueusx ctrlSetText "STARTA / AVBRYT EVENTET"; 		 	 		_nikzyqewcwbmxfvsxejidmtfffippniwsxkltvsfybhmhzgcvhcmqnzealxw = 0;  		while {true} do { 			if(_ygruiontrqhlshaeuzpudqrcqcqfcvoaxbidlovvexlxbpnjsuakfmdgrzixcvh != life_list_count) exitWith {}; 			_name = localize format["STR_m_AutoEventName_%1",_nikzyqewcwbmxfvsxejidmtfffippniwsxkltvsfybhmhzgcvhcmqnzealxw]; 			if(_name == "") exitWith {}; 			 			if(_name != "-" && (_jxxsmnjdvjixxekkpotbdrcobwslbvyzfpmgehlxlunbbpxrdtgacfwahieyxxcaobotqd == "" OR ([_jxxsmnjdvjixxekkpotbdrcobwslbvyzfpmgehlxlunbbpxrdtgacfwahieyxxcaobotqd,_name,1,false] call TON_fnc_rizooueqiujrzomxvqjrvxtfracppjrckttqkukvwwticyrsdkwhimpaeao))) then { 				_listbox lbAdd format ["%1",_name]; 				_listbox lbSetTooltip [_mvfffqsretwnuztyypgegtixkrreilwkpmmnafjavlieinlebwzjrtxcocuywkozny,localize format["STR_m_AutoEventTooltip_%1",_nikzyqewcwbmxfvsxejidmtfffippniwsxkltvsfybhmhzgcvhcmqnzealxw]]; 				_listbox lbSetValue [_mvfffqsretwnuztyypgegtixkrreilwkpmmnafjavlieinlebwzjrtxcocuywkozny,_nikzyqewcwbmxfvsxejidmtfffippniwsxkltvsfybhmhzgcvhcmqnzealxw]; 				_mvfffqsretwnuztyypgegtixkrreilwkpmmnafjavlieinlebwzjrtxcocuywkozny = _mvfffqsretwnuztyypgegtixkrreilwkpmmnafjavlieinlebwzjrtxcocuywkozny + 1; 			}; 			 			_nikzyqewcwbmxfvsxejidmtfffippniwsxkltvsfybhmhzgcvhcmqnzealxw = _nikzyqewcwbmxfvsxejidmtfffippniwsxkltvsfybhmhzgcvhcmqnzealxw + 1; 		}; 	}; 	 	case 1: {  		_abtesrclsexavsqrivziwbazxruwkldkjcmfdniqdyvzxnkqnpwzyrfvyvldbnljlfzpxm ctrlSetText "Antal:"; 		_yyquppywlysaqbrmkkqszosmhjfrmmukxehxaisxrzdfoqfczqlseatbtunuueusx buttonSetAction "[] call ADP_fnc_htozcgummoshicwscafojopgdgyigdbrbskkarwckestjrmeoulv;"; 		_yyquppywlysaqbrmkkqszosmhjfrmmukxehxaisxrzdfoqfczqlseatbtunuueusx ctrlSetText "Spawn"; 		 		{ 			if(_ygruiontrqhlshaeuzpudqrcqcqfcvoaxbidlovvexlxbpnjsuakfmdgrzixcvh != life_list_count) exitWith {}; 			_name = localize ITEM_NAME(configName _x); 			if(_jxxsmnjdvjixxekkpotbdrcobwslbvyzfpmgehlxlunbbpxrdtgacfwahieyxxcaobotqd == "" OR ([_jxxsmnjdvjixxekkpotbdrcobwslbvyzfpmgehlxlunbbpxrdtgacfwahieyxxcaobotqd,_name,1,false] call TON_fnc_rizooueqiujrzomxvqjrvxtfracppjrckttqkukvwwticyrsdkwhimpaeao)) then { 				_listbox lbAdd format ["%1",_name]; 				_listbox lbSetData [_mvfffqsretwnuztyypgegtixkrreilwkpmmnafjavlieinlebwzjrtxcocuywkozny,(configName _x)]; 				_mvfffqsretwnuztyypgegtixkrreilwkpmmnafjavlieinlebwzjrtxcocuywkozny = _mvfffqsretwnuztyypgegtixkrreilwkpmmnafjavlieinlebwzjrtxcocuywkozny + 1; 			}; 		} foreach ("true" configClasses (missionConfigFile >> "VirtualItems"));  		lbSort _listbox; 	}; }; 