private ["_ktrlzjlvtlqofuaqceklhzcskdqbgvlonspvkvkvbhsjjmvflzviauqboryhjhaksoebo"]; _ktrlzjlvtlqofuaqceklhzcskdqbgvlonspvkvkvbhsjjmvflzviauqboryhjhaksoebo = [_this,0,false,[true]] call BIS_fnc_param;   if(isNil "life_inClothingShop") then {life_inClothingShop = false}; if(isNil "perk_actions") then {perk_actions = [];}; if(isNil "safekeeping_active") then {safekeeping_active = false;}; if(isNil "safe_gearSet") then {safe_gearSet = "";}; if(isNil "safekeeping_inprogress") then {safekeeping_inprogress = false;};  if(_ktrlzjlvtlqofuaqceklhzcskdqbgvlonspvkvkvbhsjjmvflzviauqboryhjhaksoebo) exitWith { 	 	while {isNil "perks_unspentPoints"} do {sleep 1;}; 	 	if(count perk_actions > 0) then { 		{ 			player removeAction _x; 		} foreach perk_actions; 		perk_actions = []; 	};  	if(perk_16 >= 6) then { 		perk_actions = perk_actions + [player addAction["<t color='#FFCC33'>Ät spelare</t>","[cursorTarget] spawn life_fnc_evybyohrkiazbvoeirhskrfivbfrzjbnpnwdmesjotpmdjsuwekq;","",-6,false,false,"",'(cursorTarget isKindOf "Man") && !(alive cursorTarget) && (player distance cursorTarget < 2)']]; 	}; 	 	if(perk_17 >= 4) then { 		perk_actions = perk_actions + [player addAction["<t color='#FFCC33'>Bogsera</t>","[cursorTarget,true] spawn life_fnc_kdkfmczdeowgbbxfftlrpjbepsbpaeufaqfjdyfyileatsvnwpejptlfptg;","",-6,false,false,"",'(cursorTarget in life_vehicles) && (typeOf cursorTarget) in life_towableTypes && (player distance cursorTarget) < 4 && (life_tow_veh != cursorTarget) && !(cursorTarget getVariable ["towed",false]) && !(cursorTarget getVariable ["isTowing",false]) && (perk_17 >= 4)']]; 		perk_actions = perk_actions + [player addAction["<t color='#FFCC33'>Koppla på</t>","[cursorTarget,false] spawn life_fnc_kdkfmczdeowgbbxfftlrpjbepsbpaeufaqfjdyfyileatsvnwpejptlfptg;","",-6,false,false,"",'((typeOf cursorTarget) in life_towingVehicles OR ((typeOf life_tow_veh) == "B_Quadbike_01_F" && (typeOf cursorTarget) == "B_MRAP_01_F")) && (player distance cursorTarget) < 4 && !(isNull life_tow_veh) && !(cursorTarget getVariable ["towed",false]) && !(cursorTarget getVariable ["isTowing",false]) && (perk_17 >= 4)']]; 		perk_actions = perk_actions + [player addAction["<t color='#FFCC33'>Koppla av</t>","[cursorTarget] spawn life_fnc_kdkfmczdeowgbbxfftlrpjbepsbpaeufaqfjdyfyileatsvnwpejptlfptg;","",-6,false,false,"",'(cursorTarget getVariable ["towed",false]) && (player distance cursorTarget) < 4 && (perk_17 >= 4)']]; 	}; 	 	waitUntil {!safekeeping_inprogress}; 	if(perk_28 >= 3 OR (safekeeping_active && safe_gearSet in ["taliban","taliban_norpg","custom"])) then { 		 		 		if(safekeeping_active) then { 		 			switch (var_base getVariable ["event_deadmansgrip",0]) do { 				case 0: {  					suicide_deadGrip = false; 					perk_actions = perk_actions + [player addAction["<t color='#FF0000'>Spräng väst</t>","[player] spawn life_fnc_vzudmtojjwrwyufbfeuqslmkhsqtykuzyzzawnvjuveqkdkgpueytyj;","",-6,false,false,"",'(vest player) == "V_TacChestrig_cbr_F" && !(life_isTazed) && !(player getVariable "Restrained") && !(player getVariable "tied") && !(player getVariable "stretched") && !(player getVariable "adminRestrained")']]; 				}; 				case 1: {  					perk_actions = perk_actions + [player addAction["<t color='#FF0000'>Spräng väst</t>","[player] spawn life_fnc_vzudmtojjwrwyufbfeuqslmkhsqtykuzyzzawnvjuveqkdkgpueytyj;","",-6,false,false,"",'(vest player) == "V_TacChestrig_cbr_F" && !(life_isTazed) && !(player getVariable "Restrained") && !(player getVariable "tied") && !(player getVariable "stretched") && !(player getVariable "adminRestrained")']]; 					perk_actions = perk_actions + [player addAction["<t color='#FFCC33'>Aktivera dödmansgrepp</t>","suicide_deadGrip = true; hint localize 'STR_m_deadManGripAkt';","",-6,false,false,"",'(vest player) == "V_TacChestrig_cbr_F" && !suicide_deadGrip']]; 					perk_actions = perk_actions + [player addAction["<t color='#ADFF2F'>Deaktiera dödmansgrepp</t>","suicide_deadGrip = false; hint localize 'STR_m_deadManGripDeak';","",-6,false,false,"",'(vest player) == "V_TacChestrig_cbr_F" && suicide_deadGrip']]; 				}; 				case 2: {  					perk_actions = perk_actions + [player addAction["<t color='#FFCC33'>Aktivera dödmansgrepp</t>","suicide_deadGrip = true; hint localize 'STR_m_deadManGripAkt';","",-6,false,false,"",'(vest player) == "V_TacChestrig_cbr_F" && !suicide_deadGrip']]; 					perk_actions = perk_actions + [player addAction["<t color='#ADFF2F'>Deaktiera dödmansgrepp</t>","suicide_deadGrip = false; hint localize 'STR_m_deadManGripDeak';","",-6,false,false,"",'(vest player) == "V_TacChestrig_cbr_F" && suicide_deadGrip']]; 				}; 				case 3: {  					suicide_deadGrip = true; 					perk_actions = perk_actions + [player addAction["<t color='#FF0000'>Spräng väst</t>","[player] spawn life_fnc_vzudmtojjwrwyufbfeuqslmkhsqtykuzyzzawnvjuveqkdkgpueytyj;","",-6,false,false,"",'(vest player) == "V_TacChestrig_cbr_F" && !(life_isTazed) && !(player getVariable "Restrained") && !(player getVariable "tied") && !(player getVariable "stretched") && !(player getVariable "adminRestrained")']]; 				}; 				case 4: {  					suicide_deadGrip = true; 				}; 			}; 		} else { 			perk_actions = perk_actions + [player addAction["<t color='#FF0000'>Spräng väst</t>","[player] spawn life_fnc_vzudmtojjwrwyufbfeuqslmkhsqtykuzyzzawnvjuveqkdkgpueytyj;","",-6,false,false,"",'(vest player) == "V_TacChestrig_cbr_F" && !(life_isTazed) && !(player getVariable "Restrained") && !(player getVariable "tied") && !(player getVariable "stretched") && !(player getVariable "adminRestrained")']]; 			if(leveling_level >= 100) then { 				perk_actions = perk_actions + [player addAction["<t color='#FFCC33'>Aktivera dödmansgrepp</t>","suicide_deadGrip = true; hint localize 'STR_m_deadManGripAkt';","",-6,false,false,"",'(vest player) == "V_TacChestrig_cbr_F" && !suicide_deadGrip']]; 			} else { 				suicide_deadGrip = false; 			}; 			perk_actions = perk_actions + [player addAction["<t color='#ADFF2F'>Deaktiera dödmansgrepp</t>","suicide_deadGrip = false; hint localize 'STR_m_deadManGripDeak';","",-6,false,false,"",'(vest player) == "V_TacChestrig_cbr_F" && suicide_deadGrip']]; 		}; 		 		 	}; };  [] call life_fnc_msadidgvqhtvsjjccqkjeswflihnsjavasrpksejeulvkmtbgj; if(perk_20 >= 10 OR perk_22 >= 6) then {[] spawn life_fnc_fzrpshafqmzrsjrmanvlzrgiwlmofamwbuvbbgimayefiplezyjghiip;};  cop_spy = (perk_26 >= 5);  if(perk_25 >= 3) then {player setVariable ["copInfiltrator",true,true];};  if(perk_3 < 2) then { 	if(isNil "maskingperk_loop") then { 		maskingperk_loop = true; 		[] spawn { 			while {true} do { 				if(goggles player in ["G_Balaclava_blk","G_Balaclava_combat","G_Balaclava_lowprofile","G_Balaclava_oli"] && (perk_3 < 2) && !life_inClothingShop && !safekeeping_active) then { 					player additem (goggles player); 					removeGoggles player; 					hint format[localize "STR_m_MaskingNeedPerk",localize ([3] call life_fnc_qokbfvuujyauzhpwhhtwfwakspbzosfzvnzazblmmcrbpdqwwbfdbdztgoic)]; 				}; 				 				if(headgear player in ["H_ShemagOpen_tan","H_Shemag_olive","H_ShemagOpen_khk"] && (perk_3 < 2) && !life_inClothingShop && ((call life_rebactive) == 0) && !safekeeping_active) then { 					player additem (headgear player); 					removeHeadgear player; 					hint format[localize "STR_m_MaskingNeedPerk",localize ([3] call life_fnc_qokbfvuujyauzhpwhhtwfwakspbzosfzvnzazblmmcrbpdqwwbfdbdztgoic)]; 				}; 				sleep 2; 			}; 		}; 	}; }; 