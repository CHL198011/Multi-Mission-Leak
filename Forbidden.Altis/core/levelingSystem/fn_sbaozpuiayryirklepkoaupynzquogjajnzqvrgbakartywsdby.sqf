
#include <macro.h>
private ["_perk","_iaojjocskoqdmnghnytgvpowetksvcsvrxrgnczzbdgwrdzqkapugheombgcgtvidnwi","_perkName","_perkDesc","_kjwuxbeuxjekfnrcixjmnewvklbxoryximqshsbnrjoluhlqrxzqsqgrcedchhh","_bqlkxidvajxlfdylunjavdibpbzghsfidyfvngoexodddtzznonnjnytktgoswh","_kcztbiyeawkgazqctqufjuictwcybtqmrnywxpmpjhafpvofbctczacyevlpklvln","_mnxjngabkvnwnghcxtouvbzbnuvbgkieivfpximkdrzikyvxmnqznrqvefemogs","_sebgmnbslgtteamqjnaqgsytvmimzzuhzjjgohpcjghzzhxpmtbywgcjmnaeouwduxrzbx","_config","_sikhigmwmfzsslrczrrcihagpmkfqvagwejzeofxsgvhyewjzycserfeqfbcdzo","_czvjjcwdcrqxnmlshaleonhyshcqbaedplfirkuclbjqayxtqpjpfavulzwosxzacpkss","_zunapgksbczijkjovfjgfixjeurcnicervadlqyqycdvoxhymzatcswwkuqcvyhslouck","_migxknmrzuelmkvbitkmwadwbuvsxpadsdxlpkytuzgkvmzxuayeqcqphpzjfocuxygc","_ovhkwsaesctsgjxyegfolffuxotnnbzwoquqvoyodulrsrzzuzcyxjgxvqqujecpdodi","_kfsmuvpqkrxwxaqymzftbbtdqrbezpkkfohihtjczlneyupyppszgidjxkhnpmxjskfxcg"]; disableSerialization;  _perk = [_this,0,0,[0]] call BIS_fnc_param;   if(isNil "perks_tempSpent") then {perks_tempSpent = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];};  _config = perks_config select _perk; _zunapgksbczijkjovfjgfixjeurcnicervadlqyqycdvoxhymzatcswwkuqcvyhslouck = _config select 0; _migxknmrzuelmkvbitkmwadwbuvsxpadsdxlpkytuzgkvmzxuayeqcqphpzjfocuxygc = _config select 1; _ovhkwsaesctsgjxyegfolffuxotnnbzwoquqvoyodulrsrzzuzcyxjgxvqqujecpdodi = ((perks_owned select _perk) + (perks_tempSpent select _perk)); _kfsmuvpqkrxwxaqymzftbbtdqrbezpkkfohihtjczlneyupyppszgidjxkhnpmxjskfxcg = floor(_perk/3) + 1;  _perkName = localize format["STR_m_PerkName_%1",_perk]; _perkDesc = localize format["STR_m_PerkDesc_%1",_perk];  _sebgmnbslgtteamqjnaqgsytvmimzzuhzjjgohpcjghzzhxpmtbywgcjmnaeouwduxrzbx = (toArray _perkDesc); _bqlkxidvajxlfdylunjavdibpbzghsfidyfvngoexodddtzznonnjnytktgoswh = []; _kcztbiyeawkgazqctqufjuictwcybtqmrnywxpmpjhafpvofbctczacyevlpklvln = 0;  private ["_zsvbclbndatcmvvttqfzxhszkfohxpbibdrsuvdfpldlabnrypxnqefdvkgy","_tvtgbbnpnnvxtwyzgmwouuiovnosgupmjdulejrcimgfuwdglajigtlkpkdalezz"]; while {(_kcztbiyeawkgazqctqufjuictwcybtqmrnywxpmpjhafpvofbctczacyevlpklvln < ((count _sebgmnbslgtteamqjnaqgsytvmimzzuhzjjgohpcjghzzhxpmtbywgcjmnaeouwduxrzbx)-1))} do { 	switch (true) do { 		case (toString ([SEL(_sebgmnbslgtteamqjnaqgsytvmimzzuhzjjgohpcjghzzhxpmtbywgcjmnaeouwduxrzbx,_kcztbiyeawkgazqctqufjuictwcybtqmrnywxpmpjhafpvofbctczacyevlpklvln)] + [SEL(_sebgmnbslgtteamqjnaqgsytvmimzzuhzjjgohpcjghzzhxpmtbywgcjmnaeouwduxrzbx,_kcztbiyeawkgazqctqufjuictwcybtqmrnywxpmpjhafpvofbctczacyevlpklvln+1)]) == "\n"): { 			_bqlkxidvajxlfdylunjavdibpbzghsfidyfvngoexodddtzznonnjnytktgoswh = _bqlkxidvajxlfdylunjavdibpbzghsfidyfvngoexodddtzznonnjnytktgoswh + (toArray "<br/>"); 			_kcztbiyeawkgazqctqufjuictwcybtqmrnywxpmpjhafpvofbctczacyevlpklvln = _kcztbiyeawkgazqctqufjuictwcybtqmrnywxpmpjhafpvofbctczacyevlpklvln + 1; 		}; 		case (toString ([SEL(_sebgmnbslgtteamqjnaqgsytvmimzzuhzjjgohpcjghzzhxpmtbywgcjmnaeouwduxrzbx,_kcztbiyeawkgazqctqufjuictwcybtqmrnywxpmpjhafpvofbctczacyevlpklvln)] + [SEL(_sebgmnbslgtteamqjnaqgsytvmimzzuhzjjgohpcjghzzhxpmtbywgcjmnaeouwduxrzbx,_kcztbiyeawkgazqctqufjuictwcybtqmrnywxpmpjhafpvofbctczacyevlpklvln+1)] + [SEL(_sebgmnbslgtteamqjnaqgsytvmimzzuhzjjgohpcjghzzhxpmtbywgcjmnaeouwduxrzbx,_kcztbiyeawkgazqctqufjuictwcybtqmrnywxpmpjhafpvofbctczacyevlpklvln+2)] + [SEL(_sebgmnbslgtteamqjnaqgsytvmimzzuhzjjgohpcjghzzhxpmtbywgcjmnaeouwduxrzbx,_kcztbiyeawkgazqctqufjuictwcybtqmrnywxpmpjhafpvofbctczacyevlpklvln+3)] + [SEL(_sebgmnbslgtteamqjnaqgsytvmimzzuhzjjgohpcjghzzhxpmtbywgcjmnaeouwduxrzbx,_kcztbiyeawkgazqctqufjuictwcybtqmrnywxpmpjhafpvofbctczacyevlpklvln+4)]) == "[PID]"): { 			_bqlkxidvajxlfdylunjavdibpbzghsfidyfvngoexodddtzznonnjnytktgoswh = _bqlkxidvajxlfdylunjavdibpbzghsfidyfvngoexodddtzznonnjnytktgoswh + (toArray (getPlayerUID player)); 			_kcztbiyeawkgazqctqufjuictwcybtqmrnywxpmpjhafpvofbctczacyevlpklvln = _kcztbiyeawkgazqctqufjuictwcybtqmrnywxpmpjhafpvofbctczacyevlpklvln + 4; 		}; 		case (toString ([SEL(_sebgmnbslgtteamqjnaqgsytvmimzzuhzjjgohpcjghzzhxpmtbywgcjmnaeouwduxrzbx,_kcztbiyeawkgazqctqufjuictwcybtqmrnywxpmpjhafpvofbctczacyevlpklvln)] + [SEL(_sebgmnbslgtteamqjnaqgsytvmimzzuhzjjgohpcjghzzhxpmtbywgcjmnaeouwduxrzbx,_kcztbiyeawkgazqctqufjuictwcybtqmrnywxpmpjhafpvofbctczacyevlpklvln+1)]) == "\s"): { 			_tvtgbbnpnnvxtwyzgmwouuiovnosgupmjdulejrcimgfuwdglajigtlkpkdalezz = []; 			_zsvbclbndatcmvvttqfzxhszkfohxpbibdrsuvdfpldlabnrypxnqefdvkgy = _kcztbiyeawkgazqctqufjuictwcybtqmrnywxpmpjhafpvofbctczacyevlpklvln + 2; 			 			while {(toString [SEL(_sebgmnbslgtteamqjnaqgsytvmimzzuhzjjgohpcjghzzhxpmtbywgcjmnaeouwduxrzbx,_zsvbclbndatcmvvttqfzxhszkfohxpbibdrsuvdfpldlabnrypxnqefdvkgy)] != ":") && _zsvbclbndatcmvvttqfzxhszkfohxpbibdrsuvdfpldlabnrypxnqefdvkgy < ((count _sebgmnbslgtteamqjnaqgsytvmimzzuhzjjgohpcjghzzhxpmtbywgcjmnaeouwduxrzbx) - 1)} do { 				_tvtgbbnpnnvxtwyzgmwouuiovnosgupmjdulejrcimgfuwdglajigtlkpkdalezz pushBack SEL(_sebgmnbslgtteamqjnaqgsytvmimzzuhzjjgohpcjghzzhxpmtbywgcjmnaeouwduxrzbx,_zsvbclbndatcmvvttqfzxhszkfohxpbibdrsuvdfpldlabnrypxnqefdvkgy); 				_zsvbclbndatcmvvttqfzxhszkfohxpbibdrsuvdfpldlabnrypxnqefdvkgy = _zsvbclbndatcmvvttqfzxhszkfohxpbibdrsuvdfpldlabnrypxnqefdvkgy + 1; 			}; 			_tvtgbbnpnnvxtwyzgmwouuiovnosgupmjdulejrcimgfuwdglajigtlkpkdalezz pushBack SEL(_sebgmnbslgtteamqjnaqgsytvmimzzuhzjjgohpcjghzzhxpmtbywgcjmnaeouwduxrzbx,_zsvbclbndatcmvvttqfzxhszkfohxpbibdrsuvdfpldlabnrypxnqefdvkgy); 			 			_bqlkxidvajxlfdylunjavdibpbzghsfidyfvngoexodddtzznonnjnytktgoswh = _bqlkxidvajxlfdylunjavdibpbzghsfidyfvngoexodddtzznonnjnytktgoswh + (toArray format["<t color='#1E9E1E' size='1.2'>%1</t>",toString _tvtgbbnpnnvxtwyzgmwouuiovnosgupmjdulejrcimgfuwdglajigtlkpkdalezz]); 			_kcztbiyeawkgazqctqufjuictwcybtqmrnywxpmpjhafpvofbctczacyevlpklvln = _kcztbiyeawkgazqctqufjuictwcybtqmrnywxpmpjhafpvofbctczacyevlpklvln + count(_tvtgbbnpnnvxtwyzgmwouuiovnosgupmjdulejrcimgfuwdglajigtlkpkdalezz) + 1; 		}; 		default {_bqlkxidvajxlfdylunjavdibpbzghsfidyfvngoexodddtzznonnjnytktgoswh pushBack SEL(_sebgmnbslgtteamqjnaqgsytvmimzzuhzjjgohpcjghzzhxpmtbywgcjmnaeouwduxrzbx,_kcztbiyeawkgazqctqufjuictwcybtqmrnywxpmpjhafpvofbctczacyevlpklvln)}; 	}; 	 	_kcztbiyeawkgazqctqufjuictwcybtqmrnywxpmpjhafpvofbctczacyevlpklvln = _kcztbiyeawkgazqctqufjuictwcybtqmrnywxpmpjhafpvofbctczacyevlpklvln + 1; }; _bqlkxidvajxlfdylunjavdibpbzghsfidyfvngoexodddtzznonnjnytktgoswh pushBack SEL(_sebgmnbslgtteamqjnaqgsytvmimzzuhzjjgohpcjghzzhxpmtbywgcjmnaeouwduxrzbx,((count _sebgmnbslgtteamqjnaqgsytvmimzzuhzjjgohpcjghzzhxpmtbywgcjmnaeouwduxrzbx) - 1)); _perkDesc = toString _bqlkxidvajxlfdylunjavdibpbzghsfidyfvngoexodddtzznonnjnytktgoswh;  { 	ctrlShow [_x,false]; } foreach [2400];  { 	ctrlShow [_x,true]; } foreach [2200,2201,2202,2203,2204];  if(_kfsmuvpqkrxwxaqymzftbbtdqrbezpkkfohihtjczlneyupyppszgidjxkhnpmxjskfxcg > perk_tierlevel) then { 	ctrlShow [2205,true]; 	ctrlShow [2206,true]; 	ctrlShow [2207,true]; 	ctrlEnable [2206,false]; 	ctrlEnable [2207,false]; 	ctrlShow [2208,false];  	ctrlShow [2209,false];  	ctrlShow [2210,false];  		 	_iaojjocskoqdmnghnytgvpowetksvcsvrxrgnczzbdgwrdzqkapugheombgcgtvidnwi = CONTROL(3000,2206); 	_iaojjocskoqdmnghnytgvpowetksvcsvrxrgnczzbdgwrdzqkapugheombgcgtvidnwi ctrlSetStructuredText (parseText format["<img size='2.0' image='icons\lock.paa'/>"]); 	_iaojjocskoqdmnghnytgvpowetksvcsvrxrgnczzbdgwrdzqkapugheombgcgtvidnwi = CONTROL(3000,2207); 	_iaojjocskoqdmnghnytgvpowetksvcsvrxrgnczzbdgwrdzqkapugheombgcgtvidnwi ctrlSetStructuredText (parseText format["<img size='2.0' image='icons\lock.paa'/>"]); 	 	if(_kfsmuvpqkrxwxaqymzftbbtdqrbezpkkfohihtjczlneyupyppszgidjxkhnpmxjskfxcg == 11) then { 		_sikhigmwmfzsslrczrrcihagpmkfqvagwejzeofxsgvhyewjzycserfeqfbcdzo = 100; 		_czvjjcwdcrqxnmlshaleonhyshcqbaedplfirkuclbjqayxtqpjpfavulzwosxzacpkss = 99; 	} else { 		_sikhigmwmfzsslrczrrcihagpmkfqvagwejzeofxsgvhyewjzycserfeqfbcdzo = (_kfsmuvpqkrxwxaqymzftbbtdqrbezpkkfohihtjczlneyupyppszgidjxkhnpmxjskfxcg-1) * 10; 		_czvjjcwdcrqxnmlshaleonhyshcqbaedplfirkuclbjqayxtqpjpfavulzwosxzacpkss = (_kfsmuvpqkrxwxaqymzftbbtdqrbezpkkfohihtjczlneyupyppszgidjxkhnpmxjskfxcg-1) * 5; 	}; 	 	_iaojjocskoqdmnghnytgvpowetksvcsvrxrgnczzbdgwrdzqkapugheombgcgtvidnwi = CONTROL(3000,2205); 	_iaojjocskoqdmnghnytgvpowetksvcsvrxrgnczzbdgwrdzqkapugheombgcgtvidnwi ctrlSetStructuredText (parseText format[localize "STR_m_TierIsLocked",_sikhigmwmfzsslrczrrcihagpmkfqvagwejzeofxsgvhyewjzycserfeqfbcdzo,_czvjjcwdcrqxnmlshaleonhyshcqbaedplfirkuclbjqayxtqpjpfavulzwosxzacpkss]); 	 	 	 } else { 	ctrlShow [2205,false];  	ctrlShow [2206,false];  	ctrlShow [2207,false];  	ctrlShow [2208,true];  	ctrlShow [2209,true];  	ctrlShow [2210,true];  	 	_iaojjocskoqdmnghnytgvpowetksvcsvrxrgnczzbdgwrdzqkapugheombgcgtvidnwi = CONTROL(3000,2208); 	_iaojjocskoqdmnghnytgvpowetksvcsvrxrgnczzbdgwrdzqkapugheombgcgtvidnwi ctrlSetStructuredText (parseText (localize "STR_m_SavePerksButton")); 	_iaojjocskoqdmnghnytgvpowetksvcsvrxrgnczzbdgwrdzqkapugheombgcgtvidnwi = CONTROL(3000,2209); 	_iaojjocskoqdmnghnytgvpowetksvcsvrxrgnczzbdgwrdzqkapugheombgcgtvidnwi ctrlSetStructuredText (parseText format["<img size='2.0' image='icons\save.paa'/>"]); 	_iaojjocskoqdmnghnytgvpowetksvcsvrxrgnczzbdgwrdzqkapugheombgcgtvidnwi = CONTROL(3000,2210); 	_iaojjocskoqdmnghnytgvpowetksvcsvrxrgnczzbdgwrdzqkapugheombgcgtvidnwi ctrlSetStructuredText (parseText format["<img size='2.0' image='icons\save.paa'/>"]); 	 	_kjwuxbeuxjekfnrcixjmnewvklbxoryximqshsbnrjoluhlqrxzqsqgrcedchhh = false; 	{ 		if(_x != 0) exitWith {_kjwuxbeuxjekfnrcixjmnewvklbxoryximqshsbnrjoluhlqrxzqsqgrcedchhh = true;}; 	} foreach perks_tempSpent; 	 	if!(_kjwuxbeuxjekfnrcixjmnewvklbxoryximqshsbnrjoluhlqrxzqsqgrcedchhh) then { 		ctrlEnable [2208,false];  		ctrlEnable [2209,false];  		ctrlEnable [2210,false];  	}; };   _iaojjocskoqdmnghnytgvpowetksvcsvrxrgnczzbdgwrdzqkapugheombgcgtvidnwi = CONTROL(3000,2200); _iaojjocskoqdmnghnytgvpowetksvcsvrxrgnczzbdgwrdzqkapugheombgcgtvidnwi ctrlSetStructuredText (parseText format["<t align='center'>%1</t>",_perkName]);  _iaojjocskoqdmnghnytgvpowetksvcsvrxrgnczzbdgwrdzqkapugheombgcgtvidnwi = CONTROL(3000,2201); _iaojjocskoqdmnghnytgvpowetksvcsvrxrgnczzbdgwrdzqkapugheombgcgtvidnwi ctrlSetStructuredText (parseText _perkDesc);  _iaojjocskoqdmnghnytgvpowetksvcsvrxrgnczzbdgwrdzqkapugheombgcgtvidnwi = CONTROL(3000,2203); if(_migxknmrzuelmkvbitkmwadwbuvsxpadsdxlpkytuzgkvmzxuayeqcqphpzjfocuxygc == 0) then { 	_iaojjocskoqdmnghnytgvpowetksvcsvrxrgnczzbdgwrdzqkapugheombgcgtvidnwi ctrlSetStructuredText (parseText (localize "STR_m_PerkNotFinished")); } else { 	_iaojjocskoqdmnghnytgvpowetksvcsvrxrgnczzbdgwrdzqkapugheombgcgtvidnwi ctrlSetStructuredText (parseText (format[localize "STR_m_SpentPoints",_ovhkwsaesctsgjxyegfolffuxotnnbzwoquqvoyodulrsrzzuzcyxjgxvqqujecpdodi,_migxknmrzuelmkvbitkmwadwbuvsxpadsdxlpkytuzgkvmzxuayeqcqphpzjfocuxygc])); };  if((perks_tempSpent select _perk) <= 0) then {ctrlEnable [2202,false]} else {ctrlEnable [2202,true]}; _iaojjocskoqdmnghnytgvpowetksvcsvrxrgnczzbdgwrdzqkapugheombgcgtvidnwi = CONTROL(3000,2202); _iaojjocskoqdmnghnytgvpowetksvcsvrxrgnczzbdgwrdzqkapugheombgcgtvidnwi buttonSetAction format["[false,%1] call life_fnc_jnrqtfhrklgjuavqlbeijkcptclatkkepxdmkulvyrvdlwxikjp;",_perk]; _iaojjocskoqdmnghnytgvpowetksvcsvrxrgnczzbdgwrdzqkapugheombgcgtvidnwi ctrlSetText "-";  if(_ovhkwsaesctsgjxyegfolffuxotnnbzwoquqvoyodulrsrzzuzcyxjgxvqqujecpdodi >= _migxknmrzuelmkvbitkmwadwbuvsxpadsdxlpkytuzgkvmzxuayeqcqphpzjfocuxygc OR _kfsmuvpqkrxwxaqymzftbbtdqrbezpkkfohihtjczlneyupyppszgidjxkhnpmxjskfxcg > perk_tierlevel OR perks_unspentPoints <= 0) then {ctrlEnable [2204,false]} else {ctrlEnable [2204,true]}; _iaojjocskoqdmnghnytgvpowetksvcsvrxrgnczzbdgwrdzqkapugheombgcgtvidnwi = CONTROL(3000,2204); _iaojjocskoqdmnghnytgvpowetksvcsvrxrgnczzbdgwrdzqkapugheombgcgtvidnwi buttonSetAction format["[true,%1] call life_fnc_jnrqtfhrklgjuavqlbeijkcptclatkkepxdmkulvyrvdlwxikjp;",_perk]; _iaojjocskoqdmnghnytgvpowetksvcsvrxrgnczzbdgwrdzqkapugheombgcgtvidnwi ctrlSetText "+";   