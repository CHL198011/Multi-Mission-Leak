
#include <macro.h>
 disableSerialization; private["_lilerbkxzeyxncoqdkiyjqdsfzysdvtjgnvswahfrwwwaxbtrlauybxxsoabb","_rioqakbneewfmoqrwegknoakgtadugonmpxapvemifqomcemmnblymjgntvt","_vehicle","_nhaxthuyebbqtenjxkytileplpapryrhjotzpcmbcurqubtfsapglsolwncuxaugtwmq","_xiacttgvwchpltadhcriyldmgtjwesykrsnmwyouavxxfdolftzuvwxhfbeajgjg","_ttlhinffxivohywcjscwskjppwkmettfjvgodaqvpldalonqycwxuorcayxkwvscickqf","_fylogqznicqpibyhjiqmbhciqchufsjhisvqkmracacevopcweygqiojbqdwamkyuuyeqh","_wdeakvxeidjcrjkybuurtbhvizzggvuieermylamxpxkllakkuajstewxubaun"]; _lilerbkxzeyxncoqdkiyjqdsfzysdvtjgnvswahfrwwwaxbtrlauybxxsoabb = ((findDisplay 39400) displayCtrl 39402); _rioqakbneewfmoqrwegknoakgtadugonmpxapvemifqomcemmnblymjgntvt = _lilerbkxzeyxncoqdkiyjqdsfzysdvtjgnvswahfrwwwaxbtrlauybxxsoabb lbValue (lbCurSel _lilerbkxzeyxncoqdkiyjqdsfzysdvtjgnvswahfrwwwaxbtrlauybxxsoabb);  _vehicle = _lilerbkxzeyxncoqdkiyjqdsfzysdvtjgnvswahfrwwwaxbtrlauybxxsoabb lbData (lbCurSel _lilerbkxzeyxncoqdkiyjqdsfzysdvtjgnvswahfrwwwaxbtrlauybxxsoabb); _vehicle = call compile format["%1", _vehicle]; _nhaxthuyebbqtenjxkytileplpapryrhjotzpcmbcurqubtfsapglsolwncuxaugtwmq = nearestObjects [getMarkerPos life_chopShop,["Car","Truck","Air"],25]; _vehicle = _nhaxthuyebbqtenjxkytileplpapryrhjotzpcmbcurqubtfsapglsolwncuxaugtwmq select _vehicle;   if(isNull _vehicle) exitWith {}; _wdeakvxeidjcrjkybuurtbhvizzggvuieermylamxpxkllakkuajstewxubaun = _vehicle getVariable["vid",-1]; if(_wdeakvxeidjcrjkybuurtbhvizzggvuieermylamxpxkllakkuajstewxubaun == -1) exitWith {hint localize "STR_m_NoStealRental";}; if(_vehicle getVariable ["ADP_spawned",false]) exitWith {hint "Detta fordon blev spawnat av en admin och kan inte snos!"}; if(typeOf _vehicle in ["C_Offroad_01_repair_F"]) exitWith {hint localize "STR_m_CantStealThis";};  if((_vehicle getVariable ["ownerSide",sideUnknown]) == independent) exitWith {  	hint localize "STR_m_CantStealMed"; 	[1,(getPlayerUID player),((_vehicle getVariable ["vehicle_info_owners",[]]) select 0) select 0,"Attempted steal medic vehicle",format["VID: %1 (%2)",(_vehicle getVariable ["vid",-1]),_fylogqznicqpibyhjiqmbhciqchufsjhisvqkmracacevopcweygqiojbqdwamkyuuyeqh],profileName,((_vehicle getVariable ["vehicle_info_owners",[]]) select 0) select 1,str (getPos player)] remoteExec ["TON_fnc_cqbslmzhelexdchvshruhtirwniyhyywbybxhiltsdxdujmnhjuhnal",2]; };  _fylogqznicqpibyhjiqmbhciqchufsjhisvqkmracacevopcweygqiojbqdwamkyuuyeqh = getText(configFile >> "CfgVehicles" >> (typeOf _vehicle) >> "displayName"); if(life_atmbank < _rioqakbneewfmoqrwegknoakgtadugonmpxapvemifqomcemmnblymjgntvt) exitWith {hint format["We require a fee of %1 in your bank account to make that vehicle yours",_rioqakbneewfmoqrwegknoakgtadugonmpxapvemifqomcemmnblymjgntvt]; };  _ttlhinffxivohywcjscwskjppwkmettfjvgodaqvpldalonqycwxuorcayxkwvscickqf = false;  if(playerSide != civilian) exitWith {hint "Only civilians can steal vehicles!";}; {if(player distance _x < 200 && side _x == west) then { _ttlhinffxivohywcjscwskjppwkmettfjvgodaqvpldalonqycwxuorcayxkwvscickqf = true; };} forEach playableUnits;  if(_ttlhinffxivohywcjscwskjppwkmettfjvgodaqvpldalonqycwxuorcayxkwvscickqf) exitWith {hint "The cops are too close to complete this action!";};  if(typeOf _vehicle == "B_MRAP_01_F" OR typeOf _vehicle == "O_MRAP_02_F" OR typeOf _vehicle == "I_MRAP_03_F") exitWith {hint "Unfortunately, you can not make that type of vehicle yours! You will have to sell it instead."; };   life_atmbank = life_atmbank - _rioqakbneewfmoqrwegknoakgtadugonmpxapvemifqomcemmnblymjgntvt; [6] call SOCK_fnc_ddjmbrftntgdwpptfaoymlxkcjyscjwhklmcfylqhrqrxtxznnh; hint format[localize "STR_m_StealCharged",_rioqakbneewfmoqrwegknoakgtadugonmpxapvemifqomcemmnblymjgntvt];  [_vehicle,player] remoteExec ["life_fnc_ptjvvwmnvdoglvjkazfjpebjhxwjlhtzynfcyuutyuwjqvduwnjdqhtf"];      [1,(getPlayerUID player),((_vehicle getVariable ["vehicle_info_owners",[]]) select 0) select 0,"Stole vehicle",format["VID: %1 (%2)",(_vehicle getVariable ["vid",-1]),_fylogqznicqpibyhjiqmbhciqchufsjhisvqkmracacevopcweygqiojbqdwamkyuuyeqh],profileName,((_vehicle getVariable ["vehicle_info_owners",[]]) select 0) select 1,str (getPos player)] remoteExec ["TON_fnc_cqbslmzhelexdchvshruhtirwniyhyywbybxhiltsdxdujmnhjuhnal",2];  _vehicle setVariable ["vehicle_info_owners",[[(getPlayerUID player),(name player)]],true];  [[(getPlayerUID player),(_vehicle getVariable ["vid",-1])],"TON_fnc_mgfbfbybxclqyacwhxcwcojxebhwhjuescjrktuegxroiipheimvljkrjxca",false,false] spawn life_fnc_MP; [getPlayerUID player,profileName,"490",player] spawn life_fnc_emtvegxsjbicbxdyyizalaeqhulvbokspdnvrxanbasgedbaphvjbq; closeDialog 0; sleep 0.5;       