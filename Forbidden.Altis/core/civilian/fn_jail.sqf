
#include <macro.h>
 private["_mdgnmxemrrissqvryfpdnjnuudstycdvhwuvqtzjizbjbcotsfzzzpyyrxqeifntlodwuw","_velhdizbiqwiuozyvysewqlbbtdjpnimssjnhsbnmtqlgmggtacanjotcveijcqs","_time","_cell","_lglwbhilfajqcmlkhnrwxchfgbziibdfccniupynwxzdkjjlijkueegephfgjj","_cellPos","_mvopmhfesljrrymxxxlqqpdtgdwmqzbstjmhcrhycczpfkekjfiqyroqltmifvxjk","_nyznkndckjbaghtsocxeaeflyqdvwpqtqvbjssjksljpxrsgwvplhtsloaxxclxesq","_qpizvgtshdgxlymyeqylcydawprodmxyvaeawyqqgbkqkqinijclkwwoxlbjsgqb","_kyoajikqpwlltqgbmqmzzvmpbruuljqpajdkqmdgbrarxobnkizmfamvhildsj","_qjpnfrzlmcubsdnyftcwkmtdmooftbisksygodlnxaielcluacnyrueeiimyfzxgnh","_admin","_reason","_hbwzfwminmvjwqdqnknpxfqsdvkleylmxbtcogimnpdpbhezsdofbrqxwmypouy","_relutjmqtemxeieikzgitmfvgqavrkpohixhjncclysejniqzijnuuaqttoikxet","_sauoeelpewweyynsrtobgxyxbiswlvwxycvcfpbalqdsowqhoxaposfxmgzqqinbxicydt","_punucmjwfxsaiksquaweonczgsbfqieqooxvfjtshcbzhctzplbxjtldgwgps"]; _velhdizbiqwiuozyvysewqlbbtdjpnimssjnhsbnmtqlgmggtacanjotcveijcqs = [_this,0,ObjNull,[ObjNull]] call BIS_fnc_param; if(isNull _velhdizbiqwiuozyvysewqlbbtdjpnimssjnhsbnmtqlgmggtacanjotcveijcqs) exitWith {};  if(_velhdizbiqwiuozyvysewqlbbtdjpnimssjnhsbnmtqlgmggtacanjotcveijcqs != player) exitWith {};      _mdgnmxemrrissqvryfpdnjnuudstycdvhwuvqtzjizbjbcotsfzzzpyyrxqeifntlodwuw = [_this,1,false,[false]] call BIS_fnc_param; _time = [_this,2,-1,[0]] call BIS_fnc_param; _nyznkndckjbaghtsocxeaeflyqdvwpqtqvbjssjksljpxrsgwvplhtsloaxxclxesq = [_this,3,false,[false]] call BIS_fnc_param; _qpizvgtshdgxlymyeqylcydawprodmxyvaeawyqqgbkqkqinijclkwwoxlbjsgqb = [_this,4,false,[false]] call BIS_fnc_param; _kyoajikqpwlltqgbmqmzzvmpbruuljqpajdkqmdgbrarxobnkizmfamvhildsj = [_this,5,false,[false]] call BIS_fnc_param; _admin = [_this,6,objNull,[objNull]] call BIS_fnc_param; _reason = [_this,7,"",[""]] call BIS_fnc_param;  _relutjmqtemxeieikzgitmfvgqavrkpohixhjncclysejniqzijnuuaqttoikxet = name _admin; _sauoeelpewweyynsrtobgxyxbiswlvwxycvcfpbalqdsowqhoxaposfxmgzqqinbxicydt = getPlayerUID _admin; _hbwzfwminmvjwqdqnknpxfqsdvkleylmxbtcogimnpdpbhezsdofbrqxwmypouy = (!_qpizvgtshdgxlymyeqylcydawprodmxyvaeawyqqgbkqkqinijclkwwoxlbjsgqb && _nyznkndckjbaghtsocxeaeflyqdvwpqtqvbjssjksljpxrsgwvplhtsloaxxclxesq);    if(isNil "releasedFromJail") then {releasedFromJail = false;}; if(isNil "adminJail_reason") then {adminJail_reason = "";};   if(_kyoajikqpwlltqgbmqmzzvmpbruuljqpajdkqmdgbrarxobnkizmfamvhildsj) exitWith { 	if(_sauoeelpewweyynsrtobgxyxbiswlvwxycvcfpbalqdsowqhoxaposfxmgzqqinbxicydt != "") then { 		if(life_adminjail != 0) then { 			[7,_sauoeelpewweyynsrtobgxyxbiswlvwxycvcfpbalqdsowqhoxaposfxmgzqqinbxicydt,getPlayerUID player,"Release",_reason,_relutjmqtemxeieikzgitmfvgqavrkpohixhjncclysejniqzijnuuaqttoikxet,profileName,str (getPos _admin),round (life_adminjail)] remoteExec ["TON_fnc_cqbslmzhelexdchvshruhtirwniyhyywbybxhiltsdxdujmnhjuhnal",2]; 		} else { 			if(life_is_arrested != 0) then { 				[4,_sauoeelpewweyynsrtobgxyxbiswlvwxycvcfpbalqdsowqhoxaposfxmgzqqinbxicydt,getPlayerUID player,"Cop jail release",format["%1 minutes remained, reason: %2",life_is_arrested,_reason],_relutjmqtemxeieikzgitmfvgqavrkpohixhjncclysejniqzijnuuaqttoikxet,profileName,str (getPos _admin)] remoteExec ["TON_fnc_cqbslmzhelexdchvshruhtirwniyhyywbybxhiltsdxdujmnhjuhnal",2]; 			} else { 				hint "Spelaren sitter ej i finkan!"; 				_exit = true; 			}; 		}; 	}; 		 	if(Jail_inProgress) then {releasedFromJail = true;}; };   if(isNil "Jail_inProgress") then {Jail_inProgress = false;}; if(Jail_inProgress) then {releasedFromJail = true;}; waitUntil{!Jail_inProgress}; Jail_inProgress = true;   if(_nyznkndckjbaghtsocxeaeflyqdvwpqtqvbjssjksljpxrsgwvplhtsloaxxclxesq) then { 	life_adminJail = round(_time); 	if(_reason == "") then { 		_reason = adminJail_reason; 		[12] call SOCK_fnc_ddjmbrftntgdwpptfaoymlxkcjyscjwhklmcfylqhrqrxtxznnh; 	} else { 		adminJail_reason = _reason; 		[12,_reason] call SOCK_fnc_ddjmbrftntgdwpptfaoymlxkcjyscjwhklmcfylqhrqrxtxznnh; 	}; };   if(_hbwzfwminmvjwqdqnknpxfqsdvkleylmxbtcogimnpdpbhezsdofbrqxwmypouy) then { 	[] call life_fnc_wrkibhoprwgzzqikpvkmdebpbfywrjtnwqxfwowjwwgksrgsjlgjuyxnvxe; 	_punucmjwfxsaiksquaweonczgsbfqieqooxvfjtshcbzhctzplbxjtldgwgps = str life_gear; 	if(_sauoeelpewweyynsrtobgxyxbiswlvwxycvcfpbalqdsowqhoxaposfxmgzqqinbxicydt != "") then { 		adminJailCount = adminJailCount + 1; 		adminJailTotalTime = adminJailTotalTime + round(_time); 		[7,_sauoeelpewweyynsrtobgxyxbiswlvwxycvcfpbalqdsowqhoxaposfxmgzqqinbxicydt,getPlayerUID player,"AdminJail and strip",format["%1, Gear: %2",_reason,_punucmjwfxsaiksquaweonczgsbfqieqooxvfjtshcbzhctzplbxjtldgwgps],_relutjmqtemxeieikzgitmfvgqavrkpohixhjncclysejniqzijnuuaqttoikxet,profileName,str (getPos player),round _time] remoteExec ["TON_fnc_cqbslmzhelexdchvshruhtirwniyhyywbybxhiltsdxdujmnhjuhnal",2]; 	}; 	prison_savedGear = ["U_C_Poloshirt_blue","","","","",["ItemMap","ItemCompass","ItemWatch","",""],"","",["",""],[],[],[],[],[],["","","",""],["","","",""],[]]; 	life_gear = prison_savedGear; 	[3,false,true] call SOCK_fnc_ddjmbrftntgdwpptfaoymlxkcjyscjwhklmcfylqhrqrxtxznnh; };   waitUntil {life_isAlive OR releasedFromJail}; if(!life_isAlive) exitWith {Jail_inProgress = false; releasedFromJail = false;};  if(inEventGame) then { 	[3,"",true] spawn life_fnc_vxzmfzvlijcmojhjimlsmqcbanjbfypcqvaeuzaccmwmrlxsuvj; }; waitUntil {!inEventGame};  if!(isNull real_player) then {[""] spawn life_fnc_kilyjctvlzpammikwiowotymtfdfnxqkmjnkjjzbmvqelmsykhnnvcta;}; waitUntil {isNull real_player};  if(allowedDamage) then {player allowDamage true;};  player SVAR ["stretched",false,true]; player SVAR ["tied",false,true]; player SVAR ["restrained",false,true]; player SVAR ["adminRestrained",false,true]; player SVAR ["Escorting",false,true]; player SVAR ["transporting",false,true];  if(_nyznkndckjbaghtsocxeaeflyqdvwpqtqvbjssjksljpxrsgwvplhtsloaxxclxesq) then { 	[[0,2],format[localize "STR_AdminJail_Warn",_reason]] spawn life_Fnc_broadcast; } else { 	titleText[localize "STR_Jail_Warn","PLAIN"]; };  if(_mdgnmxemrrissqvryfpdnjnuudstycdvhwuvqtzjizbjbcotsfzzzpyyrxqeifntlodwuw) then { 	waitUntil {alive player}; 	sleep 1; };    _lglwbhilfajqcmlkhnrwxchfgbziibdfccniupynwxzdkjjlijkueegephfgjj = 0; _cell = 0; while {_cell == 0} do { 	switch (true) do { 		case (prison getVariable ["cell 21",0] == _lglwbhilfajqcmlkhnrwxchfgbziibdfccniupynwxzdkjjlijkueegephfgjj) : {_cell = 21;}; 		case (prison getVariable ["cell 20",0] == _lglwbhilfajqcmlkhnrwxchfgbziibdfccniupynwxzdkjjlijkueegephfgjj) : {_cell = 20;}; 		case (prison getVariable ["cell 18",0] == _lglwbhilfajqcmlkhnrwxchfgbziibdfccniupynwxzdkjjlijkueegephfgjj) : {_cell = 18;}; 		case (prison getVariable ["cell 17",0] == _lglwbhilfajqcmlkhnrwxchfgbziibdfccniupynwxzdkjjlijkueegephfgjj) : {_cell = 17;}; 		case (prison getVariable ["cell 22",0] == _lglwbhilfajqcmlkhnrwxchfgbziibdfccniupynwxzdkjjlijkueegephfgjj) : {_cell = 22;}; 		case (prison getVariable ["cell 19",0] == _lglwbhilfajqcmlkhnrwxchfgbziibdfccniupynwxzdkjjlijkueegephfgjj) : {_cell = 19;}; 		case (prison getVariable ["cell 16",0] == _lglwbhilfajqcmlkhnrwxchfgbziibdfccniupynwxzdkjjlijkueegephfgjj) : {_cell = 16;}; 		case (prison getVariable ["cell 9",0] == _lglwbhilfajqcmlkhnrwxchfgbziibdfccniupynwxzdkjjlijkueegephfgjj) : {_cell = 9;}; 		case (prison getVariable ["cell 10",0] == _lglwbhilfajqcmlkhnrwxchfgbziibdfccniupynwxzdkjjlijkueegephfgjj) : {_cell = 10;}; 		case (prison getVariable ["cell 12",0] == _lglwbhilfajqcmlkhnrwxchfgbziibdfccniupynwxzdkjjlijkueegephfgjj) : {_cell = 12;}; 		case (prison getVariable ["cell 13",0] == _lglwbhilfajqcmlkhnrwxchfgbziibdfccniupynwxzdkjjlijkueegephfgjj) : {_cell = 13;}; 		case (prison getVariable ["cell 14",0] == _lglwbhilfajqcmlkhnrwxchfgbziibdfccniupynwxzdkjjlijkueegephfgjj) : {_cell = 14;}; 		case (prison getVariable ["cell 15",0] == _lglwbhilfajqcmlkhnrwxchfgbziibdfccniupynwxzdkjjlijkueegephfgjj) : {_cell = 15;}; 	}; 	_lglwbhilfajqcmlkhnrwxchfgbziibdfccniupynwxzdkjjlijkueegephfgjj = _lglwbhilfajqcmlkhnrwxchfgbziibdfccniupynwxzdkjjlijkueegephfgjj + 1; };  _cellPos = [_cell] call life_fnc_eamlnhwzqysnwhotiykaghimzvbiuvvknmmfzzikiicaqpoygjp;    if(_nyznkndckjbaghtsocxeaeflyqdvwpqtqvbjssjksljpxrsgwvplhtsloaxxclxesq) then { 	_cell = 512; 	_cellPos = [14797,16642,0]; 	prison_cellOpen = false; } else { 	player setVariable ["isInCopJail",true,true]; 	prison setVariable [format["cell %1",_cell],_lglwbhilfajqcmlkhnrwxchfgbziibdfccniupynwxzdkjjlijkueegephfgjj,true]; 	prison_cellOpen = prison getVariable [format["cell_%1_boltcutted",_cell],false]; 	if(_cell == 21 && (prison getVariable [format["cell_%1_boltcutted",7],false])) then {prison_cellOpen = true;}; 	if(_cell == 20 && (prison getVariable [format["cell_%1_boltcutted",6],false])) then {prison_cellOpen = true;}; 	if(_cell == 18 && (prison getVariable [format["cell_%1_boltcutted",5],false])) then {prison_cellOpen = true;}; };  prison_cell = _cell; prison_cellpos = _cellPos;     player setPosATL _cellPos;       if(!_qpizvgtshdgxlymyeqylcydawprodmxyvaeawyqqgbkqkqinijclkwwoxlbjsgqb) then { 	if(life_inv_heroinu > 0) then {[false,"heroin_unprocessed",life_inv_heroinu] call life_fnc_obfjrnynfhghcglhujcjbgakxemxpjvrqczgxoeickhzvgovmtdbvr;}; 	if(life_inv_heroinp > 0) then {[false,"heroin_processed",life_inv_heroinp] call life_fnc_obfjrnynfhghcglhujcjbgakxemxpjvrqczgxoeickhzvgovmtdbvr;}; 	if(life_inv_coke > 0) then {[false,"cocaine_unprocessed",life_inv_coke] call life_fnc_obfjrnynfhghcglhujcjbgakxemxpjvrqczgxoeickhzvgovmtdbvr;}; 	if(life_inv_cokep > 0) then {[false,"cocaine_processed",life_inv_cokep] call life_fnc_obfjrnynfhghcglhujcjbgakxemxpjvrqczgxoeickhzvgovmtdbvr;}; 	if(life_inv_turtle > 0) then {[false,"turtle_raw",life_inv_turtle] call life_fnc_obfjrnynfhghcglhujcjbgakxemxpjvrqczgxoeickhzvgovmtdbvr;}; 	if(life_inv_cannabis > 0) then {[false,"cannabis",life_inv_cannabis] call life_fnc_obfjrnynfhghcglhujcjbgakxemxpjvrqczgxoeickhzvgovmtdbvr;}; 	if(life_inv_marijuana > 0) then {[false,"marijuana",life_inv_marijuana] call life_fnc_obfjrnynfhghcglhujcjbgakxemxpjvrqczgxoeickhzvgovmtdbvr;};   	removeAllWeapons player; 	{player removeMagazine _x} foreach (magazines player); 	if(backpack player in ["B_Mortar_01_support_F","B_Mortar_01_support_F"]) then {removeBackpack player;}; 	if(uniform player in ["U_Rangemaster"]) then {removeUniform player;}; 	if(vest player in ["V_TacVest_blk_POLICE"]) then {removeVest player;}; 	if(headgear player in ["H_HelmetB","H_Beret_Colonel","H_Beret_blk","H_Watchcap_blk","H_Cap_police","H_MilCap_mcamo"]) then {removeHeadGear player;}; };  if(_nyznkndckjbaghtsocxeaeflyqdvwpqtqvbjssjksljpxrsgwvplhtsloaxxclxesq) then { 	life_adminJail = round(_time); } else { 	life_is_arrested = _time; };  [_admin,_reason,_time,_hbwzfwminmvjwqdqnknpxfqsdvkleylmxbtcogimnpdpbhezsdofbrqxwmypouy,_relutjmqtemxeieikzgitmfvgqavrkpohixhjncclysejniqzijnuuaqttoikxet,_sauoeelpewweyynsrtobgxyxbiswlvwxycvcfpbalqdsowqhoxaposfxmgzqqinbxicydt] spawn { 	private ["_admin","_reason","_time","_hbwzfwminmvjwqdqnknpxfqsdvkleylmxbtcogimnpdpbhezsdofbrqxwmypouy","_relutjmqtemxeieikzgitmfvgqavrkpohixhjncclysejniqzijnuuaqttoikxet","_sauoeelpewweyynsrtobgxyxbiswlvwxycvcfpbalqdsowqhoxaposfxmgzqqinbxicydt","_punucmjwfxsaiksquaweonczgsbfqieqooxvfjtshcbzhctzplbxjtldgwgps"]; 	_admin = _this select 0; 	_reason = _this select 1; 	_time = _this select 2; 	_hbwzfwminmvjwqdqnknpxfqsdvkleylmxbtcogimnpdpbhezsdofbrqxwmypouy = _this select 3; 	_relutjmqtemxeieikzgitmfvgqavrkpohixhjncclysejniqzijnuuaqttoikxet = _this select 4; 	_sauoeelpewweyynsrtobgxyxbiswlvwxycvcfpbalqdsowqhoxaposfxmgzqqinbxicydt = _this select 5; 	sleep 2; 	 	 	if!(_hbwzfwminmvjwqdqnknpxfqsdvkleylmxbtcogimnpdpbhezsdofbrqxwmypouy) then { 		[3] call SOCK_fnc_ddjmbrftntgdwpptfaoymlxkcjyscjwhklmcfylqhrqrxtxznnh; 		prison_savedGear = life_gear; 	}; 	 	_mvopmhfesljrrymxxxlqqpdtgdwmqzbstjmhcrhycczpfkekjfiqyroqltmifvxjk = []; 	{ 		_mvopmhfesljrrymxxxlqqpdtgdwmqzbstjmhcrhycczpfkekjfiqyroqltmifvxjk pushBack (configName _x); 	} foreach ("true" configClasses (missionConfigFile >> "VirtualItems"));  	{ 		[false,_x,ITEM_VALUE(_x)] call life_fnc_obfjrnynfhghcglhujcjbgakxemxpjvrqczgxoeickhzvgovmtdbvr; 	} foreach _mvopmhfesljrrymxxxlqqpdtgdwmqzbstjmhcrhycczpfkekjfiqyroqltmifvxjk;  	if(isNil "jail_default_gear") then {jail_default_gear = ["U_C_Scientist","","","","",["ItemMap","ItemCompass","ItemWatch","NVGoggles","Binocular"],"","",[],[],[],[],[],[],["","","",""],["","","",""],[["waterBottle",2],["crispbread",4]]]}; 	life_gear = jail_default_gear; 	_handle = [] spawn life_fnc_ypufifqvwhywsfipllcqkxzffdjzwmpvtocvlcfdwdfqdemvdmllaqjmu; 	waitUntil {scriptDone _handle}; 	[] spawn life_fnc_rowhjumsjgsncucggciahhfhgmxuheiscxpmznzokspmwulycajsgd; };  life_timeOfJailing = time;   [[player,_mdgnmxemrrissqvryfpdnjnuudstycdvhwuvqtzjizbjbcotsfzzzpyyrxqeifntlodwuw,_time,_cell,_nyznkndckjbaghtsocxeaeflyqdvwpqtqvbjssjksljpxrsgwvplhtsloaxxclxesq],"life_fnc_eowldgfgqijpuxxwmmkonuyrtknoxpykqfnotzksnrjsuwqdvd",false,false] call life_fnc_MP; if(life_is_arrested > 0) then { 	[5] call SOCK_fnc_ddjmbrftntgdwpptfaoymlxkcjyscjwhklmcfylqhrqrxtxznnh; }; 