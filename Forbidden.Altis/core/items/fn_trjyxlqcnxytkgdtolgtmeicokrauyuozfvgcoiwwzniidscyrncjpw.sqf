 private["_vault","_handle","_eadkjfltspqholqhxorpfczkmcymavqjezhtvsyjhiirhrwluwxbxijnbbmusaltcd","_door","_ayafdqldzoabjrymtjdpverntdpgwutclbbnedtkvcpcybpvdihypwtfygqdtaafcie","_rebels","_toelpeilxxcxewgqnfvjnmtwbkcfzrhqxvhcioeuxohrdvvicssxedygyenezigblw","_srhezjyqrsqcjsqkedgjialpfffbtlqauudplkhwcadwirxqfjheczapxxidwzjhq"]; _vault = [_this,0,ObjNull,[ObjNull]] call BIS_fnc_param; _door = 0;  _toelpeilxxcxewgqnfvjnmtwbkcfzrhqxvhcioeuxohrdvvicssxedygyenezigblw = prison modelToWorld (prison selectionPosition "Door_1_trigger"); _srhezjyqrsqcjsqkedgjialpfffbtlqauudplkhwcadwirxqfjheczapxxidwzjhq = prison modelToWorld (prison selectionPosition "Door_4_trigger"); if((player distance _toelpeilxxcxewgqnfvjnmtwbkcfzrhqxvhcioeuxohrdvvicssxedygyenezigblw) < 5) then {_door = 1;}; if((player distance _srhezjyqrsqcjsqkedgjialpfffbtlqauudplkhwcadwirxqfjheczapxxidwzjhq) < 5) then {_door = 2;};  if(_vault == rebel_weaponstash && (rebel_weaponstash getVariable ["AdminLocked",false])) exitWith {hint format[localize "STR_m_AdminLocked","rebellernas vapenförråd"];}; if(_vault == rebel_radioTower && (rebel_radioTower getVariable ["AdminLocked",false])) exitWith {hint format[localize "STR_m_AdminLocked","rebellernas radiomast"];};  if(_vault == rebel_weaponstash && (life_serverRestartTimeLeft - serverTime) < 2700) exitWith {hint localize "STR_m_WeaponCacheRestartSoon";};  _ayafdqldzoabjrymtjdpverntdpgwutclbbnedtkvcpcybpvdihypwtfygqdtaafcie = false; if(_vault == rebel_weaponstash) then { 	_rebels = [] call life_fnc_dukkaashsaqxerftxqvfbicuzddjsictjwmgmzyzuqckdtaeivdmgnmyneod; 	{ 		if(_x in _rebels) exitWith {_ayafdqldzoabjrymtjdpverntdpgwutclbbnedtkvcpcybpvdihypwtfygqdtaafcie = true;}; 	} foreach nearestObjects [fed_bank,["Man"],275]; }; if(_ayafdqldzoabjrymtjdpverntdpgwutclbbnedtkvcpcybpvdihypwtfygqdtaafcie) exitWith {hint localize "STR_m_RebelsRaidingFed";};  if(_vault == prison && ({side _x == west} count playableUnits < 2) && !(prison getVariable ["admin_approved",false])) exitWith {hint localize "STR_m_MinimumCopsPrison";};   if(_vault == prison && (var_base getVariable ["currentAutoEvent",-1]) == 14) exitWith {hint localize "STR_m_PrisonNeoAbort";};  _ayafdqldzoabjrymtjdpverntdpgwutclbbnedtkvcpcybpvdihypwtfygqdtaafcie = false; if(_vault == prison && !(prison getVariable ["admin_approved",false])) then { 	_ayafdqldzoabjrymtjdpverntdpgwutclbbnedtkvcpcybpvdihypwtfygqdtaafcie = true; 	{ 		if (_x getVariable ["isInCopJail",false]) exitWith {_ayafdqldzoabjrymtjdpverntdpgwutclbbnedtkvcpcybpvdihypwtfygqdtaafcie = false;}; 	} foreach (nearestObjects [prison,["Man"],80]); }; if(_ayafdqldzoabjrymtjdpverntdpgwutclbbnedtkvcpcybpvdihypwtfygqdtaafcie) exitWith {hint "Ingen sitter i finkan, du kan ej bryta dig in!";};  if(_vault in [rebel_weaponstash,rebel_radioTower]) then { 	_door = [_vault] call life_fnc_jkvvmuvnfrypchjwooxahzhfxbygdozoybzteujqgkxtgenmih; 	 	_ayafdqldzoabjrymtjdpverntdpgwutclbbnedtkvcpcybpvdihypwtfygqdtaafcie = false; 	{ 		if(_x distance _vault > 400) exitWith {_ayafdqldzoabjrymtjdpverntdpgwutclbbnedtkvcpcybpvdihypwtfygqdtaafcie = true;}; 	} foreach units (group player); }; if(_ayafdqldzoabjrymtjdpverntdpgwutclbbnedtkvcpcybpvdihypwtfygqdtaafcie) exitWith {hint localize "STR_m_RebGunOutOfRange";};  if(_vault in [prison,rebel_weaponstash] && _door == 0) exitWith {hint localize "STR_m_TooFarAwayStuff";};  if(_vault == fed_bank && !(fed_bank getVariable ["globe_boltcutted",false])) exitWith { 	hint localize "STR_m_OuterNotBreachedBlow"; 	 }; if(_vault == fed_bank && !(fed_bank getVariable ["research_boltcutted",false])) exitWith { 	hint localize "STR_m_ResearchNotBreachedBlow"; 	 };  if(isNull _vault) exitWith {};  if(!((typeOf _vault == "Land_CargoBox_V1_F") OR (_vault == prison) OR (_vault == rebel_weaponstash) OR (_vault == rebel_radioTower))) exitWith {hint localize "STR_ISTR_Blast_VaultOnly"}; if(_vault getVariable["chargeplaced",false]) exitWith {hint localize "STR_ISTR_Blast_AlreadyPlaced"}; if(_vault getVariable["safe_open",false]) exitWith {hint localize "STR_ISTR_Blast_AlreadyOpen"}; if(!([false,"blastingcharge",1] call life_fnc_obfjrnynfhghcglhujcjbgakxemxpjvrqczgxoeickhzvgovmtdbvr)) exitWith {};  if(({side _x == west} count playableUnits < 5) && (_vault == fed_bank) && !(fed_bank getVariable ["admin_approved",false])) exitWith {hint localize "STR_Civ_NotEnoughCops";};    if((_vault == rebel_weaponstash) && ((count ([true] call life_fnc_dukkaashsaqxerftxqvfbicuzddjsictjwmgmzyzuqckdtaeivdmgnmyneod)) < 5) && !(rebel_weaponstash getVariable ["admin_approved",false])) exitWith {hint format[localize "STR_m_notEnoughRebels",5]};   if((_vault == rebel_radioTower) && ((count ([] call life_fnc_dukkaashsaqxerftxqvfbicuzddjsictjwmgmzyzuqckdtaeivdmgnmyneod)) < 5) && !(rebel_radioTower getVariable ["admin_approved",false])) exitWith {hint format[localize "STR_m_notEnoughRebels",5]};   _vault setVariable["chargeplaced",true,true];  switch (_vault) do { 	case fed_bank : {[[0,localize "STR_ISTR_Blast_Placed"],"life_fnc_broadcast",west,false] call life_fnc_MP;}; 	case prison : {[[0,"En bomb har placerats vid fangelset!"],"life_fnc_broadcast",west,false] call life_fnc_MP;}; 	case rebel_weaponstash : {[2,localize "STR_m_bombPlacedRebels"] remoteExec ["life_fnc_broadcast"];}; 	case rebel_radioTower : {[2,localize "STR_m_bombPlacedRadio"] remoteExec ["life_fnc_broadcast"];}; };  if(_vault == fed_bank) then {_vault setVariable ["blastingGroup",group player,true]};  hint localize "STR_ISTR_Blast_KeepOff"; _handle = [_vault] spawn life_fnc_mzjhnrwizhpivhjfiokqwwtgtsozshykdggqymhufdbdpxwjvcklgebw;  switch (_vault) do { 	case prison : { 		[[2,localize "STR_m_PrisonBreakIn"],"life_fnc_broadcast",true,false] call life_fnc_MP; 		[] spawn { 			for "_i" from 0 to 24 do { 				[prison,"restart",1000] remoteExec ["life_fnc_trhseodhngmgvxncyytnwswxjnpawhscwsjplsavkvanngibxeptqc"]; 				sleep 12; 				if(!(prison getVariable["chargeplaced",false])) exitWith {}; 			}; 		}; 	}; 	 	case fed_bank : { 		[] spawn { 			for "_i" from 0 to 24 do { 				[fed_bank,"restart",1000] remoteExec ["life_fnc_trhseodhngmgvxncyytnwswxjnpawhscwsjplsavkvanngibxeptqc"]; 				sleep 12; 				if(!(fed_bank getVariable["chargeplaced",false])) exitWith {}; 			}; 		}; 	}; 	 	case rebel_weaponstash : { 		[] spawn { 			for "_i" from 0 to 24 do { 				[rebel_weaponstash,"restart",1000] remoteExec ["life_fnc_trhseodhngmgvxncyytnwswxjnpawhscwsjplsavkvanngibxeptqc"]; 				sleep 12; 				if(!(rebel_weaponstash getVariable["chargeplaced",false])) exitWith {}; 			}; 		}; 	}; 	 	case rebel_radioTower : { 		[] spawn { 			for "_i" from 0 to 24 do { 				[rebel_radioTower,"restart",1000] remoteExec ["life_fnc_trhseodhngmgvxncyytnwswxjnpawhscwsjplsavkvanngibxeptqc"]; 				sleep 12; 				if(!(rebel_radioTower getVariable["chargeplaced",false])) exitWith {}; 			}; 		}; 	};  };   sleep 2; waitUntil {scriptDone _handle}; sleep 0.9; if(!(_vault getVariable["chargeplaced",false])) exitWith {hint localize "STR_ISTR_Blast_Disarmed"};  if(_door == 1 && _vault == prison) then { 	_eadkjfltspqholqhxorpfczkmcymavqjezhtvsyjhiirhrwluwxbxijnbbmusaltcd = [_toelpeilxxcxewgqnfvjnmtwbkcfzrhqxvhcioeuxohrdvvicssxedygyenezigblw select 0,_toelpeilxxcxewgqnfvjnmtwbkcfzrhqxvhcioeuxohrdvvicssxedygyenezigblw select 1,-60]; } else { 	if(_door == 2 && _vault == prison) then { 		_eadkjfltspqholqhxorpfczkmcymavqjezhtvsyjhiirhrwluwxbxijnbbmusaltcd = [_srhezjyqrsqcjsqkedgjialpfffbtlqauudplkhwcadwirxqfjheczapxxidwzjhq select 0,_srhezjyqrsqcjsqkedgjialpfffbtlqauudplkhwcadwirxqfjheczapxxidwzjhq select 1,-60]; 	} else { 		_eadkjfltspqholqhxorpfczkmcymavqjezhtvsyjhiirhrwluwxbxijnbbmusaltcd = [getPosATL _vault select 0, getPosATL _vault select 1, (getPosATL _vault select 2)+0.5]; 	}; };  if(_vault == rebel_radioTower) then {_eadkjfltspqholqhxorpfczkmcymavqjezhtvsyjhiirhrwluwxbxijnbbmusaltcd = [getPosATL _vault select 0, getPosATL _vault select 1, (getPosATL _vault select 2)-50];};   _bomb = "Bo_GBU12_LGB_MI10" createVehicle _eadkjfltspqholqhxorpfczkmcymavqjezhtvsyjhiirhrwluwxbxijnbbmusaltcd; _vault setVariable["chargeplaced",false,true]; _vault setVariable["safe_open",true,true]; if(_door == 1 && _vault == prison) then {prison setVariable ['bis_disabled_Door_1',0,true]; prison animate ["door_1_rot",1];}; if(_door == 2 && _vault == prison) then {prison setVariable ['bis_disabled_Door_4',0,true]; prison animate ["door_4_rot",1];};   if(_vault == rebel_weaponstash) then { 	 	rebel_weaponstash setVariable [format["bis_disabled_door_%1",_door],0,true]; 	[] spawn { 		sleep 0.5; 		rebel_stash setDir 0; 		rebel_stash setPosATL [11626.2,9742.2,0.715588]; 	}; };    if(_vault == rebel_radioTower) then { 	rebel_radioTower animate [format["door_%1_rot",_door],1]; };  switch (_vault) do { 	case prison: {}; 	default {hint localize "STR_ISTR_Blast_Opened";}; };  