 private["_nyjgtqqinxhgqvlmichtdgmsorvolqhzewxwkhfjlhxenotulqplrsiztkxk","_ecirkmearqssrilnzentalhfnmfivmxrieifyutewkpbpraglmpomtlmblbg","_fumquywulbqgkbendxfqgioopbqqdyztxlmtdfjtxrrmakcgqnsljebqzpdn","_progress","_xrjfeghtotluvciwebztwxkjudshbqebzwtmtqevutcfkvtjfgibdoiwmelxenc","_zjepwqdzawkqddritdddlhvywtxbrhgmcuujxulwwbzssbtktwlpsdxxkrmkxcnzo","_nxdqhcsgkqdhjdrwmqqvntmnsnoxfqnbssjkqyouopmqchgzbtzitbvflytsfsnzogp","_dqzsmtfwjyvzzebbkyddbxvefmmelcnmvmilksajfaeifnpklivosbldjmfqyqacoxvfzi","_wrmobtqcydvrzseljhdztlvrarbfumajytpawrsgjtllonjrsrebxwwjpystt"]; _nyjgtqqinxhgqvlmichtdgmsorvolqhzewxwkhfjlhxenotulqplrsiztkxk = life_vInact_curTarget; life_interrupted = false; if(isNull _nyjgtqqinxhgqvlmichtdgmsorvolqhzewxwkhfjlhxenotulqplrsiztkxk) exitwith {}; if(life_action_inUse) exitWith {}; if((_nyjgtqqinxhgqvlmichtdgmsorvolqhzewxwkhfjlhxenotulqplrsiztkxk isKindOf "Car") OR (_nyjgtqqinxhgqvlmichtdgmsorvolqhzewxwkhfjlhxenotulqplrsiztkxk isKindOf "Ship") OR (_nyjgtqqinxhgqvlmichtdgmsorvolqhzewxwkhfjlhxenotulqplrsiztkxk isKindOf "Air")) then { 	if("ToolKit" in (items player) OR playerSide in [west,independent]) then 	{ 		life_action_inUse = true; 		_nxdqhcsgkqdhjdrwmqqvntmnsnoxfqnbssjkqyouopmqchgzbtzitbvflytsfsnzogp = getText(configFile >> "CfgVehicles" >> (typeOf _nyjgtqqinxhgqvlmichtdgmsorvolqhzewxwkhfjlhxenotulqplrsiztkxk) >> "displayName"); 		_ecirkmearqssrilnzentalhfnmfivmxrieifyutewkpbpraglmpomtlmblbg = format[localize "STR_NOTF_Repairing",_nxdqhcsgkqdhjdrwmqqvntmnsnoxfqnbssjkqyouopmqchgzbtzitbvflytsfsnzogp]; 		 		disableSerialization; 		5 cutRsc ["life_progress","PLAIN"]; 		_fumquywulbqgkbendxfqgioopbqqdyztxlmtdfjtxrrmakcgqnsljebqzpdn = uiNameSpace getVariable "life_progress"; 		_progress = _fumquywulbqgkbendxfqgioopbqqdyztxlmtdfjtxrrmakcgqnsljebqzpdn displayCtrl 38201; 		_xrjfeghtotluvciwebztwxkjudshbqebzwtmtqevutcfkvtjfgibdoiwmelxenc = _fumquywulbqgkbendxfqgioopbqqdyztxlmtdfjtxrrmakcgqnsljebqzpdn displayCtrl 38202; 		_xrjfeghtotluvciwebztwxkjudshbqebzwtmtqevutcfkvtjfgibdoiwmelxenc ctrlSetText format["%2 (1%1)...","%",_ecirkmearqssrilnzentalhfnmfivmxrieifyutewkpbpraglmpomtlmblbg]; 		_progress progressSetPosition 0.01; 		_zjepwqdzawkqddritdddlhvywtxbrhgmcuujxulwwbzssbtktwlpsdxxkrmkxcnzo = 0.01; 		 		while{true} do 		{ 			if(animationState player != "AinvPknlMstpSnonWnonDnon_medic_1") then { 				[[player,"AinvPknlMstpSnonWnonDnon_medic_1",true],"life_fnc_gbrisqbkirkdomhkildcgyttqicsflitrnbqgpixyslsyszkor",true,false] call life_fnc_MP; 				player switchMove "AinvPknlMstpSnonWnonDnon_medic_1"; 				player playMoveNow "AinvPknlMstpSnonWnonDnon_medic_1"; 			}; 			sleep 0.27; 			 			_wrmobtqcydvrzseljhdztlvrarbfumajytpawrsgjtllonjrsrebxwwjpystt = 0.01; 			if(perk_11 >= 4) then {_wrmobtqcydvrzseljhdztlvrarbfumajytpawrsgjtllonjrsrebxwwjpystt = _wrmobtqcydvrzseljhdztlvrarbfumajytpawrsgjtllonjrsrebxwwjpystt * 1.5}; 			_zjepwqdzawkqddritdddlhvywtxbrhgmcuujxulwwbzssbtktwlpsdxxkrmkxcnzo = _zjepwqdzawkqddritdddlhvywtxbrhgmcuujxulwwbzssbtktwlpsdxxkrmkxcnzo + _wrmobtqcydvrzseljhdztlvrarbfumajytpawrsgjtllonjrsrebxwwjpystt; 			 			_progress progressSetPosition _zjepwqdzawkqddritdddlhvywtxbrhgmcuujxulwwbzssbtktwlpsdxxkrmkxcnzo; 			_xrjfeghtotluvciwebztwxkjudshbqebzwtmtqevutcfkvtjfgibdoiwmelxenc ctrlSetText format["%3 (%1%2)...",round(_zjepwqdzawkqddritdddlhvywtxbrhgmcuujxulwwbzssbtktwlpsdxxkrmkxcnzo * 100),"%",_ecirkmearqssrilnzentalhfnmfivmxrieifyutewkpbpraglmpomtlmblbg]; 			if(_zjepwqdzawkqddritdddlhvywtxbrhgmcuujxulwwbzssbtktwlpsdxxkrmkxcnzo >= 1) exitWith {}; 			if(!alive player) exitWith {}; 			if(player != vehicle player) exitWith {}; 			if(life_interrupted) exitWith {}; 		}; 		 		life_action_inUse = false; 		5 cutText ["","PLAIN"]; 		player playActionNow "stop"; 		if(life_interrupted) exitWith {life_interrupted = false; titleText[localize "STR_NOTF_ActionCancel","PLAIN"]; life_action_inUse = false;}; 		if(player != vehicle player) exitWith {titleText[localize "STR_NOTF_RepairingInVehicle","PLAIN"];}; 		if(playerSide == civilian) then { 			if!(perk_11 >= 2 && (random(100) < 50)) then { 				player removeItem "ToolKit"; 			}; 		}; 		_nyjgtqqinxhgqvlmichtdgmsorvolqhzewxwkhfjlhxenotulqplrsiztkxk setDamage 0; 		[40] spawn life_fnc_earnXP; 		titleText[localize "STR_NOTF_RepairedVehicle","PLAIN"]; 	}; }; 