
#include <macro.h>
 private["_srjxfsgxgvszceuwzixixvuexxtcawxfgvtkcujqkrubdyxvnfbxygcatiwfrbfvafloao","_hideout","_action","_wxeiqontwwewdwnzwjfunsxddnftboepzfiiqszamuzimcrepwqirhievjdfamcvphd","_cvevleggafvbiginrqzljbhderrtkooiyclwdssbhzfrrbyqbygfeibvxjopidlzbf","_aygoopxpiliapmfceztohlbnrfftjdpgkyvsksayovcdrwefkcenmmqjdnupayyrohryquptsxlmysrcyqhhhpkefipxklxfmodpyjotgpmytsjrvmfuvlnwavpgwplb","_zjldbvlmojyohnbtvjffilhvpholthgpwbocmnyoxxiqisvysbiyhmvzvlqnzjsublh","_giijymjaajhakfotccwciqcclcyakfgwbfoyzcwzqkvsdrwwpacircmpusuf","_qwbdmqmjqgxudeggqbyryfjxiwlsmncwwlpaxulolwanrjhmmicrriojfcmca","_giijymjaajhakfotccwciqcclcyakfgwbfoyzcwzqkvsdrwwpacircmpusufText","_aygoopxpiliapmfceztohlbnrfftjdpgkyvsksayovcdrwefkcenmmqjdnupa","_jdvjyemmecmkjtohgzvjumnmhywprwpzacfiaukmwqjwoprriagtjdtwtuuvoziwqcy","_wiyhlfzpmuqlnnujhnpfxjehrjtgwaxrunbcmwjmhkxlxwdsjwqzgomejvwyg","_wiyhlfzpmuqlnnujhnpfxjehrjtgwaxrunbcmwjmhkxlxwdsjwqzgomejvwygText","_qcpemdgqqpaqdddrqlevhixajeizqycpojrhvbegaqbufxojpjswhaertqdcuf"]; _hideout = gang_hideout; _srjxfsgxgvszceuwzixixvuexxtcawxfgvtkcujqkrubdyxvnfbxygcatiwfrbfvafloao = _hideout getVariable ["gangOwner",grpNull]; _zjldbvlmojyohnbtvjffilhvpholthgpwbocmnyoxxiqisvysbiyhmvzvlqnzjsublh = [_this,0,0,[0]] call BIS_fnc_param; _qwbdmqmjqgxudeggqbyryfjxiwlsmncwwlpaxulolwanrjhmmicrriojfcmca = _zjldbvlmojyohnbtvjffilhvpholthgpwbocmnyoxxiqisvysbiyhmvzvlqnzjsublh == 1;    _qcpemdgqqpaqdddrqlevhixajeizqycpojrhvbegaqbufxojpjswhaertqdcuf = grpPlayer getVariable ["gang_name",""]; _gangName = _hideout getVariable ["gangOwnerName",""];    if(_zjldbvlmojyohnbtvjffilhvpholthgpwbocmnyoxxiqisvysbiyhmvzvlqnzjsublh == 0 && (playerSide != civilian OR (call life_rebactive) == 1) && !life_debugging) exitWith {hint localize "STR_m_HideoutOnlyCiv";}; if(_gangName != "" && _zjldbvlmojyohnbtvjffilhvpholthgpwbocmnyoxxiqisvysbiyhmvzvlqnzjsublh == 0) exitWith {}; if(_gangName == "" && _zjldbvlmojyohnbtvjffilhvpholthgpwbocmnyoxxiqisvysbiyhmvzvlqnzjsublh == 2) exitWith {}; if((gang_hideout getVariable ["AdminLocked",false]) && !_qwbdmqmjqgxudeggqbyryfjxiwlsmncwwlpaxulolwanrjhmmicrriojfcmca) exitWith {hint localize "STR_m_GangLockedAd";}; if(_qcpemdgqqpaqdddrqlevhixajeizqycpojrhvbegaqbufxojpjswhaertqdcuf == "" && _zjldbvlmojyohnbtvjffilhvpholthgpwbocmnyoxxiqisvysbiyhmvzvlqnzjsublh == 0) exitWith {titleText[localize "STR_GNOTF_CreateGang","PLAIN"];}; if(_qcpemdgqqpaqdddrqlevhixajeizqycpojrhvbegaqbufxojpjswhaertqdcuf == _gangName && !_qwbdmqmjqgxudeggqbyryfjxiwlsmncwwlpaxulolwanrjhmmicrriojfcmca && !life_debugging) exitWith {titleText[localize "STR_GNOTF_Controlled","PLAIN"]}; if((gang_hideout getVariable ["capturingGang",""]) == _qcpemdgqqpaqdddrqlevhixajeizqycpojrhvbegaqbufxojpjswhaertqdcuf && _qcpemdgqqpaqdddrqlevhixajeizqycpojrhvbegaqbufxojpjswhaertqdcuf != "" && !life_debugging) exitWith {titleText[localize "STR_GNOTF_YouCappingAlready","PLAIN"]}; if((count playableUnits) < 40 && _zjldbvlmojyohnbtvjffilhvpholthgpwbocmnyoxxiqisvysbiyhmvzvlqnzjsublh == 0 && !life_debugging) exitWith {hint format[localize "STR_m_HideoutMorePl",40]}; if((_hideout getVariable ["inCapture",FALSE])) exitWith {hint localize "STR_GNOTF_Captured";};  _wxeiqontwwewdwnzwjfunsxddnftboepzfiiqszamuzimcrepwqirhievjdfamcvphd = 0.0075;  if(_qwbdmqmjqgxudeggqbyryfjxiwlsmncwwlpaxulolwanrjhmmicrriojfcmca) then {_wxeiqontwwewdwnzwjfunsxddnftboepzfiiqszamuzimcrepwqirhievjdfamcvphd = 0.015};  if(!isNil "_action" && {!_action}) exitWith {titleText[localize "STR_GNOTF_CaptureCancel","PLAIN"];}; life_action_inUse = true;   disableSerialization; _giijymjaajhakfotccwciqcclcyakfgwbfoyzcwzqkvsdrwwpacircmpusuf = if(_qwbdmqmjqgxudeggqbyryfjxiwlsmncwwlpaxulolwanrjhmmicrriojfcmca) then {} else {}; _giijymjaajhakfotccwciqcclcyakfgwbfoyzcwzqkvsdrwwpacircmpusuf = switch (_zjldbvlmojyohnbtvjffilhvpholthgpwbocmnyoxxiqisvysbiyhmvzvlqnzjsublh) do { 	case 0: {localize "STR_GNOTF_Capturing"}; 	case 1: {if((gang_hideout getVariable ["gangOwnerName",""]) == "") then {localize "STR_GNOTF_AbortingCaputre"} else {localize "STR_GNOTF_AbortingNeutralization"}}; 	case 2: {localize "STR_GNOTF_NeutralizingG"}; }; 5 cutRsc ["life_progress","PLAIN"]; _aygoopxpiliapmfceztohlbnrfftjdpgkyvsksayovcdrwefkcenmmqjdnupa = uiNamespace getVariable "life_progress"; _aygoopxpiliapmfceztohlbnrfftjdpgkyvsksayovcdrwefkcenmmqjdnupayyrohryquptsxlmysrcyqhhhpkefipxklxfmodpyjotgpmytsjrvmfuvlnwavpgwplb = _aygoopxpiliapmfceztohlbnrfftjdpgkyvsksayovcdrwefkcenmmqjdnupa displayCtrl 38201; _giijymjaajhakfotccwciqcclcyakfgwbfoyzcwzqkvsdrwwpacircmpusufText = _aygoopxpiliapmfceztohlbnrfftjdpgkyvsksayovcdrwefkcenmmqjdnupa displayCtrl 38202; _giijymjaajhakfotccwciqcclcyakfgwbfoyzcwzqkvsdrwwpacircmpusufText ctrlSetText format["%2 (1%1)...","%",_giijymjaajhakfotccwciqcclcyakfgwbfoyzcwzqkvsdrwwpacircmpusuf]; _aygoopxpiliapmfceztohlbnrfftjdpgkyvsksayovcdrwefkcenmmqjdnupayyrohryquptsxlmysrcyqhhhpkefipxklxfmodpyjotgpmytsjrvmfuvlnwavpgwplb progressSetPosition 0.01; _cvevleggafvbiginrqzljbhderrtkooiyclwdssbhzfrrbyqbygfeibvxjopidlzbf = 0.01;  while {true} do { 	if(animationState player != "AinvPknlMstpSnonWnonDnon_medic_1") then { 		[[player,"AinvPknlMstpSnonWnonDnon_medic_1",true],"life_fnc_gbrisqbkirkdomhkildcgyttqicsflitrnbqgpixyslsyszkor",true,false] call life_fnc_MP; 		player switchMove "AinvPknlMstpSnonWnonDnon_medic_1"; 		player playMoveNow "AinvPknlMstpSnonWnonDnon_medic_1"; 	}; 	sleep 0.26; 	if(isNull _aygoopxpiliapmfceztohlbnrfftjdpgkyvsksayovcdrwefkcenmmqjdnupa) then { 		5 cutRsc ["life_progress","PLAIN"]; 		_aygoopxpiliapmfceztohlbnrfftjdpgkyvsksayovcdrwefkcenmmqjdnupa = uiNamespace getVariable "life_progress"; 		_aygoopxpiliapmfceztohlbnrfftjdpgkyvsksayovcdrwefkcenmmqjdnupayyrohryquptsxlmysrcyqhhhpkefipxklxfmodpyjotgpmytsjrvmfuvlnwavpgwplb = _aygoopxpiliapmfceztohlbnrfftjdpgkyvsksayovcdrwefkcenmmqjdnupa displayCtrl 38201; 		_giijymjaajhakfotccwciqcclcyakfgwbfoyzcwzqkvsdrwwpacircmpusufText = _aygoopxpiliapmfceztohlbnrfftjdpgkyvsksayovcdrwefkcenmmqjdnupa displayCtrl 38202; 	}; 	_cvevleggafvbiginrqzljbhderrtkooiyclwdssbhzfrrbyqbygfeibvxjopidlzbf = _cvevleggafvbiginrqzljbhderrtkooiyclwdssbhzfrrbyqbygfeibvxjopidlzbf + _wxeiqontwwewdwnzwjfunsxddnftboepzfiiqszamuzimcrepwqirhievjdfamcvphd; 	_aygoopxpiliapmfceztohlbnrfftjdpgkyvsksayovcdrwefkcenmmqjdnupayyrohryquptsxlmysrcyqhhhpkefipxklxfmodpyjotgpmytsjrvmfuvlnwavpgwplb progressSetPosition _cvevleggafvbiginrqzljbhderrtkooiyclwdssbhzfrrbyqbygfeibvxjopidlzbf; 	_giijymjaajhakfotccwciqcclcyakfgwbfoyzcwzqkvsdrwwpacircmpusufText ctrlSetText format["%3 (%1%2)...",round(_cvevleggafvbiginrqzljbhderrtkooiyclwdssbhzfrrbyqbygfeibvxjopidlzbf * 100),"%",_giijymjaajhakfotccwciqcclcyakfgwbfoyzcwzqkvsdrwwpacircmpusuf]; 	_hideout setVariable["inCapture",true,true]; 	if(_cvevleggafvbiginrqzljbhderrtkooiyclwdssbhzfrrbyqbygfeibvxjopidlzbf >= 1 OR !alive player) exitWith {_hideout setVariable["inCapture",false,true];}; 	if(life_istazed) exitWith {_hideout setVariable["inCapture",false,true];};  	if(life_interrupted) exitWith {_hideout setVariable["inCapture",false,true];}; };   5 cutText ["","PLAIN"]; player playActionNow "stop"; if(!alive player OR life_istazed) exitWith {life_action_inUse = false;_hideout setVariable["inCapture",false,true];}; if((player getVariable["restrained",false])) exitWith {life_action_inUse = false;_hideout setVariable["inCapture",false,true];}; if(life_interrupted) exitWith {life_interrupted = false; titleText[localize "STR_GNOTF_CaptureCancel","PLAIN"]; life_action_inUse = false;_hideout setVariable["inCapture",false,true];}; life_action_inUse = false;  switch (_zjldbvlmojyohnbtvjffilhvpholthgpwbocmnyoxxiqisvysbiyhmvzvlqnzjsublh) do { 	case 0: {  		[1,(getPlayerUID player),"","Hideout capturing started",_qcpemdgqqpaqdddrqlevhixajeizqycpojrhvbegaqbufxojpjswhaertqdcuf,profileName,"",str (getPos player)] remoteExec ["TON_fnc_cqbslmzhelexdchvshruhtirwniyhyywbybxhiltsdxdujmnhjuhnal",2]; 		[gang_hideout,"restart",1500] remoteExec ["life_fnc_trhseodhngmgvxncyytnwswxjnpawhscwsjplsavkvanngibxeptqc",-2]; 		[gang_hideout,player,(group player)] remoteExec ["TON_fnc_bvtvhqcjqfumpdisfuinlodlqthdewnyrfkdggkhxobrgolqztybzde",2]; 	}; 	 	case 1: {  		[1,(getPlayerUID player),"","Hideout capturing interrupted",format["%1 was capping",(gang_hideout getVariable ["capturingGang",""])],profileName,"",str (getPos player)] remoteExec ["TON_fnc_cqbslmzhelexdchvshruhtirwniyhyywbybxhiltsdxdujmnhjuhnal",2]; 		[objNull,player,(group player)] remoteExec ["TON_fnc_bvtvhqcjqfumpdisfuinlodlqthdewnyrfkdggkhxobrgolqztybzde",2]; 	}; 	 	case 2: {  		[1,(getPlayerUID player),"","Hideout capturing neutralizing",_qcpemdgqqpaqdddrqlevhixajeizqycpojrhvbegaqbufxojpjswhaertqdcuf,profileName,"",str (getPos player)] remoteExec ["TON_fnc_cqbslmzhelexdchvshruhtirwniyhyywbybxhiltsdxdujmnhjuhnal",2]; 		[gang_hideout,"restart",1500] remoteExec ["life_fnc_trhseodhngmgvxncyytnwswxjnpawhscwsjplsavkvanngibxeptqc",-2]; 		[gang_hideout,player,(group player),_zjldbvlmojyohnbtvjffilhvpholthgpwbocmnyoxxiqisvysbiyhmvzvlqnzjsublh] remoteExec ["TON_fnc_bvtvhqcjqfumpdisfuinlodlqthdewnyrfkdggkhxobrgolqztybzde",2]; 	}; }; 