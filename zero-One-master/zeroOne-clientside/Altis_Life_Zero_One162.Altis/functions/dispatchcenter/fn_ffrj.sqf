private['_wRh','_kTg','_Kjy','_blkW','_LkwK','_Mos','_KxLl','_kNi','_tWR','_PFi','_Ars','_Ldq'];if (playerSide isEqualTo civilian || playerSide isEqualTo east) exitWith {};disableSerialization;_wRh = param[1,0,[0]];ncNQ = _wRh;_kTg = ((findDisplay 4000) displayCtrl 4004);lbClear _kTg;if (_wRh isEqualTo 4 || _wRh isEqualTo 5) then {  { if (count(_x select 2) != 0) then { _Kjy = floor ((_x select 2) distance player); } else { _Kjy = -1; }; _x deleteAt 5; _x pushBack _Kjy; } foreach yMirRDD;};switch (_wRh) do { case 0 : {   lbClear _kTg; if (yMirRDD isEqualTo []) exitWith { _kTg lbAdd localize "STR_PM_DispatchCenter_no_diaptches"; _kTg lbSetdata [(lbSize _kTg)-1,"Null"]; }; {  _LkwK = _x select 1; _kTg lbAdd format["%1", _LkwK]; _kTg lbSetdata [(lbSize _kTg)-1,str(_x)]; } foreach yMirRDD; }; case 1 : {  _Ldq = [yMirRDD, 3, "desc"] call KRON_ArraySort;  lbClear _kTg; if (yMirRDD isEqualTo []) exitWith { _kTg lbAdd localize "STR_PM_DispatchCenter_no_diaptches"; _kTg lbSetdata [(lbSize _kTg)-1,"Null"]; }; {  _LkwK = _x select 1; _kTg lbAdd format["%1", _LkwK]; _kTg lbSetdata [(lbSize _kTg)-1,str(_x)]; } foreach _Ldq; }; case 2: {  _Ldq = [yMirRDD, 1] call KRON_ArraySort;  lbClear _kTg; if (yMirRDD isEqualTo []) exitWith { _kTg lbAdd localize "STR_PM_DispatchCenter_no_diaptches"; _kTg lbSetdata [(lbSize _kTg)-1,"Null"]; }; {  _LkwK = _x select 1; _kTg lbAdd format["%1", _LkwK]; _kTg lbSetdata [(lbSize _kTg)-1,str(_x)]; } foreach _Ldq; }; case 3: {  _Ldq = [yMirRDD, 1, "desc"] call KRON_ArraySort;  lbClear _kTg; if (yMirRDD isEqualTo []) exitWith { _kTg lbAdd localize "STR_PM_DispatchCenter_no_diaptches"; _kTg lbSetdata [(lbSize _kTg)-1,"Null"]; }; {  _LkwK = _x select 1; _kTg lbAdd format["%1", _LkwK]; _kTg lbSetdata [(lbSize _kTg)-1,str(_x)]; } foreach _Ldq; }; case 4: {  _Ldq = [yMirRDD, 5] call KRON_ArraySort;  lbClear _kTg; if (yMirRDD isEqualTo []) exitWith { _kTg lbAdd localize "STR_PM_DispatchCenter_no_diaptches"; _kTg lbSetdata [(lbSize _kTg)-1,"Null"]; }; { if (_x select 5 != -1) then {  _LkwK = _x select 1; _PFi = _x select 5; _kTg lbAdd format["%1 - %2M", _LkwK, _PFi]; _kTg lbSetdata [(lbSize _kTg)-1,str(_x)]; }; } foreach _Ldq; }; case 5: {  _Ldq = [yMirRDD, 5, "desc"] call KRON_ArraySort;  lbClear _kTg; if (yMirRDD isEqualTo []) exitWith { _kTg lbAdd localize "STR_PM_DispatchCenter_no_diaptches"; _kTg lbSetdata [(lbSize _kTg)-1,"Null"]; }; { if (_x select 5 != -1) then {  _LkwK = _x select 1; _PFi = _x select 5; _kTg lbAdd format["%1 - %2M", _LkwK, _PFi]; _kTg lbSetdata [(lbSize _kTg)-1,str(_x)]; }; } foreach _Ldq; }; case 6 : {  lbClear _kTg;  _Ldq = []; { if(toLower(_x select 1) find toLower(ctrlText 4002) != -1) then {_Ldq pushBack _x;}; } foreach yMirRDD; if (_Ldq isEqualTo []) exitWith { _kTg lbAdd localize "STR_PM_DispatchCenter_no_diaptches"; _kTg lbSetdata [(lbSize _kTg)-1,"Null"]; };  lbClear _kTg; {  _kTg lbAdd format["%1", _x select 1]; _kTg lbSetdata [(lbSize _kTg)-1,str(_x)]; } foreach _Ldq; };};{_x deleteAt 5;} forEach yMirRDD;