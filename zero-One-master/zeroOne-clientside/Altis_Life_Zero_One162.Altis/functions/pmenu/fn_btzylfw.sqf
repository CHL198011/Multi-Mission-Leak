private['_ray','_aqX','_lei','_qEc'];disableSerialization;if (!isnil "SXYyylDoY") exitwith { titleRsc ["RGB","PLAIN"]; (((uiNamespace getVariable "aWaQ") displayCtrl 5501) ctrlSetText "Nur alle 10Sek. Bitte.");};SXYyylDoY = true;[] spawn { uisleep 10; SXYyylDoY = nil;};_ray = findDisplay 2001;_aqX = _ray displayCtrl 2023;_lei = _ray displayCtrl 2022;lbClear _lei;lbClear _aqX;_qEc = [];if(vehicle player != player) then { { if(player != _x) then { _qEc pushBackUnique _x; }; } foreach crew(vehicle player); { if(!isNull _x && alive _x && player distance _x < 10 && _x != player) then { _lei lbAdd format["%1 - %2",_x getVariable["aOsyc",name _x], side _x]; _lei lbSetData [(lbSize _lei)-1,str(_x)]; _aqX lbAdd format["%1 - %2",_x getVariable["aOsyc",name _x], side _x]; _aqX lbSetData [(lbSize _lei)-1,str(_x)]; }; } foreach _qEc;}else{ { if(player distance _x < 10 && (vehicle _x) == _x) then { _qEc pushBackUnique _x; }; } foreach playableUnits; { if(!isNull _x && alive _x && player distance _x < 10 && _x != player) then { _lei lbAdd format["%1 - %2",_x getVariable["aOsyc",name _x], side _x]; _lei lbSetData [(lbSize _lei)-1,str(_x)]; _aqX lbAdd format["%1 - %2",_x getVariable["aOsyc",name _x], side _x]; _aqX lbSetData [(lbSize _lei)-1,str(_x)]; }; } foreach _qEc;};titleRsc ["RGB","PLAIN"];(((uiNamespace getVariable "aWaQ") displayCtrl 5501) ctrlSetText "Umgebung aktualisiert!");