private ['_slk','_KxNJ','_UGpD','_Rmg','_Nwg','_mYmj','_SZhq','_SlE'];if(!lzazCi) exitWith {hint "Du kannst nur alle 30 Sekunden ein Fahrzeug ausparken!";};disableSerialization;if(lbCurSel 2802 isEqualTo -1) exitWith {hint localize "STR_Global_NoSelection"};_slk = (call compile format["%1",(lbData[2802,(lbCurSel 2802)])]) select 0;_KxNJ = lbValue[2802,(lbCurSel 2802)];_UGpD = getPlayerUID player;if(isNil "_slk") exitWith {hint localize "STR_Garage_Selection_Error"};_SZhq = 0;_Rmg = getNumber(missionConfigFile >> "zero_CfgVehicles" >> _slk >> "garage_fee");if(playerSide isEqualTo independent || playerSide isEqualTo west || ovPJPYJoJ == "Gangeroberung") then {_Rmg = 0;};if(ovPJPYJoJ == "Ganghaus" && !(_slk in ["C_Hatchback_01_F","C_Offroad_01_F","C_SUV_01_F","C_Hatchback_01_sport_F","B_G_Offroad_01_F","B_Quadbike_01_F"])) exitWith {hint "Dieses Fahrzeug kannst du hier nicht ausparken!"};_mYmj = false;_SlE = false;if(cbChecked ((findDisplay 2800) displayCtrl 2804) && playerSide in [civilian,east]) then { _SlE = true; _configs = getArray(missionConfigFile >> "zero_VehicleShops" >> "kart_shop" >> "vehicles") + getArray(missionConfigFile >> "zero_VehicleShops" >> "civ_car" >> "vehicles") + getArray(missionConfigFile >> "zero_VehicleShops" >> "civ_truck" >> "vehicles") + getArray(missionConfigFile >> "zero_VehicleShops" >> "civ_air" >> "vehicles") + getArray(missionConfigFile >> "zero_VehicleShops" >> "civ_ship" >> "vehicles") + getArray(missionConfigFile >> "zero_VehicleShops" >> "reb_car" >> "vehicles") + getArray(missionConfigFile >> "zero_VehicleShops" >> "gang_car" >> "vehicles"); { if(_slk == (_x select 0)) exitWith { _SZhq = round((_x select 1) * 1.5 * 0.7); }; }forEach _configs; _mYmj = [ format["Möchtest du %1€ für die Versicherung (%2€) + Ausparkkosten (%3€) bezahlen?",[_Rmg + _SZhq] call zero_fnc_nAnP, [_SZhq] call zero_fnc_nAnP, [_Rmg] call zero_fnc_nAnP], "Fahrzeug mit Versicherung ausparken","Ja","Nein" ] call BIS_fnc_guiMessage;}else{ _mYmj = true;};if(!_mYmj) exitWith {};_Rmg = _Rmg + _SZhq;if(([2, 0] call zero_fnc_JNHrfnI) < _Rmg) exitWith {hint format[(localize "STR_Garage_CashError"),[_Rmg] call zero_fnc_nAnP];};if(count (nearestObjects[player,["Car","Air","Ship"],10]) > 0) exitWith {hint localize "STR_Garage_SpawnPointError";};if(lzazCi) then { lzazCi = false; [] spawn { uiSleep 30; lzazCi = true; };};if(typeName AHJLz == "ARRAY") then { [_KxNJ,_UGpD,AHJLz select 0,player,_Rmg,AHJLz select 1,_SlE] remoteExec ["zero_fnc_spawnVehicle",2];} else { if(AHJLz in ["medic_spawn_1","medic_spawn_2","medic_spawn_3"]) then { [_KxNJ,_UGpD,AHJLz,player,_Rmg,0,_SlE] remoteExec ["zero_fnc_spawnVehicle",2]; } else { [_KxNJ,_UGpD,(getMarkerPos AHJLz),player,_Rmg,markerDir AHJLz,_SlE] remoteExec ["zero_fnc_spawnVehicle",2]; };};_Nwg = [];if (Aeclcw == "Car") then { { if (_x select 0 != _KxNJ) then { _Nwg pushBack _x; }; } forEach UpyUo; UpyUo = _Nwg; [UpyUo] spawn zero_fnc_hCByM;};if (Aeclcw == "Air") then { { if (_x select 0 != _KxNJ) then { _Nwg pushBack _x; }; } forEach hhm; hhm = _Nwg; [hhm] spawn zero_fnc_hCByM;};if (Aeclcw == "Ship") then { { if (_x select 0 != _KxNJ) then { _Nwg pushBack _x; }; } forEach slgsTyx; slgsTyx = _Nwg; [slgsTyx] spawn zero_fnc_hCByM;};hint localize "STR_Garage_SpawningVeh";closeDialog 0;[format ["UNIMPOUND: %1 (%3) hat %2 ausgeparkt. %4", player getVariable["aOsyc",name player], _slk, playerSide,if(_SlE) then {"(mit Versicherung)"}else{""}],"zo_log",false,false] call zero_fnc_fdEkiHoij;