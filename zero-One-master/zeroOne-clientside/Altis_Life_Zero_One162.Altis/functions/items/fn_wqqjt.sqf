private['_wyu','_rwCL','_oOeD','_sNOl','_Eft','_Rjj','_EwpT','_HGX','_NSI','_LVR','_QOrs','_XSYb','_Nao','_Xht'];_wyu = cursorObject;iqEbELlj = false;if(RuqfuBIBK) exitWith {};if(isNull _wyu) exitWith {}; _rwCL = ((boundingBox _wyu select 1) select 0) + 2;if(player distance _wyu > _rwCL) exitWith {}; _oOeD = if((_wyu isKindOf "LandVehicle") || (_wyu isKindOf "Ship") || (_wyu isKindOf "Air")) then {true} else {false};if(_oOeD && _wyu in YPCst) exitWith {hint localize "STR_ISTR_Lock_AlreadyHave"};if(!_oOeD && !isPlayer _wyu) exitWith {};if(!_oOeD && !(_wyu getVariable["GHdlZHW",false])) exitWith {};if(_wyu getVariable "side" == "med") exitWith {hint localize "STR_NOTF_Hands_Off"};if(!([false, "lockpick", 1] call zero_fnc_VJhZQOJ)) exitWith {hint localize "STR_NOTF_LockpickLack"};_sNOl = format[localize "STR_ISTR_Lock_Process",if(!_oOeD) then {"Handschellen"} else {getText(configFile >> "CfgVehicles" >> (typeOf _wyu) >> "displayName")}];RuqfuBIBK = true;_value = ["lockpick"] call zero_fnc_KTrFY;_XSYb = _value select 0;_Nao = _value select 1;disableSerialization;5 cutRsc ["QLM","PLAIN"];_ui = uiNamespace getVariable "QLM";_progress = _ui displayCtrl 38201;_EwpT = _ui displayCtrl 38202;_EwpT ctrlSetText format["%2 (1%1)...","%",_sNOl];_progress progressSetPosition 0.01;_Rjj = 0.01;for "_i" from 0 to 100 step 1 do { if(animationState player != "AinvPknlMstpsnonWnonDnon_medic_1" ) then { player action ["SwitchWeapon", player, player, 100]; player playMove "AinvPknlMstpsnonWnonDnon_medic_1"; player playActionNow "stop"; player playMove "AinvPknlMstpsnonWnonDnon_medic_1"; player playActionNow "stop"; player playMove "AinvPknlMstpsnonWnonDnon_medic_1"; }; uiSleep _XSYb; _Rjj = _Rjj + 0.01; if (playerSide isEqualTo independent || playerSide isEqualTo west) then { _Rjj = _Rjj + 0.02; }; _progress progressSetPosition _Rjj; _EwpT ctrlSetText format["%3 (%1%2)...",round(_Rjj * 100),"%",_sNOl]; if(_Rjj >= 1 || !alive player) exitWith {}; if(LpefeFfmA) exitWith {};  if(iqEbELlj || (vehicle player) != player) exitWith {iqEbELlj = true}; if(player getVariable["GHdlZHW",false]) exitWith {}; if(player distance _wyu > _rwCL) exitWith {_NSI = true;};};RuqfuBIBK = false;5 cutText ["","PLAIN"];player playActionNow "stop";if(!alive player || LpefeFfmA || (player getVariable["GHdlZHW",false])) exitWith {RuqfuBIBK = false;};if(!isNil "_NSI") exitWith {titleText[localize "STR_ISTR_Lock_TooFar","PLAIN"]; RuqfuBIBK = false;};if(iqEbELlj) exitWith {iqEbELlj = false; titleText[localize "STR_NOTF_ActionCancel","PLAIN"]; RuqfuBIBK = false;};RuqfuBIBK = false;["lockpick"] call zero_fnc_aCCCro;if(!_oOeD) then { _wyu setVariable["GHdlZHW",false,true]; _wyu setVariable["rZf",false,true]; _wyu setVariable["uEkcJLUYu",false,true]; [1] remoteExecCall ["zero_fnc_VeDiANxeM",_wyu]; detach _wyu; [0, format [localize "STR_NOTF_Unrestrain", _wyu getVariable ["aOsyc", name _wyu], player getVariable ["aOsyc", name player]]] remoteExecCall ["zero_fnc_cpbpJzzAd", west];} else { if(playerSide isEqualTo independent)exitWith{titleText[localize "STR_ISTR_Lock_Success","PLAIN"]; YPCst pushBack _wyu;}; _all = []; {if (_x distance player < 1500) then {_all pushback _x};}foreach (allPlayers - entities "HeadlessClient_F"); [_wyu] remoteExec ["zero_fnc_YaPCQd",_all]; _HGX = random(100); if(_HGX < _Nao) then { titleText[localize "STR_ISTR_Lock_Success","PLAIN"]; YPCst pushBack _wyu; [getPlayerUID player,profileName,"487"] remoteExecCall ["zero_fnc_wantedAdd",2]; } else { [getPlayerUID player,profileName,"2"] remoteExecCall ["zero_fnc_wantedAdd",2]; [0,format[localize "STR_ISTR_Lock_FailedNOTF",profileName]] remoteExecCall ["zero_fnc_cpbpJzzAd",west]; titleText[localize "STR_ISTR_Lock_Failed","PLAIN"]; };};