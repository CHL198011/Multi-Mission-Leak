closeDialog 0;private['_BFdj','_znSG','_UHe','_CryJ','_nPMZ'];_nPMZ = nearestObjects [player, ["Car", "Air"],8];if(count _nPMZ != 0) exitWith {hint localize "STR_NOTF_Mine_Near_Vehicle";};if(vehicle player != player) exitWith {hint localize "STR_ISTR_Pick_MineVeh";};_BFdj = switch (true) do { case (player distance (getMarkerPos "lead_1") < 30): {"copperore"}; case (player distance (getMarkerPos "lead_2") < 30): {"copperore"}; case (player distance (getMarkerPos "iron_1") < 40): {"ironore"}; case (player distance (getMarkerPos "iron_2") < 40): {"ironore"}; case (player distance (getMarkerPos "salt_1") < 120) : {"salt"}; case (player distance (getMarkerPos "sand_1") < 50) : {"sand"}; case (player distance (getMarkerPos "diamond_1") < 20): {"diamond"}; case (player distance (getMarkerPos "diamond_2") < 20): {"diamond"}; case (player distance (getMarkerPos "oil_1") < 40) : {"oilu"}; case (player distance (getMarkerPos "oil_2") < 40) : {"oilu"}; case (player distance (getMarkerPos "rock_1") < 50): {"rock"}; default {""};};if(_BFdj isEqualTo "") exitWith {};_value = [_BFdj] call zero_fnc_XVT;_UHe = [_BFdj,_value,KtV,dZldvdq] call zero_fnc_Prk;if(_UHe == 0) exitWith {hint localize "STR_NOTF_InvFull"};if(!ypRosS) exitWith {};ypRosS = false;fOb = true;for "_i" from 0 to 2 do { player playMove "AinvPercMstpSnonWnonDnon_Putdown_AmovPercMstpSnonWnonDnon"; uisleep 2.5;};if(IoA) exitWith {};if(([true,_BFdj,_UHe] call zero_fnc_VJhZQOJ)) then { titleText[format[localize "STR_ISTR_Pick_Success",getText(missionConfigFile >> "zero_CfgItems" >> _BFdj >> "name"),_UHe],"PLAIN"];};[_BFdj] call zero_fnc_SRC;fOb = false;ypRosS = true;