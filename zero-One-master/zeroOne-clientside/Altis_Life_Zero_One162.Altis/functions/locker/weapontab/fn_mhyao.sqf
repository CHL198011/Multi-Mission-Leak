private ['_qZe','_qAn','_ztu','_ZQgE','_oJU','_FmDy','_vuxU','_umpE','_gaO','_oPgt','_MvCe','_tOLI','_kPtP','_qFw','_anv','_LqWo','_PHN','_rjSn','_Qrx','_XZIE'];disableSerialization;_qZe = findDisplay 1000;_qAn = _qZe displayCtrl 1600;_ztu = _qZe displayCtrl 1606;_ZQgE = _qZe displayCtrl 1612;_oJU = _qZe displayCtrl 1618;_vuxU = _qZe displayCtrl 1619;_umpE = getUnitLoadout player;_gaO = _umpE select 0;_oPgt = _umpE select 1;_MvCe = _umpE select 2;_tOLI = _umpE select 3;_kPtP = _umpE select 4;_qFw = _umpE select 5;_anv = [];_LqWo = if (!(_tOLI isEqualTo []) && {!((_tOLI select 1)isEqualTo [])}) then {(_tOLI select 1)} else { []};_PHN = if (!(_kPtP isEqualTo []) && {!((_kPtP select 1)isEqualTo [])}) then {(_kPtP select 1)} else { []};_rjSn = if (!(_qFw isEqualTo []) && {!((_qFw select 1)isEqualTo [])}) then {(_qFw select 1)} else { []};{ _FmDy = if(typeName (_x select 0) == "ARRAY") then {toLower((_x select 0) select 0)}else{toLower(_x select 0)}; if (isClass(configFile >> "CfgMagazines" >> _FmDy)) then { _Qrx = if (count _x > 2) then {_x select 2} else {1}; _XZIE = [toLower(_FmDy), _anv] call zero_fnc_oKzQhZKu; if (_XZIE isEqualTo -1) then { _anv pushBack [toLower(_FmDy), _Qrx]; } else { _anv set [_XZIE, [toLower(_FmDy), ((_anv select _XZIE) select 1) + _Qrx]]; }; };} forEach _LqWo + _PHN + _rjSn;lbClear _qAn;lbClear _ztu;lbClear _ZQgE;lbClear _oJU;lbClear _vuxU;{ _FmDy = _x select 0; if(isClass(configFile >> "CfgMagazines" >> _FmDy)) then { _vuxU lbAdd format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgMagazines" >> _FmDy >> "displayName")]; _vuxU lbSetTooltip [lbSize(_vuxU) - 1, format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgMagazines" >> _FmDy >> "displayName")]]; _vuxU lbSetPicture [lbSize(_vuxU) - 1, getText (configFile >> "CfgMagazines" >> _FmDy >> "picture")]; _vuxU lbSetValue [lbSize(_vuxU) - 1, (_x select 1)]; _vuxU lbSetData [lbSize(_vuxU) - 1, _FmDy]; };} forEach _anv;_qZe setVariable["yCDCO",_anv];{ { _FmDy = toLower(_x select 0); if (_FmDy != "") then { if (isClass (configFile >> "CfgWeapons" >> _FmDy)) then { if(getNumber(configFile >> "CfgWeapons" >> _FmDy >> "type") == 1) then { _qAn lbAdd format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _FmDy >> "displayName")]; _qAn lbSetTooltip [lbSize(_qAn) - 1, format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _FmDy >> "displayName")]]; _qAn lbSetPicture [lbSize(_qAn) - 1, getText (configFile >> "CfgWeapons" >> _FmDy >> "picture")]; _qAn lbSetValue [lbSize(_qAn) - 1, (_x select 1)]; _qAn lbSetData [lbSize(_qAn) - 1, _FmDy]; }else{ if(getNumber(configFile >> "CfgWeapons" >> _FmDy >> "type") == 2) then { _ZQgE lbAdd format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _FmDy >> "displayName")]; _ZQgE lbSetTooltip [lbSize(_ZQgE) - 1, format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _FmDy >> "displayName")]]; _ZQgE lbSetPicture [lbSize(_ZQgE) - 1, getText (configFile >> "CfgWeapons" >> _FmDy >> "picture")]; _ZQgE lbSetValue [lbSize(_ZQgE) - 1, (_x select 1)]; _ZQgE lbSetData [lbSize(_ZQgE) - 1, _FmDy]; }else{ if(getNumber(configFile >> "CfgWeapons" >> _FmDy >> "type") == 4) then { }else{ if((getNumber(configfile >> "CfgWeapons" >> _FmDy >> "ItemInfo" >> "type")) in [101,201,301]) then { _qAn lbAdd format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _FmDy >> "displayName")]; _qAn lbSetTooltip [lbSize(_qAn) - 1, format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _FmDy >> "displayName")]]; _qAn lbSetPicture [lbSize(_qAn) - 1, getText (configFile >> "CfgWeapons" >> _FmDy >> "picture")]; _qAn lbSetValue [lbSize(_qAn) - 1, (_x select 1)]; _qAn lbSetData [lbSize(_qAn) - 1, _FmDy]; _ZQgE lbAdd format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _FmDy >> "displayName")]; _ZQgE lbSetTooltip [lbSize(_ZQgE) - 1, format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _FmDy >> "displayName")]]; _ZQgE lbSetPicture [lbSize(_ZQgE) - 1, getText (configFile >> "CfgWeapons" >> _FmDy >> "picture")]; _ZQgE lbSetValue [lbSize(_ZQgE) - 1, (_x select 1)]; _ZQgE lbSetData [lbSize(_ZQgE) - 1, _FmDy]; }; if((getNumber(configfile >> "CfgWeapons" >> _FmDy >> "ItemInfo" >> "type")) == 302) then { _qAn lbAdd format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _FmDy >> "displayName")]; _qAn lbSetTooltip [lbSize(_qAn) - 1, format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgWeapons" >> _FmDy >> "displayName")]]; _qAn lbSetPicture [lbSize(_qAn) - 1, getText (configFile >> "CfgWeapons" >> _FmDy >> "picture")]; _qAn lbSetValue [lbSize(_qAn) - 1, (_x select 1)]; _qAn lbSetData [lbSize(_qAn) - 1, _FmDy]; }; }; }; }; }else{ if(isClass(configFile >> "CfgMagazines" >> _FmDy)) then { _oJU lbAdd format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgMagazines" >> _FmDy >> "displayName")]; _oJU lbSetTooltip [lbSize(_oJU) - 1, format ["%2 (%1)", (_x select 1), getText (configFile >> "CfgMagazines" >> _FmDy >> "displayName")]]; _oJU lbSetPicture [lbSize(_oJU) - 1, getText (configFile >> "CfgMagazines" >> _FmDy >> "picture")]; _oJU lbSetValue [lbSize(_oJU) - 1, (_x select 1)]; _oJU lbSetData [lbSize(_oJU) - 1, _FmDy]; }; }; }; } forEach _x;} forEach CtjFPq;if((lbSize(_qAn) - 1) isEqualTo -1) then {_qAn lbAdd "Keine Primärwaffen verfügbar";};if((lbSize(_ztu) - 1) isEqualTo -1) then {_ztu lbAdd "Keine Sekundärwaffen verfügbar";};if((lbSize(_ZQgE) - 1) isEqualTo -1) then {_ZQgE lbAdd "Keine Pistolen verfügbar";};if((lbSize(_oJU) - 1) isEqualTo -1) then {_oJU lbAdd "Keine Magazine verfügbar";};if((lbSize(_vuxU) - 1) isEqualTo -1) then {_vuxU lbAdd "Keine Magazine verfügbar";};_qAn lbSetCurSel -1;_ztu lbSetCurSel -1;_ZQgE lbSetCurSel -1;_oJU lbSetCurSel -1;_vuxU lbSetCurSel -1;lbSort _qAn;lbSort _ztu;lbSort _ZQgE;lbSort _oJU;lbSort _vuxU;