private['_yFn','_Mos','_OQBw','_ThGK','_ldd','_XyX','_xVA','_IpUF','_JtJD','_Yys','_VNH','_xoae','_uuew','_wmS','_sDI'];_yFn = param[0,ObjNull,[ObjNull]];_Mos = param[3,"",[""]];if(isNull _yFn || _Mos isEqualTo "" || (player distance _yFn > 10)) exitWith {};if(vehicle player != player) exitWith {hintSilent localize "STR_NOTF_VehicleGetOut"};if(player getVariable["GHdlZHW",false]) exitWith {localize "STR_General_Zipties_Error"};_OQBw = switch (_Mos) do { case "oil": {["oilu","oilp",1200,(localize "STR_Process_Oil")];}; case "diamond": {["diamond","diamondc",1350,(localize "STR_Process_Diamond")];}; case "heroin": {["heroinu","heroinp",1750,(localize "STR_Process_Heroin")];}; case "copper": {["copperore","copper_r",750,(localize "STR_Process_Copper")];}; case "iron": {["ironore","iron_r",1120,(localize "STR_Process_Iron")];}; case "sand": {["sand","glass",650,(localize "STR_Process_Sand")];}; case "salt": {["salt","salt_r",450,(localize "STR_Process_Salt")];}; case "cocaine": {["cocaine","cocainep",1500,(localize "STR_Process_Cocaine")];}; case "marijuana": {["cannabis","marijuana",500,(localize "STR_Process_Marijuana")];}; case "clothing": {["baumwolle","clothing",450,(localize "STR_Process_Cloth")];}; case "cement": {["rock","cement",350,(localize "STR_Process_Cement")];}; case "grapes": {["grapes","wine",250,(localize "STR_Process_Wine")]}; case "moonshine": {["grapes","moonshine",450,(localize "STR_Process_Moonshine")]}; case "gas": {["gas","petroleum",250,(localize "STR_Process_Gas")]}; default {[];};};if(_OQBw isEqualTo []) exitWith {};_ThGK = _OQBw select 0;_ldd = _OQBw select 1;_XyX = _OQBw select 2;_xVA = _OQBw select 3;_index = [_ThGK,VfT] call zero_fnc_oKzQhZKu;if(_index isEqualTo -1) exitWith {hint format["Du hast kein %1 dabei!",getText(missionConfigFile >> "zero_CfgItems" >> _ThGK >> "name")]};_IpUF = missionNamespace getVariable (([_Mos,0] call zero_fnc_kybNG) select 0);_JtJD = getText(missionConfigFile >> "zero_CfgItems" >> _ldd >> "name");_Yys = (VfT select _index) select 1;_XyX = _XyX * _Yys;if(_Yys isEqualTo 0) exitWith {};_sDI = [_ldd] call zero_fnc_JDuU;disableSerialization;5 cutRsc ["QLM","PLAIN"];_VNH = uiNameSpace getVariable "QLM";_xoae = _VNH displayCtrl 38201;_uuew = _VNH displayCtrl 38202;_uuew ctrlSetText format["%2 (1%1)...","%",_xVA];_xoae progressSetPosition 0.01;_wmS = 0.01;kQQQJc = true;if(_IpUF) then { for "_i" from 0 to 100 step 1 do { uiSleep _sDI; _wmS = _wmS + 0.01; _xoae progressSetPosition _wmS; _uuew ctrlSetText format["%3 (%1%2)...",round(_wmS * 100),"%",_xVA]; if(_wmS >= 1) exitWith {}; if(player distance _yFn > 10 || LpefeFfmA || !alive player) exitWith {}; }; 5 cutText ["","PLAIN"]; if(player distance _yFn > 10) exitWith {hint localize "STR_Process_Stay"; kQQQJc = false;}; if(!([false,_ThGK,_Yys] call zero_fnc_VJhZQOJ)) exitWith {kQQQJc = false;}; if(!([true,_ldd,_Yys] call zero_fnc_VJhZQOJ)) exitWith {[true,_ThGK,_Yys] call zero_fnc_VJhZQOJ; kQQQJc = false;}; titleText[format[localize "STR_Process_Processed",_Yys,_JtJD],"PLAIN"]; kQQQJc = false; [_ldd, _Yys] call zero_fnc_OPoegRTfg;}else{ if(([3, 0] call zero_fnc_JNHrfnI) < _XyX) exitWith {hint format[localize "STR_Process_License",[_XyX] call zero_fnc_nAnP]; 5 cutText ["","PLAIN"]; kQQQJc = false;}; for "_i" from 0 to 100 step 1 do { uiSleep _sDI; _wmS = _wmS + 0.01; _xoae progressSetPosition _wmS; _uuew ctrlSetText format["%3 (%1%2)...",round(_wmS * 100),"%",_xVA]; if(_wmS >= 1) exitWith {}; if(player distance _yFn > 10 || LpefeFfmA || !alive player) exitWith {}; }; 5 cutText ["","PLAIN"]; if(player distance _yFn > 10) exitWith {hint localize "STR_Process_Stay"; kQQQJc = false;}; if(([3, 0] call zero_fnc_JNHrfnI) < _XyX) exitWith {hint format[localize "STR_Process_License",[_XyX] call zero_fnc_nAnP]; kQQQJc = false;}; if(!([false,_ThGK,_Yys] call zero_fnc_VJhZQOJ)) exitWith {kQQQJc = false;}; if(!([true,_ldd,_Yys] call zero_fnc_VJhZQOJ)) exitWith {[true,_ThGK,_Yys] call zero_fnc_VJhZQOJ; kQQQJc = false;}; titleText[format[localize "STR_Process_Processed2",_Yys,_JtJD,[_XyX] call zero_fnc_nAnP],"PLAIN"]; [1, ([3, 0] call zero_fnc_JNHrfnI) - _XyX] call zero_fnc_JNHrfnI; kQQQJc = false; [_ldd, _Yys] call zero_fnc_OPoegRTfg;};