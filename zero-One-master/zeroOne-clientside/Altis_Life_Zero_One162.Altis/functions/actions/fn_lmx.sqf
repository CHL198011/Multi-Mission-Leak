private['_slk','_Mos','_kNi','_CGP','_Bdo','_XGFh','_atMF','_zhx','_lJT','_xwf','_jIj','_JkIJ'];_slk = cursorObject;if(!((_slk isKindOf "Car") || (_slk isKindOf "Air") || (_slk isKindOf "Ship"))) exitWith {};if(player distance cursorObject > 10) exitWith {};_Bdo = _slk getVariable["ZAJJeFnKJ",[]];if(_Bdo isEqualTo []) exitWith {deleteVehicle _slk};_jIj = getText(configFile >> "CfgVehicles" >> (typeOf _slk) >> "displayName");[0,format[localize "STR_NOTF_BeingImpounded",(_Bdo select 0) select 1,_jIj]] remoteExecCall ["zero_fnc_cpbpJzzAd", (allPlayers - entities "HeadlessClient_F")];RuqfuBIBK = true;_JkIJ = ["impound"] call zero_fnc_KTrFY;_XGFh = localize "STR_NOTF_Impounding";disableSerialization;5 cutRsc ["QLM","PLAIN"];_atMF = uiNameSpace getVariable "QLM";_zhx = _atMF displayCtrl 38201;_lJT = _atMF displayCtrl 38202;_lJT ctrlSetText format["%2 (1%1)...","%",_XGFh];_zhx progressSetPosition 0.01;_xwf = 0.01;for "_i" from 0 to 100 step 1 do { uisleep _JkIJ; _xwf = _xwf + 0.01; _zhx progressSetPosition _xwf; _lJT ctrlSetText format["%3 (%1%2)...",round(_xwf * 100),"%",_XGFh]; if(_xwf >= 1) exitWith {}; if((player distance _slk > 10) || !alive player || (vehicle player) != player) exitWith {};};5 cutText ["","PLAIN"];RuqfuBIBK = false;if((player distance _slk > 10) || !alive player || (vehicle player) != player) exitWith {hint localize "STR_NOTF_ImpoundingCancelled"; RuqfuBIBK = false;};_Mos = getText(configFile >> "CfgVehicles" >> (typeOf _slk) >> "displayName");switch (true) do { case (_slk isKindOf "Car"): {_CGP = 15500;}; case (_slk isKindOf "Ship"): {_CGP = 22000;}; case (_slk isKindOf "Air"): {_CGP = 35500;}; default {_CGP = 5000;};};if(playerSide isEqualTo independent) then { _CGP = 10000;};gQbjibQ = true;if (playerSide isequalto west) then { [_slk,true,player,true] remoteExec ["zero_fnc_vehicleStore",2];} else { [_slk,true,player] remoteExec ["zero_fnc_vehicleStore",2];};waitUntil {!gQbjibQ};hint format[localize "STR_NOTF_Impounded",_Mos,_CGP];[0,format[localize "STR_NOTF_HasImpounded",player getVariable["aOsyc",name player],(_Bdo select 0) select 1,_jIj]] remoteExecCall ["zero_fnc_cpbpJzzAd", (allPlayers - entities "HeadlessClient_F")];[0, ([2, 0] call zero_fnc_JNHrfnI) + _CGP] call zero_fnc_JNHrfnI;["impound"] call zero_fnc_aCCCro;