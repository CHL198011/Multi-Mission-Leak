private['_GlE','_Pgg','_sYvo','_qZe','_FSGg','_GutW','_kNi'];disableserialization;_GlE = (group player);_Pgg = _GlE getVariable ["HNCqyH",[]];if(_Pgg isEqualTo []) exitWith {hint "Du bist in keiner Gang"};if(count _Pgg < 7) exitWith {hint "Es ist ein Fehler aufgetreten"};_sYvo = _Pgg select 5;_qZe = findDisplay 2700;if (isNull _qZe) exitwith {};_FSGg = _qZe displayCtrl 2702;_FSGg = ctrlText _FSGg;_GutW = parseNumber(_FSGg);if(_GutW > 999999) exitWith {hint localize "STR_ATM_GreaterThan";};if(_GutW <= 0) exitWith {hint "Du musst mehr als 0€ überweisen"};if(!([_FSGg] call zero_fnc_vRfhg)) exitWith {hint localize "STR_AIM_notnumeric"};if(_GutW > ([2, 0] call zero_fnc_JNHrfnI)) exitWith {hint localize "STR_ATM_NotEnoughCash"};[0, ([2, 0] call zero_fnc_JNHrfnI) - (_GutW)] call zero_fnc_JNHrfnI;[1] call zero_fnc_zAYQJ;[format ["GANG DEPOSIT: %1 (%3) hat %2 in das Gangkonto der Gang %4 eingezahlt. Gangkonto vorher %5, nachher %6", player getVariable["aOsyc", name player], [_GutW] call zero_fnc_nAnP, playerSide,_Pgg select 1,[_sYvo] call zero_fnc_nAnP,[_sYvo + _GutW] call zero_fnc_nAnP],"zo_log",false,false] call zero_fnc_fdEkiHoij;_Pgg set[5,_sYvo + _GutW];_GlE setVariable["HNCqyH",_Pgg,true];if(isNil "rAKL") then { rAKL = true; [] spawn { _kNi = serverTime + 10; waitUntil {isNull (findDisplay 2700) || (servertime >= _kNi)}; _Pgg = (group player) getVariable ["HNCqyH",[]]; hc_updateGang = [clientOwner,1,[_Pgg select 0,_Pgg select 5]]; HC1_owner publicVariableClient "hc_updateGang"; hc_updateGang = nil; rAKL = nil; };};hint format[localize "STR_ATM_DepositGang",_FSGg];[] call zero_fnc_MAhMhl;