private['_GlE','_stg','_kNi'];if(serverTime < 1200) exitWith {hint "Du kannst eine Ankündigung erst 20min nach Restart senden!"};if((group player) getVariable["HNCqyH",[]] isEqualTo []) exitWith {hint "Du bist in keiner Gang!"};if(count (((group player) getVariable["HNCqyH",[nil,nil,nil,0]]) select 3) < 10) exitWith {hint "Deine Gang braucht mindestens 10 Mitglieder!"};if((group player) getVariable["gangAnnounce",false]) exitWith {hint "Deine Gang hat bereits eine Ankündigung gesendet!"};if(zero_gang_flag getVariable["gangFight",-1] > 0) exitWith {hint "Du kannst keine Anküdigung senden, da der Kampf bereits begonnen hat.";};if(zero_gang_flag getVariable["gangFightEnded",false]) exitWith {hint "Der Kampf um die Gangeroberung ist für diesen Tag beendet!"};if(!isNull (zero_gang_flag getVariable ["gangControlGroup",grpNull]) && {(group player) == (zero_gang_flag getVariable ["gangControlGroup",grpNull])}) exitWith {hint "Du besitzt bereits die Gangeroberung!";};_GlE = zero_gang_flag getVariable["gangControlGroup",grpNull];_kNi = 10;_stg = zero_gang_flag getVariable "gangAnnounce"; if(isNil "_stg") then { zero_gang_flag setVariable["gangAnnounce",[serverTime,[(group player)]],true]; if(!isNull _GlE) then {[_kNi,true] remoteExec ["zero_fnc_ndls",units _GlE];}; [_kNi,true] remoteExec ["zero_fnc_ndls",units(group player)];}else{ { if(!isNull _x && count(units _x) > 0) then { [7,format["%1 kündigt einen Angriff auf die Gangeroberung an!",(group player) getVariable["HNCqyH",[]] select 1],(group player) getVariable["HNCqyH",[]] select 1,[],floor (serverTime),getPlayerUID player,player] remoteExecCall ["zero_fnc_ziCTNRcyf",units(_x)]; }; } forEach (_stg select 1); (_stg select 1) pushBackUnique (group player); zero_gang_flag setVariable["gangAnnounce",_stg,true]; [((_kNi*60)-(serverTime - (_stg select 0)))/60,true] remoteExec ["zero_fnc_ndls",units(group player)];};if(!isNull _GlE) then { [7,format["%1 kündigt einen Angriff auf die Gangeroberung an!",(group player) getVariable["HNCqyH",[]] select 1],(group player) getVariable["HNCqyH",[]] select 1,[],floor (serverTime),getPlayerUID player,player] remoteExecCall ["zero_fnc_ziCTNRcyf",units _GlE]; _stg = zero_gang_flag getVariable "gangAnnounce"; (_stg select 1) pushBackUnique (_GlE); zero_gang_flag setVariable["gangAnnounce",_stg,true]; _GlE setVariable["gangAnnounce",true,true];};(group player) setVariable["gangAnnounce",true,true];[] call zero_fnc_rrEYhtDV;hint parseText "Du hast der Gangeroberung eine Ankündigung gesendet!<br/>Warte mit dem Angriff bis der Timer abgelaufen ist!";closeDialog 0;