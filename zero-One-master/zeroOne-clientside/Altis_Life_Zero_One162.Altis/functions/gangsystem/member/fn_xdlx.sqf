private['_bPe','_GlE','_Pgg','_qZe','_tAe','_ddP','_arDx','_mYmj','_iATT'];disableSerialization;_qZe = findDisplay 3400;if (isNull _qZe) exitwith {};_tAe = _qZe displayCtrl 3405;if(lbCurSel _tAe isEqualTo -1) exitWith {hint "Du hast niemand ausgewählt!";};_GlE = (group player);_Pgg = _GlE getVariable ["HNCqyH",[]];if(_Pgg isEqualTo []) exitWith {hint "Du bist in keiner Gang"};if(count _Pgg < 7) exitWith {hint "Es ist ein Fehler aufgetreten"};_bPe = _tAe lbData (lbCurSel _tAe);if(_bPe isEqualTo "") exitWith {hint "Es ist ein Fehler aufgetreten"};_bPe = call compile _bPe;if(isNull _bPe) exitwith {hint "Niemanden ausgewählt"};if((getPlayerUID _bPe) == (_Pgg select 2)) exitWith {hint "Deine Auswahl ist bereits Anführer der Gang!"};_ddP = _Pgg select 3;_arDx = [getPlayerUID _bPe,_ddP] call zero_fnc_oKzQhZKu;if(_arDx isEqualTo -1) exitWith {hint "Der ausgewählte Spieler ist noch nicht in deiner Gang! Du musst diesen erst einladen."};_mYmj = [ format["Möchtest du wirklich das %1 der neue Anführer der Gang wird?",_bPe getVariable["aOsyc",name _bPe]], "Neuen Anführer auswählen", localize "STR_Global_Yes", localize "STR_Global_No"] call BIS_fnc_guiMessage;if(!_mYmj) exitWith {};_Pgg set[2, getPlayerUID _bPe];_bPe setRank "COLONEL";_GlE selectLeader _bPe;_ddP set[_arDx,[getPlayerUID _bPe,6]];_Pgg set[3,_ddP];_GlE setVariable["HNCqyH",_Pgg,true];if(typeName (_Pgg select(count _Pgg -1)) != "BOOL") then { hc_updateGang = [clientOwner,3,[_Pgg select 0,getPlayerUID _bPe]]; HC1_owner publicVariableClient "hc_updateGang"; hc_updateGang = nil;};