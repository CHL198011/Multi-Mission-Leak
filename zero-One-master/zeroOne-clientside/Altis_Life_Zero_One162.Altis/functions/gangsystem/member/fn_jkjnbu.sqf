private['_GlE','_Pgg','_ddP','_COO','_nXvm','_UyDG','_RFb','_ReZI','_PdK','_iATT','_GGwj','_HrSr','_qCI','_tBrQ'];_GlE = (group player);_Pgg = _GlE getVariable ["HNCqyH",[]];if(_Pgg isEqualTo []) exitWith {hint "Du bist in keiner Gang"};if(count _Pgg < 7) exitWith {hint "Es ist ein Fehler aufgetreten"};if(((group player) getVariable["mmN",objNull]) != player) exitWith {hint "Jemand anderes greift auf die Mitgliederverwaltung zu!"};if((FpNjKYPVx isEqualTo []) && (cxZ isEqualTo []) && (yWrwsOCTN isEqualTo []) && (isNil "qXcHHYfqx")) exitWith {};_iATT = _Pgg select 0;_ddP = _Pgg select 3;_COO = _Pgg select 4;_HrSr = _Pgg select 5;_tBrQ = (count FpNjKYPVx) - (count cxZ);if((count _ddP) + _tBrQ > _COO) exitWith {hint "Du überschreitest deine Mitgliederkapazität! Du musst deine Gang zuerst upgraden."};_qCI = if(typeName (_Pgg select(count _Pgg -1)) == "BOOL") then {((count FpNjKYPVx) * 2500)} else {((count FpNjKYPVx) * 15000)};if(!(FpNjKYPVx isEqualTo [])) then { _action = [ format["Möchtest du %1 für das Einladen von %3 Mitgliedern bezahlen?",[_qCI] call zero_fnc_nAnP,[count FpNjKYPVx] call zero_fnc_nAnP], "Gang Member einladen", localize "STR_Global_Yes", localize "STR_Global_No" ] call BIS_fnc_guiMessage; if(!_action) exitWith {_GGwj = true}; if(_HrSr < _qCI) exitWith { _GGwj = true; hint format ["Deine Gang hat nicht genug Geld auf dem Konto. Es fehlen %1€", [_qCI - _HrSr] call zero_fnc_nAnP]; };};if(!isNil "_GGwj") exitWith {};{ _nXvm = _x select 0; _PdK = _x select 1; _RFb = [_PdK select 0,_ddP] call zero_fnc_oKzQhZKu; if(_RFb isEqualTo -1) then { _ddP pushBack _PdK; }; _nXvm = call compile _nXvm; [_GlE,player] remoteExec ["zero_fnc_nFLD",_nXvm];} forEach FpNjKYPVx;{ _nXvm = _x select 0; _UyDG = (_x select 1) select 0; _RFb = [_UyDG, _ddP] call zero_fnc_oKzQhZKu; if(_RFb != -1) then { _ddP deleteAt _RFb; }; _nXvm = call compile _nXvm; [_nXvm] joinSilent grpNull; remoteExecCall ["zero_fnc_SbBH",_nXvm];} forEach cxZ;{ _nXvm = _x select 0; _ReZI = _x select 1; _nXvm = call compile _nXvm; _RFb = [getPlayerUID _nXvm, _ddP] call zero_fnc_oKzQhZKu; if(_RFb != -1) then { _PdK = _ddP select _RFb; _PdK set[1, _ReZI]; _ddP set[_RFb, _PdK]; switch (_ReZI) do { case 1: {_nXvm setRank "CORPORAL";}; case 2: {_nXvm setRank "SERGEANT";}; case 3: {_nXvm setRank "LIEUTENANT";}; case 4: {_nXvm setRank "CAPTAIN";}; case 5: {_nXvm setRank "MAJOR";}; case 6: {_nXvm setRank "COLONEL";}; default {_nXvm setRank "PRIVATE";}; }; };} forEach yWrwsOCTN;cxZ = [];FpNjKYPVx = [];yWrwsOCTN = [];qXcHHYfqx = nil;_Pgg set[3,_ddP];_Pgg set[5,(_HrSr - _qCI)];_GlE setVariable["HNCqyH",_Pgg,true];closeDialog 0;if(typeName (_Pgg select(count _Pgg -1)) == "BOOL") exitWith {};waitUntil {isNull (findDisplay 3400)};hc_updateGang = [clientOwner,0,[((group player) getVariable "HNCqyH") select 0,((group player) getVariable "HNCqyH") select 3]];HC1_owner publicVariableClient "hc_updateGang";hc_updateGang = nil;hc_updateGang = [clientOwner,1,[((group player) getVariable "HNCqyH") select 0,((group player) getVariable "HNCqyH") select 5]];HC1_owner publicVariableClient "hc_updateGang";hc_updateGang = nil;rAKL = nil;[] spawn zero_fnc_tdzoG;