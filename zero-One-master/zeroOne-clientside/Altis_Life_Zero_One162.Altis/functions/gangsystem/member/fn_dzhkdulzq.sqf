private['_qZe','_Tzkk','_Pgg','_GlE','_fWkn','_Rmpc','_mYmj','_iATT','_Has','_ybX'];_GlE = (group player);_Pgg = _GlE getVariable ["HNCqyH",[]];if(_Pgg isEqualTo []) exitWith {hint "Du bist in keiner Gang"};if(count _Pgg < 7) exitWith {hint "Es ist ein Fehler aufgetreten"};disableSerialization;_qZe = findDisplay 3400;if (isNull _qZe) exitwith {};_Tzkk = _qZe displayCtrl 3403;_Rmpc = _qZe displayCtrl 3405;_fWkn = _Pgg select 4;_Has = _Pgg select 5;_ybX = if(_fWkn <= 13) then {(_fWkn * 10000)} else {((2 * _fWkn) * 10000)};_mYmj = [ format["Möchtest du %1 für das Upgrade der Gang von %2 auf %3 maximale Anzahl Member bezahlen?",[_ybX] call zero_fnc_nAnP,[_fWkn] call zero_fnc_nAnP,[(_fWkn+4)] call zero_fnc_nAnP], "Gang Upgrade", localize "STR_Global_Yes", localize "STR_Global_No"] call BIS_fnc_guiMessage;if(!_mYmj) exitWith {};if(_Has < _ybX) exitWith { hint format ["Deine Gang hat nicht genug Geld auf dem Konto. Es fehlen %1€", [_ybX - _Has] call zero_fnc_nAnP];};_Has = _Has - _ybX;_Pgg set[4,(_fWkn+4)];_Pgg set[5,_Has];(group player) setVariable ["HNCqyH",_Pgg,true];_Tzkk ctrlSetStructuredText parseText format["<t align='center' size='1.25'>Gangmitglieder %1/%2</t>",lbSize _Rmpc, _Pgg select 4];if(typeName (_Pgg select(count _Pgg -1)) != "BOOL") then { hc_updateGang = [clientOwner,4,[_Pgg select 0,_Pgg select 4,_Pgg select 5]]; HC1_owner publicVariableClient "hc_updateGang"; hc_updateGang = nil;};hint "Gang Upgrade erfolgreich!";[] spawn zero_fnc_tdzoG;