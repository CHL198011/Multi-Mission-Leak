private['_qZe','_MoB','_kvz','_lXGO','_XYer','_pBz','_qUNP','_FjvP'];disableSerialization;_qZe = findDisplay 3400;if (isNull _qZe) exitWith {};_MoB = _qZe displayCtrl 3404;_kvz = _qZe displayCtrl 3405;_lXGO = lbData[3404,lbCurSel(3404)];_XYer = switch ((player getVariable ["rank",0])) do { case 2: {"[Wachtmeister]"}; case 3: {"[Oberwachtmeister]"}; case 4: {"[Kommissar]"}; case 5: {"[Oberkommissar]"}; case 6: {"[Hauptkommissar]"}; case 7: {"[Polizeivorstand]"}; default {"[Rekrut]"}; };_kvz lbAdd format ["%2 %1", player getVariable["aOsyc",name player],_XYer];_kvz lbSetData[(lbSize _kvz)-1,str(player)];player setVariable["ZbrguZt",_lXGO,true];if(_lXGO == "HQ") then {player setRank "COLONEL";};lbClear _MoB;lbClear _kvz;_pBz = [];{ if(isPlayer _x && !(_x getVariable["ZbrguZt",""] isEqualTo "")) then { _FjvP = [_x getVariable "ZbrguZt",_pBz] call zero_fnc_oKzQhZKu; if(_FjvP != -1) then { _pBz set[_FjvP,[(_pBz select _FjvP) select 0,((_pBz select _FjvP) select 1) +1]]; }else{ _pBz pushBack [_x getVariable "ZbrguZt",1]; }; };} forEach units(group player);_qUNP = "";{ _qUNP = format ["%1 (%2)", _x select 0, _x select 1]; _FjvP = [_x select 1,_pBz] call zero_fnc_oKzQhZKu; if(_FjvP != -1) then { _qUNP = parseText format ["%1 - %2", _qUNP, (_pBz select _FjvP) select 1]; }else{ _qUNP = format ["%1 - 0", _qUNP]; }; _MoB lbAdd format["%1",_qUNP]; _MoB lbSetData [(lbSize _MoB)-1,(_x select 1)];} forEach [["Leitstelle","HQ"],["Marktplatz","MKT"],["Kavala 0","KAV0"],["Kavala 1","KAV1"],["Kavala 2","KAV2"],["Syrta","SYR"],["Athira","ATH"],["Highway Patrol","HWP"],["Pyrgos","PYR"],["Checkpoint 1","CP1"],["Checkpoint 2","CP2"],["Wasserwacht","WW"],["Gef√§ngnis","GEF"],["Air-HQ","AHQ"],["Ikarus","IKA"],["ATFA 1","AT1"],["ATFA 2 Zivil","AT2"]];