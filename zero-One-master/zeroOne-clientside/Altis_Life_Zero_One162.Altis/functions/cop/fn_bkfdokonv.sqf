private['_xrp','_GCX','_pWs','_tRmy','_pKlU'];_xrp = param[0,Objnull,[Objnull]];if(isNull _xrp) exitWith {};if(side _xrp in [east, civilian] && GNXNu) exitWith {hintSilent localize "STR_Jail_Zipties_Error";};player setVariable["GHdlZHW",true,true];_tRmy = (group player) getVariable["HNCqyH",[]];[] spawn { while {true} do { waitUntil {uisleep 5*60; !({_x != player && alive _x && (getPos player) distance _x < 450} count playableUnits > 0)}; if(!(player getVariable["GHdlZHW",false])) exitWith {}; if(vehicle player == player) exitWith { player setVariable["GHdlZHW",false,true]; player setVariable["rZf",false,true]; player setVariable["uEkcJLUYu",false,true]; detach player; titleText[localize "STR_Cop_ExcessiveRestrain","PLAIN"]; [1] call zero_fnc_VeDiANxeM; }; };};if((player getVariable["surrender",false])) then { player setVariable["surrender",false,true]; player switchMove "";};titleText[format[localize "STR_Cop_Retrained",_xrp getVariable["aOsyc",name _xrp]],"PLAIN"];player unassignItem "ItemGPS";_GCX = (group player);[player] joinSilent grpNull;mnhX = true;while {player getVariable "GHdlZHW"} do { if(vehicle player == player) then { player playMove "AmovPercMstpSnonWnonDnon_Ease"; }; _pWs = vehicle player; waitUntil {animationState player != "AmovPercMstpSnonWnonDnon_Ease" || !(player getVariable "GHdlZHW") || vehicle player != _pWs}; if(!alive player) exitWith { player setVariable ["GHdlZHW",false,true]; player setVariable ["rZf",false,true]; player setVariable ["uEkcJLUYu",false,true]; detach player; }; if(vehicle player != player) then{ if(driver (vehicle player) == player) then {player action["eject",vehicle player];}; };};_pKlU = _GCX spawn {[player] joinSilent _this};waitUntil {scriptDone _pKlU};if(alive player) then { player switchMove "AmovPercMstpSlowWrflDnon_SaluteIn"; player setVariable ["GHdlZHW",false,true]; player setVariable ["rZf",false,true]; player setVariable ["uEkcJLUYu",false,true]; detach player;};if (!(_tRmy isEqualTo []) && ((group player) getVariable["HNCqyH",[]]) isEqualTo [] && (count(units (group player)) isEqualTo 1)) then { (group player) setVariable["HNCqyH",_tRmy,true]; if(zero_gang_flag getVariable["gangControl","-1"] == (_tRmy select 0)) then { zero_gang_flag setVariable["gangControlGroup",(group player), true]; };};