private['_vfL','_egO','_IFGr','_xKJt','_RuXB','_gahH','_LOJn','_GASO','_IiJ'];_vfL = param[0,ObjNull,[ObjNull]];if(isNull _vfL) exitWith {hint localize "STR_ISTR_Bolt_NotNear"};if(!(_vfL isKindOf "House_F")) exitWith {hint localize "STR_ISTR_Bolt_NotNear"};_egO = 1;while {true} do { if(!isClass(configFile >> "CfgVehicles" >> (typeOf _vfL) >> "AnimationSources" >> format["Door_%1_source",_egO])) exitWith {}; _egO = _egO + 1;};_IiJ = false;_IFGr = 0;switch (typeOf _vfL) do { case "Land_Research_HQ_F": {_RuXB = 0.005; _IiJ = true;}; default {_RuXB = 0.08;}};if(player distance (getMarkerPos "fed_reserve") < 20) then {_IiJ = true;};for "_i" from 1 to _egO do { _selPos = _vfL selectionPosition format["Door_%1_trigger",_i]; _worldSpace = _vfL modelToWorld _selPos; if(player distance _worldSpace < 5) exitWith {_IFGr = _i;};}; if(_IFGr isEqualTo 0) exitWith {hint localize "STR_Cop_NotaDoor"};RuqfuBIBK = true;closeDialog 0;disableSerialization;_LOJn = localize "STR_Cop_RepairingDoor";5 cutRsc ["QLM","PLAIN"];_gahH = uiNamespace getVariable "QLM";_progressBar = _gahH displayCtrl 38201;_GASO = _gahH displayCtrl 38202;_GASO ctrlSetText format["%2 (1%1)...","%",_LOJn];_progressBar progressSetPosition 0.01;_xKJt = 0.01;while {true} do { uisleep 0.26; if(isNull _gahH) then { 5 cutRsc ["QLM","PLAIN"]; _gahH = uiNamespace getVariable "QLM"; }; _xKJt = _xKJt + _RuXB; _progressBar progressSetPosition _xKJt; _GASO ctrlSetText format["%3 (%1%2)...",round(_xKJt * 100),"%",_LOJn]; if(_xKJt >= 1 || !alive player) exitWith {}; if(iqEbELlj) exitWith {};};RuqfuBIBK = false;5 cutText ["","PLAIN"];player playActionNow "stop";if(!alive player) exitWith {RuqfuBIBK = false;};if(iqEbELlj) exitWith {iqEbELlj = false; titleText[localize "STR_NOTF_ActionCancel","PLAIN"]; RuqfuBIBK = false;};RuqfuBIBK = false;_vfL setVariable[format["bis_disabled_Door_%1",_IFGr],1,true];_vfL animate [format["Door_%1_rot",_IFGr],0];