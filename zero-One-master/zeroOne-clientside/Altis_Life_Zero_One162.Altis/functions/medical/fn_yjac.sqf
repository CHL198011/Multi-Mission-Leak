private['_elX','_xgm','_oBqz','_dco','_BrH','_YygB','_ANML','_WBH','_pGB','_Rgpx','_sqI'];_elX = param[0,ObjNull,[ObjNull]];_sqI = 40000;if((_elX getVariable["ZiriOZh",""]) == independent) then {_sqI = 0;};if(isNull _elX) exitWith {};if(playerSide != independent) exitWith {};if(_elX getVariable["HRLubAWU",false]) exitWith {};if(_elX getVariable ["KlPD",ObjNull] == player) exitWith {hint localize "STR_Medic_AlreadyReviving";};if(player distance _elX > 5) exitWith {};_oBqz = _elX getVariable["fXFuzosIc","Unknown"];_WBH = format[localize "STR_Medic_Progress",_oBqz];RuqfuBIBK = true;_res = ["revive"] call zero_fnc_KTrFY;_Rgpx = _res select 0;_chance = _res select 1;_elX setVariable["KlPD",player,true];disableSerialization;5 cutRsc ["QLM","PLAIN"];_dco = uiNamespace getVariable ["QLM",displayNull];_BrH = _dco displayCtrl 38201;_YygB = _dco displayCtrl 38202;_YygB ctrlSetText format["%2 (1%1)...","%",_WBH];_BrH progressSetPosition 0.01;_ANML = 0.01;_badDistance = false;for "_i" from 0 to 100 step 1 do { if(animationState player != "AinvPknlMstpsnonWnonDnon_medic_1" ) then { player action ["SwitchWeapon", player, player, 100]; player playMove "AinvPknlMstpsnonWnonDnon_medic_1"; player playActionNow "stop"; player playMove "AinvPknlMstpsnonWnonDnon_medic_1"; player playActionNow "stop"; player playMove "AinvPknlMstpsnonWnonDnon_medic_1"; }; uiSleep _Rgpx; _ANML = _ANML + 0.01; _BrH progressSetPosition _ANML; _YygB ctrlSetText format["%3 (%1%2)...",round(_ANML * 100),"%",_WBH]; if(_ANML >= 1 OR !alive player) exitWith {}; if(iqEbELlj) exitWith {}; if(LpefeFfmA) exitWith {};  if((player getVariable["GHdlZHW",false])) exitWith {}; if(player distance _elX > 4) exitWith {_badDistance = true;}; if(_elX getVariable["HRLubAWU",false]) exitWith {}; if(_elX getVariable["KlPD",ObjNull] != player) exitWith {};};RuqfuBIBK = false;5 cutText ["","PLAIN"];player playActionNow "stop";if(_elX getVariable ["KlPD",ObjNull] != player) exitWith {hint localize "STR_Medic_AlreadyReviving";RuqfuBIBK = false;};_elX setVariable["KlPD",NIL,true];if(!alive player OR LpefeFfmA) exitWith {RuqfuBIBK = false;};if(_elX getVariable["HRLubAWU",false]) exitWith {hint localize "STR_Medic_RevivedRespawned";RuqfuBIBK = false;};if((player getVariable["GHdlZHW",false])) exitWith {RuqfuBIBK = false;};if(_badDistance) exitWith {titleText[localize "STR_Medic_TooFar","PLAIN"]; RuqfuBIBK = false;};if(iqEbELlj) exitWith {iqEbELlj = false; titleText[localize "STR_NOTF_ActionCancel","PLAIN"]; RuqfuBIBK = false;};[0, ([2, 0] call zero_fnc_JNHrfnI) + _sqI] call zero_fnc_JNHrfnI;RuqfuBIBK = false;_elX setVariable["HRLubAWU",true,true];_pGB = false;if(random(100) > _chance) then { hint "Der Patient hat noch weitere Verletzungen erhalten. Eine Nachbehandlung ist n√∂tig."; _pGB = true;};[profileName,_pGB] remoteExecCall ["zero_fnc_EEiN",_elX];titleText[format[localize "STR_Medic_RevivePayReceive",_oBqz,[_sqI] call zero_fnc_nAnP],"PLAIN"];["revive"] call zero_fnc_aCCCro;uiSleep 0.6;player reveal _elX;