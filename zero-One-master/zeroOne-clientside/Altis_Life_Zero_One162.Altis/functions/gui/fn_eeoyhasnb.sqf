if(dialog) exitWith {};wNvHeLx = param[0,ObjNull,[ObjNull]];if(isNull wNvHeLx) exitWith {};if((playerSide isEqualTo west || playerSide isEqualTo independent)) exitWith {};if((wNvHeLx getVariable["safe",-1]) < 1) exitWith {hint localize "STR_Civ_VaultEmpty";};if((wNvHeLx getVariable["inUse",false])) exitWith {hint localize "STR_Civ_VaultInUse"};if({(side _x) isEqualTo west} count playableUnits < 5) exitWith {hint localize "STR_Civ_NotEnoughCops"};if(!createDialog "vjGBIGiQX") exitWith {localize "STR_MISC_DialogError"};disableSerialization;ctrlSetText[3501,(localize "STR_Civ_SafeInv")];[wNvHeLx] call zero_fnc_tztKv;wNvHeLx setVariable["inUse",true,true];[wNvHeLx] spawn{ waitUntil {isNull (findDisplay 3500)}; (_this select 0) setVariable["inUse",false,true];};