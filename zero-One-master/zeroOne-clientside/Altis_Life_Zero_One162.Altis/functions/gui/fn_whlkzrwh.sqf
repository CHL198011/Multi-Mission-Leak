private['_yeZB','_kMp','_OYu'];if(!QOSphn) exitWith {hint localize "STR_NOTF_Transfer_Money";};if(QOSphn) then { QOSphn = false; [] spawn { uisleep 5; QOSphn = true; };};_kMp = call compile format["%1",(lbData[2703,(lbCurSel 2703)])];if(isNull _kMp) exitWith {};if((lbCurSel 2703) == -1) exitWith {hint localize "STR_ATM_NoneSelected";};if(isNil "_kMp") exitWith {hint localize "STR_ATM_DoesntExist";};_yeZB = parseNumber(ctrlText 2702);if(_yeZB > 999999) exitWith {hint localize "STR_ATM_TransferMax";};if(_yeZB < 0) exitwith {};if(!([str(_yeZB)] call zero_fnc_vRfhg)) exitWith {hint localize "STR_ATM_notnumeric"};if(_yeZB > ([2, 0] call zero_fnc_JNHrfnI)) exitWith {hint localize "STR_ATM_NotEnough"};_OYu = round(_yeZB / 15);if((_yeZB + _OYu) > ([2, 0] call zero_fnc_JNHrfnI)) exitWith {hint format[localize "STR_ATM_SentMoneyFail",_yeZB,_OYu]};[0, ([2, 0] call zero_fnc_JNHrfnI) - (_yeZB + _OYu)] call zero_fnc_JNHrfnI;[1] call zero_fnc_zAYQJ;[_yeZB,_kMp] spawn { uisleep 10; [_this select 0,profileName,(getPlayerUID player)] remoteExecCall ["zero_fnc_sOGUHNZbt",_this select 1];};[] call zero_fnc_MAhMhl;[format ["ATM TRANSACTION: %1 (%4) hat %2 an %3 (%5) gesendet.", player getVariable["aOsyc", name player], [_yeZB] call zero_fnc_nAnP, _kMp getVariable["aOsyc",name player], playerSide, side _kMp],"zo_log",false,false] call zero_fnc_fdEkiHoij;hint format[localize "STR_ATM_SentMoneySuccess",[_yeZB] call zero_fnc_nAnP,_kMp getVariable["aOsyc",name _kMp],[_OYu] call zero_fnc_nAnP];