private['_wRU','_ZjRI','_RxPd'];disableSerialization;if((lbCurSel 3502) == -1) exitWith {hint localize "STR_Civ_SelectItem";};_wRU = (lbData[3502,(lbCurSel 3502)]);_ZjRI = ctrlText 3505;_RxPd = wNvHeLx getVariable["safe",0];if(!([_ZjRI] call zero_fnc_uunyW)) exitWith {hint localize "STR_MISC_WrongNumFormat";};_ZjRI = parseNumber(_ZjRI);if(_ZjRI < 1) exitWith {hint localize "STR_Cop_VaultUnder1";};if(_wRU != "goldbar") exitWith {hint localize "STR_Cop_OnlyGold"};if(_ZjRI > _RxPd) exitWith {hint format[localize "STR_Civ_IsntEnoughGold",_ZjRI];};_ZjRI = [_wRU,_ZjRI,KtV,dZldvdq] call zero_fnc_Prk;if(_ZjRI == 0) exitWith {hint localize "STR_NOTF_InvFull"};if(!([true,_wRU,_ZjRI] call zero_fnc_VJhZQOJ)) exitWith {hint localize "STR_NOTF_CouldntAdd";};wNvHeLx setVariable["safe",_RxPd - _ZjRI,true];[wNvHeLx] call zero_fnc_tztKv;