private['_VSf','_qtUb','_MJG','_cOdQ','_RkRr','_fRdt'];_VSf = _this select 0;if(!(_VSf getVariable["safe_open",false])) exitWith {hint localize "STR_Cop_VaultLocked"};RuqfuBIBK = true;disableSerialization;_qtUb = localize "STR_Cop_RepairVault";5 cutRsc ["QLM","PLAIN"];_MJG = uiNamespace getVariable "QLM";_cOdQ = _MJG displayCtrl 38201;_RkRr = _MJG displayCtrl 38202;_RkRr ctrlSetText format["%2 (1%1)...","%",_qtUb];_cOdQ progressSetPosition 0.01;_fRdt = 0.01;while {true} do { uisleep 0.26; if(isNull _MJG) then { 5 cutRsc ["QLM","PLAIN"]; _MJG = uiNamespace getVariable "QLM"; _cOdQ = _MJG displayCtrl 38201; _RkRr = _MJG displayCtrl 38202; }; _fRdt = _fRdt + .012; _cOdQ progressSetPosition _fRdt; _RkRr ctrlSetText format["%3 (%1%2)...",round(_fRdt * 100),"%",_qtUb]; if(_fRdt >= 1 OR !alive player) exitWith {}; if(iqEbELlj) exitWith {};};RuqfuBIBK = false;5 cutText ["","PLAIN"];player playActionNow "stop";if(!alive player) exitWith {RuqfuBIBK = false;};if(iqEbELlj) exitWith {iqEbELlj = false; titleText[localize "STR_NOTF_ActionCancel","PLAIN"]; RuqfuBIBK = false;};RuqfuBIBK = false;_VSf setVariable["safe_open",false,true];hint localize "STR_Cop_VaultRepaired";