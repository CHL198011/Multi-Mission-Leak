private['_FmDy','_BDE','_oXPs','_Mos','_gUHf','_Zhr','_sIsv','_yhfI','_vSiL','_DEuw','_gxy','_bJz','_csOb','_CiM','_LLf','_anv','_nXnY','_LlwA','_ckR','_somB','_AGnY'];_FmDy = param[0,"",[""]];_Mos = -1;_gUHf = [];_Zhr = [];_yhfI = [];_vSiL = [];_sIsv = [];_DEuw = 0;_CiM = -1;_LLf = [];_anv = [];if(_FmDy == "") exitWith {[]};_BDE = if(isNil {_this select 1}) then { switch (true) do { case (isClass (configFile >> "CfgMagazines" >> _FmDy)) : {"CfgMagazines";}; case (isClass (configFile >> "CfgWeapons" >> _FmDy)) : {"CfgWeapons";}; case (isClass (configFile >> "CfgVehicles" >> _FmDy)) : {"CfgVehicles";}; case (isClass (configFile >> "CfgGlasses" >> _FmDy)) : {"CfgGlasses";}; };}else { _this select 1};_oXPs = [];if(typeName _BDE != "STRING") exitWith {[]};if(!isClass (configFile >> _BDE >> _FmDy)) exitWith {[]};if(_BDE == "") exitWith {[]};_csOb = configFile >> _BDE >> _FmDy;_gxy = getText(_csOb >> "displayName");_bJz = getText(_csOb >> "picture");_nXnY = getText(_csOb >> "descriptionshort");_somB = getText(_csOb >> "model");_ckR = getText(_csOb >> "uniformClass");_LlwA = inheritsFrom _csOb;switch (_BDE) do { case "CfgVehicles": { _Mos = getText(_csOb >> "vehicleClass"); _DEuw = getNumber(_csOb >> "scope"); }; case "CfgWeapons": { _DEuw = getNumber(_csOb >> "scope"); _Mos = getNumber(_csOb >> "type"); _nXnY = getText(_csOb >> "descriptionshort");  if(isClass (_csOb >> "WeaponSlotsInfo")) then { _gUHf = getArray(_csOb >> "WeaponSlotsInfo" >> "PointerSlot" >> "compatibleItems"); _Zhr = getArray(_csOb >> "WeaponSlotsInfo" >> "CowsSlot" >> "compatibleItems"); _yhfI = getArray(_csOb >> "WeaponSlotsInfo" >> "MuzzleSlot" >> "compatibleItems"); _vSiL = getArray(_csOb >> "WeaponSlotsInfo" >> "UnderBarrelSlot" >> "compatibleItems"); { for "_i" from 0 to (count(_x) - 1) do { _AGnY = _x select _i; if (isClass _AGnY) then { if !((configName _AGnY) in _sIsv) then { _sIsv set [count _sIsv, configName _AGnY]; }; }; }; } forEach ([_csOb>>"WeaponSlotsInfo"] call bis_fnc_returnParents); }; if(isClass (_csOb >> "ItemInfo")) then {_CiM = getNumber(_csOb >> "ItemInfo" >> "Type");}; _LLf = getArray(_csOb >> "muzzles"); _anv = getArray(_csOb >> "magazines"); if(!isNil {_LLf}) then { { if(_x != "this") then { _tmp = getArray(_LlwA >> _x >> "magazines"); { _anv pushBack _x; } foreach (_tmp); }; } foreach _LLf; }; }; case "CfgMagazines": { _DEuw = getNumber(_csOb >> "scope"); };};if(!isNil "_sIsv") then { _sIsv = _sIsv - ["MuzzleSlot"]; _sIsv = _sIsv - ["CowsSlot"]; _sIsv = _sIsv - ["PointerSlot"]; _sIsv = _sIsv - ["UnderBarrelSlot"];};_oXPs = [_FmDy,_gxy,_bJz,_DEuw,_Mos,_CiM,_BDE,_anv,_LLf,_nXnY,_gUHf,_Zhr,_yhfI,_LlwA,_sIsv,_somB,_ckR,_vSiL];_oXPs;