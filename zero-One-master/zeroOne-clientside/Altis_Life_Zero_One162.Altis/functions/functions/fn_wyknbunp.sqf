private['_LPoU','_SBCX','_KXF','_Okt','_ouPQ','_gISO','_wTv','_kwk','_bJW','_YLD','_OmQ','_mYmj','_QYk','_Mos','_STMo','_oPFJ','_Jvxf'];_LPoU = param[0,"",[""]];_KXF = param[1,false,[false]];_Okt = param[2,false,[false]];_wTv = param[3,false,[false]];_kwk = param[4,false,[false]];_bJW = param[5,false,[false]]; _YLD = param[6,false,[false]]; if(_LPoU == "") exitWith {};_gISO = false;_SBCX = [_LPoU] call zero_fnc_NKBUBCzsG;if(_SBCX isEqualTo []) exitWith {};if(_KXF) then{ switch((_SBCX select 6)) do { case "CfgGlasses": { if(_bJW) exitWith {player addItemToUniform _LPoU;}; if(_YLD) exitWith {player addItemToVest _LPoU;}; if(_Okt) then { player addItemToBackpack _LPoU; } else { if(_kwk) then { player addItem _LPoU; } else { if(goggles player != "") then { removeGoggles player; }; player addGoggles _LPoU; }; }; }; case "CfgVehicles": { if (_LPoU iskindof "Man") then { if(player isKindOf "Civilian") then { if(uniform player == (_SBCX select 16)) then { } else { if(uniform player != "") then { _ouPQ = uniformItems player; removeUniform player; }; player forceaddUniform (_SBCX select 16); if(!isNil "_ouPQ") then { {player addItemToUniform _x} foreach _ouPQ; }; }; } else { if(uniform player != "") then { _ouPQ = uniformItems player; removeUniform player; }; if(!(player isUniformAllowed (_SBCX select 16))) then { player forceAddUniform (_SBCX select 16); } else { player addUniform (_SBCX select 16); }; if(!isNil "_ouPQ") then { {player addItemToUniform _x} foreach _ouPQ; }; }; } else { if(backpack player != "") then { _ouPQ = (backpackItems player); removeBackpack player; }; player addBackpack _LPoU; clearAllItemsFromBackpack player; if(!isNil {_ouPQ}) then { {[_x,true,true,false,true] spawn zero_fnc_wykNbUNp; } foreach _ouPQ; }; }; }; case "CfgMagazines": { if(_bJW) exitWith {player addItemToUniform _LPoU;}; if(_YLD) exitWith {player addItemToVest _LPoU;}; if(_Okt) exitWith {player addItemToBackpack _LPoU;}; player addMagazine _LPoU; }; case "CfgWeapons": {  if(_bJW) exitWith {player addItemToUniform _LPoU;}; if(_YLD) exitWith {player addItemToVest _LPoU;}; if(_Okt) exitWith {player addItemToBackpack _LPoU;}; if((_SBCX select 4) in [1,2,4,5,4096]) then { if((_SBCX select 4) == 4096) then { if((_SBCX select 5) == -1) then { _gISO = true; }; } else { _gISO = true; }; }; if(_gISO) then { if(!_Okt && _kwk) exitWith {};  if(_LPoU == "MineDetector") then { player addItem _LPoU; } else { player addWeapon _LPoU; }; } else { switch(_SBCX select 5) do { case 0: { if(_Okt) then { player addItemToBackpack _LPoU; } else { if(_kwk) then { player addItem _LPoU; } else { if(_LPoU in (assignedItems player)) then { player addItem _LPoU; } else { player addItem _LPoU; player assignItem _LPoU; }; }; }; }; case 605: { if(_Okt) then { player addItemToBackpack _LPoU; } else { if(_kwk) then { player addItem _LPoU; } else { if(headGear player == _LPoU) then { if (player canadd _LPoU) then { player addItem _LPoU; }; } else { if(headGear player != "") then { removeHeadGear player; }; player addHeadGear _LPoU; }; }; }; }; case 801: { if(_Okt) then { player addItemToBackpack _LPoU; } else { if(_kwk) then { player addItem _LPoU; } else { if(player isKindOf "Civilian") then { if(uniform player == _LPoU) then { } else { if(uniform player != "") then { _ouPQ = uniformItems player; removeUniform player; }; player forceaddUniform _LPoU; if(!isNil "_ouPQ") then { {player addItemToUniform _x} foreach _ouPQ; }; }; } else { if(uniform player != "") then { _ouPQ = uniformItems player; removeUniform player; }; if(!(player isUniformAllowed _LPoU)) then { player forceAddUniform _LPoU; } else { player addUniform _LPoU; }; if(!isNil "_ouPQ") then { {player addItemToUniform _x} foreach _ouPQ; }; }; }; }; }; case 701: { if(_Okt) then { player addItemToBackpack _LPoU; } else { if(_kwk) then { player addItem _LPoU; } else { if(vest player isequalto _LPoU) then { } else { if(vest player != "") then { _ouPQ = vestItems player; removeVest player; }; player addVest _LPoU; if(!isNil {_ouPQ}) then { {[_x,true,false,false,true] spawn zero_fnc_wykNbUNp;} foreach _ouPQ; }; }; }; }; }; case 201: { if(_Okt) then { player addItemToBackpack _LPoU; } else { _Mos = [_LPoU,201] call zero_fnc_HMlG; if(_wTv) then { switch (_Mos) do { case 1: { player addPrimaryWeaponItem _LPoU; }; case 2: { player addSecondaryWeaponItem _LPoU; }; case 3: { player addHandgunItem _LPoU; }; }; } else { if(_kwk) then { player addItem _LPoU; } else { _OmQ = switch(_Mos) do {case 1:{primaryWeaponItems player}; case 2:{secondaryWeaponItems player}; case 3:{handgunItems player}; default {["","","",""]};}; _QYk = false; if(_OmQ select 2 != "") then {_QYk = true;}; if(_QYk) then { player addItem _LPoU;   } else { switch(_Mos) do { case 1: {player addPrimaryWeaponItem _LPoU;}; case 2: {player addSecondaryWeaponItem _LPoU;}; case 3: {player addHandgunItem _LPoU;}; default {player addItem _LPoU;}; }; }; }; }; }; }; case 301: { if(_Okt) then { player addItemToBackpack _LPoU; } else { _Mos = [_LPoU,301] call zero_fnc_HMlG; if(_wTv) then { switch (_Mos) do { case 1: { player addPrimaryWeaponItem _LPoU; }; case 2: { player addSecondaryWeaponItem _LPoU; }; case 3: { player addHandgunItem _LPoU; }; }; } else { if(_kwk) then { player addItem _LPoU; } else { _OmQ = switch(_Mos) do {case 1:{primaryWeaponItems player}; case 2:{secondaryWeaponItems player}; case 3:{handgunItems player}; default {["","","",""]};}; _QYk = false; if(_OmQ select 1 != "") then {_QYk = true;}; if(_QYk) then { player addItem _LPoU; } else { switch(_Mos) do { case 1: {player addPrimaryWeaponItem _LPoU;}; case 2: {player addSecondaryWeaponItem _LPoU;}; case 3: {player addHandgunItem _LPoU;}; default {player addItem _LPoU;}; }; }; }; }; }; }; case 302: { if(_Okt) then { player addItemToBackpack _LPoU; } else { _Mos = [_LPoU,302] call zero_fnc_HMlG; if(_wTv) then { switch (_Mos) do { case 1: { player addPrimaryWeaponItem _LPoU; }; case 2: { player addSecondaryWeaponItem _LPoU; }; case 3: { player addHandgunItem _LPoU; }; }; } else { if(_kwk) then { player addItem _LPoU; } else { _OmQ = switch(_Mos) do {case 1:{primaryWeaponItems player}; case 2:{secondaryWeaponItems player}; case 3:{handgunItems player}; default {["","","",""]};}; _QYk = false; if(_OmQ select 3 != "") then {_QYk = true;}; if(_QYk) then { player addItem _LPoU; } else { switch(_Mos) do { case 1: {player addPrimaryWeaponItem _LPoU;}; case 2: {player addSecondaryWeaponItem _LPoU;}; case 3: {player addHandgunItem _LPoU;}; default {player addItem _LPoU;}; }; }; }; }; }; }; case 101: { if(_Okt) then { player addItemToBackpack _LPoU; } else { _Mos = [_LPoU,101] call zero_fnc_HMlG; if(_wTv) then { switch (_Mos) do { case 1: { player addPrimaryWeaponItem _LPoU; }; case 2: { player addSecondaryWeaponItem _LPoU; }; case 3: { player addHandgunItem _LPoU; }; }; } else { if(_kwk) then { player addItem _LPoU; } else { _OmQ = switch(_Mos) do {case 1:{primaryWeaponItems player}; case 2:{secondaryWeaponItems player}; case 3:{handgunItems player}; default {["","","",""]};}; _QYk = false; if(_OmQ select 0 != "") then {_QYk = true;}; if(_QYk) then { player addItem _LPoU; } else { switch(_Mos) do { case 1: {player addPrimaryWeaponItem _LPoU;}; case 2: {player addSecondaryWeaponItem _LPoU;}; case 3: {player addHandgunItem _LPoU;}; default {player addItem _LPoU;}; }; }; }; }; }; }; case 621: { if(_Okt) then { player addItemToBackpack _LPoU; } else { if(_kwk) then { player addItem _LPoU; } else { player addItem _LPoU; player assignItem _LPoU; }; }; }; case 616: { if(_Okt) then { player addItemToBackpack _LPoU; } else { if(_kwk) then { player addItem _LPoU; } else { player addItem _LPoU; player assignItem _LPoU; }; }; }; default { if(_Okt) then { player addItemToBackpack _LPoU; } else { player addItem _LPoU; }; }; }; }; }; };} else{ switch((_SBCX select 6)) do { case "CfgVehicles": { removeBackpack player; }; case "CfgMagazines": { player removeMagazine _LPoU; }; case "CfgGlasses": { if(_LPoU == goggles player) then { removeGoggles player; } else { player removeItem _LPoU; }; }; case "CfgWeapons": { if((_SBCX select 4) in [1,2,4,5,4096]) then { if((_SBCX select 4) == 4096) then { if((_SBCX select 5) == -1) then { _gISO = true; }; } else { _gISO = true; }; }; if(_gISO) then { switch(true) do { case (primaryWeapon player == _LPoU) : {_Okt = false;}; case (secondaryWeapon player == _LPoU) : {_Okt = false;}; case (handGunweapon player == _LPoU) : {_Okt = false;}; case (_LPoU in assignedItems player) : {_Okt = false;}; default {_Okt = true;}; }; if(_LPoU == "MineDetector") then { player removeItem _LPoU; } else { _Jvxf = { switch(true) do { case (_this in (uniformItems player)): { _STMo = (getWeaponCargo (uniformContainer player)) select 0; _oPFJ = (getWeaponCargo (uniformContainer player)) select 1; clearWeaponCargo (uniformContainer player); { _numVestWeps = _oPFJ select _forEachIndex; if(_x == _this) then { _numVestWeps = _numVestWeps - 1; }; (uniformContainer player) addWeaponCargo [ _x,_numVestWeps]; }forEach _STMo; }; case (_this in (vestItems player)): { _STMo = (getWeaponCargo (vestContainer player)) select 0; _oPFJ = (getWeaponCargo (vestContainer player)) select 1; clearWeaponCargo (vestContainer player); { _numVestWeps = _oPFJ select _forEachIndex; if(_x == _this) then { _numVestWeps = _numVestWeps - 1; }; (vestContainer player) addWeaponCargo [ _x,_numVestWeps]; }forEach _STMo; }; case (_this in (backpackItems player)): { _STMo = (getWeaponCargo (backpackContainer player)) select 0; _oPFJ = (getWeaponCargo (backpackContainer player)) select 1; clearWeaponCargo (backpackContainer player); { _numVestWeps = _oPFJ select _forEachIndex; if(_x == _this) then { _numVestWeps = _numVestWeps - 1; }; (backpackContainer player) addWeaponCargo [ _x,_numVestWeps]; }forEach _STMo; }; }; }; if(_Okt) then { _LPoU call _Jvxf; } else { switch(true) do { case (_LPoU in (uniformItems player)): {_LPoU call _Jvxf;}; case (_LPoU in (vestItems player)) : {_LPoU call _Jvxf;}; case (_LPoU in (backpackItems player)) : {_LPoU call _Jvxf;}; default {player removeWeapon _LPoU;}; }; }; }; } else { switch((_SBCX select 5)) do { case 0: {player unassignItem _LPoU; player removeItem _LPoU;}; case 605: {if(headGear player == _LPoU) then {removeHeadgear player} else {player removeItem _LPoU};}; case 801: {if(uniform player == _LPoU) then {removeUniform player} else {player removeItem _LPoU};}; case 701: {if(vest player == _LPoU) then {removeVest player} else {player removeItem _LPoU};}; case 621: {player unassignItem _LPoU; player removeItem _LPoU;}; case 616: {player unassignItem _LPoU; player removeItem _LPoU;}; default { switch (true) do { case (_LPoU in (primaryWeaponItems player)) : {player removePrimaryWeaponItem _LPoU;}; case (_LPoU in (handgunItems player)) : {player removeHandgunItem _LPoU;}; default {player removeItem _LPoU;}; }; }; }; }; }; };};