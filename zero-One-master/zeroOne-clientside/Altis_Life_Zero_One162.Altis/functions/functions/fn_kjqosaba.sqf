private['_kMp','_LPoU','_JVwJ','_SBCX','_mYmj','_Lxw','_ouPQ'];_kMp = param[0,ObjNull,[ObjNull]];_JVwJ = param[1,ObjNull,[ObjNull]];_LPoU = param[2,"",[""]];if(isNull _kMp || isNull _JVwJ || _LPoU == "") exitWith {};if(zero_playerSide isEqualTo civilian && (typeOf _JVwJ) != "O_CargoNet_01_ammo_F" && {_LPoU in ["srifle_DMR_05_blk_F","srifle_DMR_05_tan_F","srifle_DMR_05_hex_F","LMG_Mk200_F","LMG_Zafir_F","MMG_01_hex_F","MMG_01_tan_F","MMG_02_black_F","MMG_02_camo_F","MMG_02_sand_F","srifle_DMR_02_F","srifle_DMR_02_camo_F","srifle_DMR_02_sniper_F","srifle_LRR_F","srifle_LRR_camo_F","srifle_GM6_F","srifle_GM6_camo_F","srifle_DMR_04_F","srifle_DMR_04_tan_F"]}) exitWith { hint "Du kannst die Waffe als Zivilist nicht benutzen!"; titleText["Du kannst die Waffe als Zivilist nicht benutzen!","PLAIN"]; _holder = createVehicle ["GroundWeaponHolder", position player, [], 0, "CAN_COLLIDE"]; _holder addWeaponCargoGlobal [_LPoU, 1]; player removeWeaponGlobal (_LPoU); {if((weaponCargo _x) isEqualTo []) then {deleteVehicle _x}} foreach (nearestObjects[position player,["GroundWeaponHolder"],3]);};if(toLower(_LPoU) in ["laserdesignator"] && playerSide != west) exitWith { [_LPoU,false,false,false,false] spawn zero_fnc_wykNbUNp;};_SBCX = [_LPoU] call zero_fnc_NKBUBCzsG;if(count _SBCX >= 16 && {(_SBCX select 6) == "CfgWeapons" && (_SBCX select 5) == 801}) then { if(!(player isUniformAllowed _LPoU)) then { if(uniform player != "") then { _Lxw = []; _mYmj = [ format["MÃ¶chtest du die Uniform %1 direkt anziehen? Deine alte Uniform wird entfernt!",_SBCX select 1], format["Uniform direkt anziehen"], localize "STR_Global_Yes", localize "STR_Global_No" ] call BIS_fnc_guiMessage; if(!_mYmj) exitWith {}; _ouPQ = uniformItems player; removeUniform player; _rucksackinhalt = backpackItems player; _rucksackinhalt deleteAt (_rucksackinhalt find _LPoU); clearAllItemsFromBackpack player; {player addItemToBackpack _x}foreach _rucksackinhalt; player forceaddUniform _LPoU; if(!isNil "_ouPQ") then { {player addItemToUniform _x} foreach _ouPQ; }; }else{ player forceAddUniform _LPoU; _rucksackinhalt = backpackItems player; _rucksackinhalt deleteAt (_rucksackinhalt find _LPoU); clearAllItemsFromBackpack player; {player addItemToBackpack _x;}foreach _rucksackinhalt; }; };};