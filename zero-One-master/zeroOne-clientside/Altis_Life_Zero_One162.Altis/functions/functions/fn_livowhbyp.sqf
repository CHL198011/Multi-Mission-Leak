if (isserver) exitwith {};private['_slk','_GWoh','_QdBT','_cPYE','_waw','_IslW'];_slk = _this select 0;_IslW = _this select 2;if(isNil "_slk" OR isNull _slk OR !(_slk getVariable "lights")) exitWith {};if((attachedObjects _slk) isEqualTo []) exitWith {};if(isNull((attachedObjects _slk) select 0)) exitWith {};if(isNull((attachedObjects _slk) select 1)) exitWith {};_GWoh = (attachedObjects _slk) select 0;_GWoh setLightColor _IslW;_GWoh setLightBrightness 0.2;_GWoh setLightAmbient [0.1,0.1,1];_GWoh setLightAttenuation [0.181, 0, 1000, 250];_GWoh setLightIntensity 10;_GWoh setLightFlareSize 0.38;_GWoh setLightFlareMaxDistance 150;_GWoh setLightUseFlare true;_QdBT = (attachedObjects _slk) select 1;_QdBT setLightColor _IslW;_QdBT setLightBrightness 0.2;_QdBT setLightAmbient [0.1,0.1,1];_QdBT setLightAttenuation [0.181, 0, 1000, 130];_QdBT setLightIntensity 10;_QdBT setLightFlareSize 0.38;_QdBT setLightFlareMaxDistance 150;_QdBT setLightUseFlare true;_GWoh setLightDayLight true;_QdBT setLightDayLight true;_cPYE = true;while {(alive _slk) && (_slk getVariable ["lights",false])} do { if (sunOrMoon > 0.75) then { _waw = 10; } else { _waw = 2; }; if(_cPYE) then { _cPYE = false; _QdBT setLightBrightness 0.0; uisleep 0.05; _GWoh setLightBrightness _waw; } else { _cPYE = true; _GWoh setLightBrightness 0.0; uisleep 0.05; _QdBT setLightBrightness _waw; }; uisleep (_this select 1);};_QdBT setLightBrightness 0.0;_GWoh setLightBrightness 0.0;