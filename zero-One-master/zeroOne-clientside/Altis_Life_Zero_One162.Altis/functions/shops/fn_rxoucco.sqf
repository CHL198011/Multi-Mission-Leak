private['_kTg','_KLT','_rEEm','_TcqU','_GGwj','_tZR','_YXMW','_vSHu','_Vwm','_vmcf','_AAR','_kArw','_ooa','_MaU','_Jue','_Pgg','_HosL'];createDialog "GoS";disableSerialization;if(((_this select 3) select 0) == "reb" && !CqwkkuJA) exitWith {hint localize "STR_Shop_NotaReb"; closeDialog 0;};if(((_this select 3) select 0) == "opfor" && (zero_playerSide != east)) exitWith { hint "Kein Rebelle (Opfor)"; closeDialog 0;};hcCmEo = (_this select 3) select 0;_shop = (_this select 3) select 1;ctrlSetText[3101,(_this select 3) select 2];(findDisplay 3100) displayCtrl 3106 ctrlEnable false;_tZR = (missionNamespace getVariable ((["kleider",0] call zero_fnc_kybNG) select 0));if ((isnil "_tZR") or (playerside in [west,independent]) ) then {_tZR = true};_YXMW = (missionNamespace getVariable ((["hut",0] call zero_fnc_kybNG) select 0));if ((isnil "_YXMW") or (playerside in [west,independent]) ) then {_YXMW = true};_vSHu = (missionNamespace getVariable ((["glass",0] call zero_fnc_kybNG) select 0));if ((isnil "_vSHu") or (playerside in [west,independent]) ) then {_vSHu = true};_Vwm = (missionNamespace getVariable ((["vest",0] call zero_fnc_kybNG) select 0));if ((isnil "_Vwm") or (playerside in [west,independent]) ) then {_Vwm = true};_vmcf = (missionNamespace getVariable ((["rucksack",0] call zero_fnc_kybNG) select 0));if ((isnil "_vmcf") or (playerside in [west,independent]) ) then {_vmcf = true};_AAR = (missionNamespace getVariable ((["gun",0] call zero_fnc_kybNG) select 0));if(((_this select 3) select 0) == "gang") then {_AAR = true};if ((isnil "_AAR") or (playerside in [west,independent]) or CqwkkuJA ) then {_AAR = true};_kArw = (missionNamespace getVariable ((["item",0] call zero_fnc_kybNG) select 0));if ((isnil "_kArw") or (playerside in [west,independent]) ) then {_kArw = true};_ooa = (missionNamespace getVariable ((["dive",0] call zero_fnc_kybNG) select 0));if ((isnil "_ooa") or (playerside in [west,independent]) ) then {_ooa = true};_MaU = (missionNamespace getVariable ((["kart",0] call zero_fnc_kybNG) select 0));if ((isnil "_MaU") or (playerside in [west,independent]) ) then {_MaU = true};_Jue = (missionNamespace getVariable ((["god",0] call zero_fnc_kybNG) select 0));if ((isnil "_Jue") or (playerside in [west,independent]) ) then {_Jue = true};if(isNull (findDisplay 3100)) exitWith {};_kTg = (findDisplay 3100) displayCtrl 3102;_TcqU = (findDisplay 3100) displayCtrl 3103;_Pgg = (group player) getVariable ["HNCqyH",[]];if(_Pgg isEqualTo [] || {(typeName (_Pgg select(count _Pgg -1)) == "BOOL")}) then { ctrlEnable[3110,false];}else{ _HosL = [getPlayerUID player, _Pgg select 3] call zero_fnc_oKzQhZKu; if(_HosL isEqualTo -1) then { ctrlEnable[3110,false]; }else{ if((((_Pgg select 3) select _HosL) select 1) isEqualTo 0) then { ctrlEnable[3110,false]; }; };};lbClear _TcqU;lbClear _kTg;if ("c" in _shop && _tZR) then {_TcqU lbAdd localize "STR_Shop_UI_Clothing";};if ("h" in _shop && _YXMW) then {_TcqU lbAdd localize "STR_Shop_UI_Hats";};if ("g" in _shop && _vSHu) then {_TcqU lbAdd localize "STR_Shop_UI_Glasses";};if ("v" in _shop && _Vwm) then {_TcqU lbAdd localize "STR_Shop_UI_Vests";};if ("b" in _shop && _vmcf) then {_TcqU lbAdd localize "STR_Shop_UI_Backpack";};if ("w" in _shop && _AAR) then {_TcqU lbAdd localize "STR_Shop_Weapon";};if ("i" in _shop && _kArw) then {_TcqU lbAdd localize "STR_Shop_Item";};if ("d" in _shop && _ooa) then {_TcqU lbAdd localize "STR_Shop_Dive";};if ("k" in _shop && _MaU) then {_TcqU lbAdd localize "STR_Shop_kart";};if ("god" in _shop && _Jue) then {_TcqU lbAdd localize "STR_Shop_god";};_TcqU lbSetCurSel 0;_kTg lbSetCurSel 0;waitUntil {isNull (findDisplay 3100)};[] call zero_fnc_LAgHtB;