disableSerialization;private['_GGwj','_KxLl','_CEQJ','_AXNd','_Glm','_Hnqh','_eRPo','_SMoR','_ucrh','_slk','_qUNP'];_SMoR = ((findDisplay 39400) displayCtrl 39402);if((lbCurSel _SMoR) == -1) exitWith {hint"Du hast nichts ausgewählt!"};_ucrh = _SMoR lbValue (lbCurSel _SMoR);_slk = _SMoR lbData (lbCurSel _SMoR);_qUNP = _SMoR lbText(lbCurSel _SMoR);_slk = call compile format["%1", _slk];_Hnqh = nearestObjects [UPzvYHz,["Car","Truck","Air"],25];_slk = _Hnqh select _slk;if(isNil {_slk}) exitWith {};if(!((crew _slk) isEqualTo [])) exitWith {hint "Das Fahrzeug muss leer sein.";};if(!(_slk in YPCst) && playerSide != west) exitWith {hint "Du brauchst den Schlüssel um das Fahrzeug zu verkaufen!"};_GGwj = false;_KxLl = (position player);closeDialog 0;if(player getVariable "GHdlZHW") exitWith {};5 cutRsc ["QLM","PLAIN"];_CEQJ = uiNameSpace getVariable "QLM";_AXNd = _CEQJ displayCtrl 38201;_Glm = _CEQJ displayCtrl 38202;_Glm ctrlSetText format["Bleibe in einem Radius von 10m (1%1)...","%"];_AXNd progressSetPosition 0.01;_eRPo = 0.02;while{true} do { uisleep 0.85; _eRPo = _eRPo + 0.02; _AXNd progressSetPosition _eRPo; _Glm ctrlSetText format["Bleibe in einem Radius von 10m (%1%2)...",round(_eRPo * 100),"%"]; if(_eRPo >= 1) exitWith {5 cutText ["","PLAIN"];}; if(player distance _KxLl > 10.5) exitWith {5 cutText ["","PLAIN"]; _GGwj = true; hint "Du bist zu weit weg gelaufen. !";}; if!(alive player) exitWith {5 cutText ["","PLAIN"]; _GGwj = true;}; if(player getVariable "GHdlZHW") exitWith {5 cutText ["","PLAIN"]; _GGwj = true;};};if(!_GGwj) then { if(playerSide isEqualTo west) then { _slk setDamage 1.356260; } else { [_slk,_qUNP,_ucrh] call zero_fnc_iZARljg; };};