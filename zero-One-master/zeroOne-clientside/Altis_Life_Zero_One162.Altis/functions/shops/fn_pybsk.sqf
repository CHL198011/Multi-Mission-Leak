private['_Hnqh','_jWwF','_IIj','_WMW','_nEPR','_FxfT'];if(RuqfuBIBK) exitWith {hint localize "STR_NOTF_ActionInProc"};disableSerialization;_Hnqh = nearestObjects [getMarkerPos (_this select 3),["Car","Truck"],25];if(_Hnqh isEqualTo []) exitWith {hint localize "STR_Shop_NoVehNear"};if(!(createDialog "Fsg")) exitWith {hint localize "STR_Shop_ChopShopError"};UPzvYHz = getMarkerPos (_this select 3);_jWwF = ((findDisplay 39400) displayCtrl 39402);{ if(alive _x && (crew _x) isEqualTo []) then { _IIj = typeOf _x; _WMW = getText(configFile >> "CfgVehicles" >> _IIj >> "displayName"); _nEPR = getText(configFile >> "CfgVehicles" >> _IIj >> "picture"); _FxfT = round(getNumber(missionConfigFile >> "zero_CfgVehicles" >> _IIj >> "garage_sell") * 0.4); if (_FxfT > 3000000) then {_FxfT = 3000000;}; _jWwF lbAdd _WMW; _jWwF lbSetData [(lbSize _jWwF)-1,str(_forEachIndex)]; _jWwF lbSetPicture [(lbSize _jWwF)-1,_nEPR]; _jWwF lbSetValue [(lbSize _jWwF)-1,_FxfT]; };} forEach _Hnqh;